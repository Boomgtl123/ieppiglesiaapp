var tx=Object.defineProperty;var nx=(t,e,n)=>e in t?tx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>(nx(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VE={exports:{}},Kh={},FE={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),rx=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),ax=Symbol.for("react.provider"),lx=Symbol.for("react.context"),ux=Symbol.for("react.forward_ref"),cx=Symbol.for("react.suspense"),hx=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),w0=Symbol.iterator;function fx(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var jE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,zE={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||jE}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BE(){}BE.prototype=Oo.prototype;function Jm(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||jE}var Zm=Jm.prototype=new BE;Zm.constructor=Jm;UE(Zm,Oo.prototype);Zm.isPureReactComponent=!0;var _0=Array.isArray,WE=Object.prototype.hasOwnProperty,eg={current:null},HE={key:!0,ref:!0,__self:!0,__source:!0};function qE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)WE.call(e,r)&&!HE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xl,type:t,key:s,ref:o,props:i,_owner:eg.current}}function px(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function mx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E0=/\/+/g;function yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mx(""+t.key):e.toString(36)}function yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xl:case rx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yf(o,0):r,_0(i)?(n="",t!=null&&(n=t.replace(E0,"$&/")+"/"),yc(i,e,n,"",function(c){return c})):i!=null&&(tg(i)&&(i=px(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yf(s,a);o+=yc(s,e,n,l,i)}else if(l=fx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yf(s,a++),o+=yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,n){if(t==null)return t;var r=[],i=0;return yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},wc={transition:null},vx={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:wc,ReactCurrentOwner:eg};function GE(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:zu,forEach:function(t,e,n){zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Oo;le.Fragment=ix;le.Profiler=ox;le.PureComponent=Jm;le.StrictMode=sx;le.Suspense=cx;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vx;le.act=GE;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WE.call(e,l)&&!HE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xl,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:lx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ax,_context:t},t.Consumer=t};le.createElement=qE;le.createFactory=function(t){var e=qE.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:ux,render:t}};le.isValidElement=tg;le.lazy=function(t){return{$$typeof:dx,_payload:{_status:-1,_result:t},_init:gx}};le.memo=function(t,e){return{$$typeof:hx,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};le.unstable_act=GE;le.useCallback=function(t,e){return jt.current.useCallback(t,e)};le.useContext=function(t){return jt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};le.useEffect=function(t,e){return jt.current.useEffect(t,e)};le.useId=function(){return jt.current.useId()};le.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return jt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};le.useRef=function(t){return jt.current.useRef(t)};le.useState=function(t){return jt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return jt.current.useTransition()};le.version="18.3.1";FE.exports=le;var z=FE.exports;const M=Xt(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=z,wx=Symbol.for("react.element"),_x=Symbol.for("react.fragment"),Ex=Object.prototype.hasOwnProperty,Tx=yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sx={key:!0,ref:!0,__self:!0,__source:!0};function KE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ex.call(e,r)&&!Sx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wx,type:t,key:s,ref:o,props:i,_owner:Tx.current}}Kh.Fragment=_x;Kh.jsx=KE;Kh.jsxs=KE;VE.exports=Kh;var k=VE.exports,pp={},YE={exports:{}},ln={},QE={exports:{}},XE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var X=U.length;U.push(Y);e:for(;0<X;){var ae=X-1>>>1,ue=U[ae];if(0<i(ue,Y))U[ae]=Y,U[X]=ue,X=ae;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],X=U.pop();if(X!==Y){U[0]=X;e:for(var ae=0,ue=U.length,Be=ue>>>1;ae<Be;){var tt=2*(ae+1)-1,bt=U[tt],mt=tt+1,Jt=U[mt];if(0>i(bt,X))mt<ue&&0>i(Jt,bt)?(U[ae]=Jt,U[mt]=X,ae=mt):(U[ae]=bt,U[tt]=X,ae=tt);else if(mt<ue&&0>i(Jt,X))U[ae]=Jt,U[mt]=X,ae=mt;else break e}}return Y}function i(U,Y){var X=U.sortIndex-Y.sortIndex;return X!==0?X:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,_=!1,y=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=U)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function x(U){if(y=!1,S(U),!_)if(n(l)!==null)_=!0,te(N);else{var Y=n(c);Y!==null&&oe(x,Y.startTime-U)}}function N(U,Y){_=!1,y&&(y=!1,E(w),w=-1),g=!0;var X=f;try{for(S(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||U&&!R());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var ue=ae(d.expirationTime<=Y);Y=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),S(Y)}else r(l);d=n(l)}if(d!==null)var Be=!0;else{var tt=n(c);tt!==null&&oe(x,tt.startTime-Y),Be=!1}return Be}finally{d=null,f=X,g=!1}}var O=!1,b=null,w=-1,T=5,A=-1;function R(){return!(t.unstable_now()-A<T)}function D(){if(b!==null){var U=t.unstable_now();A=U;var Y=!0;try{Y=b(!0,U)}finally{Y?C():(O=!1,b=null)}}else O=!1}var C;if(typeof v=="function")C=function(){v(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ne=q.port2;q.port1.onmessage=D,C=function(){ne.postMessage(null)}}else C=function(){P(D,0)};function te(U){b=U,O||(O=!0,C())}function oe(U,Y){w=P(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,te(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var X=f;f=Y;try{return U()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=f;f=U;try{return Y()}finally{f=X}},t.unstable_scheduleCallback=function(U,Y,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=X+ue,U={id:h++,callback:Y,priorityLevel:U,startTime:X,expirationTime:ue,sortIndex:-1},X>ae?(U.sortIndex=X,e(c,U),n(l)===null&&U===n(c)&&(y?(E(w),w=-1):y=!0,oe(x,X-ae))):(U.sortIndex=ue,e(l,U),_||g||(_=!0,te(N))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var Y=f;return function(){var X=f;f=Y;try{return U.apply(this,arguments)}finally{f=X}}}})(XE);QE.exports=XE;var bx=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=z,on=bx;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,cl={};function ys(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(cl[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,Ax=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},S0={};function Px(t){return mp.call(S0,t)?!0:mp.call(T0,t)?!1:Ax.test(t)?S0[t]=!0:(T0[t]=!0,!1)}function Cx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xx(t,e,n,r){if(e===null||typeof e>"u"||Cx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var ng=/[\-:]([a-z])/g;function rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ng,rg);_t[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ng,rg);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ng,rg);_t[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xx(e,n,i,r)&&(n=null),r||i===null?Px(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=Ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),js=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),eT=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),tT=Symbol.for("react.offscreen"),b0=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=b0&&t[b0]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,wf;function $a(t){if(wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wf=e&&e[1]||""}return`
`+wf+t}var _f=!1;function Ef(t,e){if(!t||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function Rx(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=Ef(t.type,!1),t;case 11:return t=Ef(t.type.render,!1),t;case 1:return t=Ef(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case js:return"Portal";case gp:return"Profiler";case sg:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eT:return(t.displayName||"Context")+".Consumer";case ZE:return(t._context.displayName||"Context")+".Provider";case og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ag:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function kx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dx(t){var e=nT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wu(t){t._valueTracker||(t._valueTracker=Dx(t))}function rT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iT(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function Ep(t,e){iT(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function Zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Va(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function sT(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function C0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,aT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nx=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(t){Nx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ga[e]=Ga[t]})});function lT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ga.hasOwnProperty(t)&&Ga[t]?(""+e).trim():e+"px"}function uT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ox=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(t,e){if(e){if(Ox[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cp=null,eo=null,to=null;function x0(t){if(t=eu(t)){if(typeof Cp!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Zh(e),Cp(t.stateNode,t.type,e))}}function cT(t){eo?to?to.push(t):to=[t]:eo=t}function hT(){if(eo){var t=eo,e=to;if(to=eo=null,x0(t),e)for(t=0;t<e.length;t++)x0(e[t])}}function dT(t,e){return t(e)}function fT(){}var Tf=!1;function pT(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return dT(t,e,n)}finally{Tf=!1,(eo!==null||to!==null)&&(fT(),hT())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var xp=!1;if(yr)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{xp=!1}function Mx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ka=!1,qc=null,Gc=!1,Rp=null,Lx={onError:function(t){Ka=!0,qc=t}};function $x(t,e,n,r,i,s,o,a,l){Ka=!1,qc=null,Mx.apply(Lx,arguments)}function Vx(t,e,n,r,i,s,o,a,l){if($x.apply(this,arguments),Ka){if(Ka){var c=qc;Ka=!1,qc=null}else throw Error(j(198));Gc||(Gc=!0,Rp=c)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R0(t){if(ws(t)!==t)throw Error(j(188))}function Fx(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return R0(i),t;if(s===r)return R0(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function gT(t){return t=Fx(t),t!==null?vT(t):null}function vT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vT(t);if(e!==null)return e;t=t.sibling}return null}var yT=on.unstable_scheduleCallback,k0=on.unstable_cancelCallback,jx=on.unstable_shouldYield,Ux=on.unstable_requestPaint,He=on.unstable_now,zx=on.unstable_getCurrentPriorityLevel,ug=on.unstable_ImmediatePriority,wT=on.unstable_UserBlockingPriority,Kc=on.unstable_NormalPriority,Bx=on.unstable_LowPriority,_T=on.unstable_IdlePriority,Yh=null,Yn=null;function Wx(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:Gx,Hx=Math.log,qx=Math.LN2;function Gx(t){return t>>>=0,t===0?32:31-(Hx(t)/qx|0)|0}var qu=64,Gu=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fa(a):(s&=o,s!==0&&(r=Fa(s)))}else o=n&~i,o!==0?r=Fa(o):s!==0&&(r=Fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),i=1<<n,r|=t[n],e&=~i;return r}function Kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Kx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ET(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function Sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function Qx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function TT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ST,hg,bT,IT,AT,Dp=!1,Ku=[],Zr=null,ei=null,ti=null,fl=new Map,pl=new Map,Wr=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D0(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function Pa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eu(e),e!==null&&hg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jx(t,e,n,r,i){switch(e){case"focusin":return Zr=Pa(Zr,t,e,n,r,i),!0;case"dragenter":return ei=Pa(ei,t,e,n,r,i),!0;case"mouseover":return ti=Pa(ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fl.set(s,Pa(fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,Pa(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function PT(t){var e=Bi(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=mT(n),e!==null){t.blockedOn=e,AT(t.priority,function(){bT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pp=r,n.target.dispatchEvent(r),Pp=null}else return e=eu(n),e!==null&&hg(e),t.blockedOn=n,!1;e.shift()}return!0}function N0(t,e,n){_c(t)&&n.delete(e)}function Zx(){Dp=!1,Zr!==null&&_c(Zr)&&(Zr=null),ei!==null&&_c(ei)&&(ei=null),ti!==null&&_c(ti)&&(ti=null),fl.forEach(N0),pl.forEach(N0)}function Ca(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,Zx)))}function ml(t){function e(i){return Ca(i,t)}if(0<Ku.length){Ca(Ku[0],t);for(var n=1;n<Ku.length;n++){var r=Ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&Ca(Zr,t),ei!==null&&Ca(ei,t),ti!==null&&Ca(ti,t),fl.forEach(e),pl.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)PT(n),n.blockedOn===null&&Wr.shift()}var no=xr.ReactCurrentBatchConfig,Qc=!0;function eR(t,e,n,r){var i=ye,s=no.transition;no.transition=null;try{ye=1,dg(t,e,n,r)}finally{ye=i,no.transition=s}}function tR(t,e,n,r){var i=ye,s=no.transition;no.transition=null;try{ye=4,dg(t,e,n,r)}finally{ye=i,no.transition=s}}function dg(t,e,n,r){if(Qc){var i=Np(t,e,n,r);if(i===null)Nf(t,e,r,Xc,n),D0(t,r);else if(Jx(i,t,e,n,r))r.stopPropagation();else if(D0(t,r),e&4&&-1<Xx.indexOf(t)){for(;i!==null;){var s=eu(i);if(s!==null&&ST(s),s=Np(t,e,n,r),s===null&&Nf(t,e,r,Xc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nf(t,e,r,null,n)}}var Xc=null;function Np(t,e,n,r){if(Xc=null,t=lg(r),t=Bi(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xc=t,null}function CT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zx()){case ug:return 1;case wT:return 4;case Kc:case Bx:return 16;case _T:return 536870912;default:return 16}default:return 16}}var Qr=null,fg=null,Ec=null;function xT(){if(Ec)return Ec;var t,e=fg,n=e.length,r,i="value"in Qr?Qr.value:Qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ec=i.slice(t,1<r?1-r:void 0)}function Tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function O0(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yu:O0,this.isPropagationStopped=O0,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=un(Mo),Zl=Le({},Mo,{view:0,detail:0}),nR=un(Zl),bf,If,xa,Qh=Le({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(bf=t.screenX-xa.screenX,If=t.screenY-xa.screenY):If=bf=0,xa=t),bf)},movementY:function(t){return"movementY"in t?t.movementY:If}}),M0=un(Qh),rR=Le({},Qh,{dataTransfer:0}),iR=un(rR),sR=Le({},Zl,{relatedTarget:0}),Af=un(sR),oR=Le({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),aR=un(oR),lR=Le({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uR=un(lR),cR=Le({},Mo,{data:0}),L0=un(cR),hR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fR[t])?!!e[t]:!1}function mg(){return pR}var mR=Le({},Zl,{key:function(t){if(t.key){var e=hR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(t){return t.type==="keypress"?Tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gR=un(mR),vR=Le({},Qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$0=un(vR),yR=Le({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),wR=un(yR),_R=Le({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ER=un(_R),TR=Le({},Qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SR=un(TR),bR=[9,13,27,32],gg=yr&&"CompositionEvent"in window,Ya=null;yr&&"documentMode"in document&&(Ya=document.documentMode);var IR=yr&&"TextEvent"in window&&!Ya,RT=yr&&(!gg||Ya&&8<Ya&&11>=Ya),V0=String.fromCharCode(32),F0=!1;function kT(t,e){switch(t){case"keyup":return bR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function AR(t,e){switch(t){case"compositionend":return DT(e);case"keypress":return e.which!==32?null:(F0=!0,V0);case"textInput":return t=e.data,t===V0&&F0?null:t;default:return null}}function PR(t,e){if(zs)return t==="compositionend"||!gg&&kT(t,e)?(t=xT(),Ec=fg=Qr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var CR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CR[t.type]:e==="textarea"}function NT(t,e,n,r){cT(r),e=Jc(e,"onChange"),0<e.length&&(n=new pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qa=null,gl=null;function xR(t){WT(t,0)}function Xh(t){var e=Hs(t);if(rT(e))return t}function RR(t,e){if(t==="change")return e}var OT=!1;if(yr){var Pf;if(yr){var Cf="oninput"in document;if(!Cf){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),Cf=typeof U0.oninput=="function"}Pf=Cf}else Pf=!1;OT=Pf&&(!document.documentMode||9<document.documentMode)}function z0(){Qa&&(Qa.detachEvent("onpropertychange",MT),gl=Qa=null)}function MT(t){if(t.propertyName==="value"&&Xh(gl)){var e=[];NT(e,gl,t,lg(t)),pT(xR,e)}}function kR(t,e,n){t==="focusin"?(z0(),Qa=e,gl=n,Qa.attachEvent("onpropertychange",MT)):t==="focusout"&&z0()}function DR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xh(gl)}function NR(t,e){if(t==="click")return Xh(e)}function OR(t,e){if(t==="input"||t==="change")return Xh(e)}function MR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:MR;function vl(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mp.call(e,i)||!On(t[i],e[i]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var n=B0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function LT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $T(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LR(t){var e=$T(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LT(n.ownerDocument.documentElement,n)){if(r!==null&&vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=W0(n,s);var o=W0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $R=yr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Op=null,Xa=null,Mp=!1;function H0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mp||Bs==null||Bs!==Hc(r)||(r=Bs,"selectionStart"in r&&vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xa&&vl(Xa,r)||(Xa=r,r=Jc(Op,"onSelect"),0<r.length&&(e=new pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},xf={},VT={};yr&&(VT=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Jh(t){if(xf[t])return xf[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VT)return xf[t]=e[n];return t}var FT=Jh("animationend"),jT=Jh("animationiteration"),UT=Jh("animationstart"),zT=Jh("transitionend"),BT=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){BT.set(t,e),ys(e,[t])}for(var Rf=0;Rf<q0.length;Rf++){var kf=q0[Rf],VR=kf.toLowerCase(),FR=kf[0].toUpperCase()+kf.slice(1);bi(VR,"on"+FR)}bi(FT,"onAnimationEnd");bi(jT,"onAnimationIteration");bi(UT,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(zT,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function G0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Vx(r,e,void 0,t),t.currentTarget=null}function WT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;G0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;G0(i,a,c),s=l}}}if(Gc)throw t=Rp,Gc=!1,Rp=null,t}function Ie(t,e){var n=e[jp];n===void 0&&(n=e[jp]=new Set);var r=t+"__bubble";n.has(r)||(HT(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),HT(n,t,r,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Xu]){t[Xu]=!0,JE.forEach(function(n){n!=="selectionchange"&&(jR.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Df("selectionchange",!1,e))}}function HT(t,e,n,r){switch(CT(e)){case 1:var i=eR;break;case 4:i=tR;break;default:i=dg}n=i.bind(null,e,n,t),i=void 0,!xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pT(function(){var c=s,h=lg(n),d=[];e:{var f=BT.get(t);if(f!==void 0){var g=pg,_=t;switch(t){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":g=gR;break;case"focusin":_="focus",g=Af;break;case"focusout":_="blur",g=Af;break;case"beforeblur":case"afterblur":g=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wR;break;case FT:case jT:case UT:g=aR;break;case zT:g=ER;break;case"scroll":g=nR;break;case"wheel":g=SR;break;case"copy":case"cut":case"paste":g=uR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$0}var y=(e&4)!==0,P=!y&&t==="scroll",E=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,S;v!==null;){S=v;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,E!==null&&(x=dl(v,E),x!=null&&y.push(wl(v,x,S)))),P)break;v=v.return}0<y.length&&(f=new g(f,_,null,n,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Pp&&(_=n.relatedTarget||n.fromElement)&&(Bi(_)||_[wr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Bi(_):null,_!==null&&(P=ws(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(y=M0,x="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=$0,x="onPointerLeave",E="onPointerEnter",v="pointer"),P=g==null?f:Hs(g),S=_==null?f:Hs(_),f=new y(x,v+"leave",g,n,h),f.target=P,f.relatedTarget=S,x=null,Bi(h)===c&&(y=new y(E,v+"enter",_,n,h),y.target=S,y.relatedTarget=P,x=y),P=x,g&&_)t:{for(y=g,E=_,v=0,S=y;S;S=Ns(S))v++;for(S=0,x=E;x;x=Ns(x))S++;for(;0<v-S;)y=Ns(y),v--;for(;0<S-v;)E=Ns(E),S--;for(;v--;){if(y===E||E!==null&&y===E.alternate)break t;y=Ns(y),E=Ns(E)}y=null}else y=null;g!==null&&K0(d,f,g,y,!1),_!==null&&P!==null&&K0(d,P,_,y,!0)}}e:{if(f=c?Hs(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=RR;else if(j0(f))if(OT)N=OR;else{N=DR;var O=kR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=NR);if(N&&(N=N(t,c))){NT(d,N,n,h);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Tp(f,"number",f.value)}switch(O=c?Hs(c):window,t){case"focusin":(j0(O)||O.contentEditable==="true")&&(Bs=O,Op=c,Xa=null);break;case"focusout":Xa=Op=Bs=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,H0(d,n,h);break;case"selectionchange":if($R)break;case"keydown":case"keyup":H0(d,n,h)}var b;if(gg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zs?kT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(RT&&n.locale!=="ko"&&(zs||w!=="onCompositionStart"?w==="onCompositionEnd"&&zs&&(b=xT()):(Qr=h,fg="value"in Qr?Qr.value:Qr.textContent,zs=!0)),O=Jc(c,w),0<O.length&&(w=new L0(w,t,null,n,h),d.push({event:w,listeners:O}),b?w.data=b:(b=DT(n),b!==null&&(w.data=b)))),(b=IR?AR(t,n):PR(t,n))&&(c=Jc(c,"onBeforeInput"),0<c.length&&(h=new L0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=b))}WT(d,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(wl(t,s,i)),s=dl(t,e),s!=null&&r.push(wl(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dl(n,s),l!=null&&o.unshift(wl(n,l,a))):i||(l=dl(n,s),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UR=/\r\n?/g,zR=/\u0000|\uFFFD/g;function Y0(t){return(typeof t=="string"?t:""+t).replace(UR,`
`).replace(zR,"")}function Ju(t,e,n){if(e=Y0(e),Y0(t)!==e&&n)throw Error(j(425))}function Zc(){}var Lp=null,$p=null;function Vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,BR=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(HR)}:Fp;function HR(t){setTimeout(function(){throw t})}function Of(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Lo,_l="__reactProps$"+Lo,wr="__reactContainer$"+Lo,jp="__reactEvents$"+Lo,qR="__reactListeners$"+Lo,GR="__reactHandles$"+Lo;function Bi(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X0(t);t!==null;){if(n=t[Wn])return n;t=X0(t)}return e}t=n,n=t.parentNode}return null}function eu(t){return t=t[Wn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Zh(t){return t[_l]||null}var Up=[],qs=-1;function Ii(t){return{current:t}}function Re(t){0>qs||(t.current=Up[qs],Up[qs]=null,qs--)}function Se(t,e){qs++,Up[qs]=t.current,t.current=e}var pi={},Dt=Ii(pi),Ht=Ii(!1),es=pi;function po(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function eh(){Re(Ht),Re(Dt)}function J0(t,e,n){if(Dt.current!==pi)throw Error(j(168));Se(Dt,e),Se(Ht,n)}function qT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,kx(t)||"Unknown",i));return Le({},n,r)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,es=Dt.current,Se(Dt,t),Se(Ht,Ht.current),!0}function Z0(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=qT(t,e,es),r.__reactInternalMemoizedMergedChildContext=t,Re(Ht),Re(Dt),Se(Dt,t)):Re(Ht),Se(Ht,n)}var dr=null,ed=!1,Mf=!1;function GT(t){dr===null?dr=[t]:dr.push(t)}function KR(t){ed=!0,GT(t)}function Ai(){if(!Mf&&dr!==null){Mf=!0;var t=0,e=ye;try{var n=dr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,ed=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),yT(ug,Ai),i}finally{ye=e,Mf=!1}}return null}var Gs=[],Ks=0,nh=null,rh=0,hn=[],dn=0,ts=null,fr=1,pr="";function $i(t,e){Gs[Ks++]=rh,Gs[Ks++]=nh,nh=t,rh=e}function KT(t,e,n){hn[dn++]=fr,hn[dn++]=pr,hn[dn++]=ts,ts=t;var r=fr;t=pr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fr=1<<32-Dn(e)+i|n<<i|r,pr=s+t}else fr=1<<s|n<<i|r,pr=t}function yg(t){t.return!==null&&($i(t,1),KT(t,1,0))}function wg(t){for(;t===nh;)nh=Gs[--Ks],Gs[Ks]=null,rh=Gs[--Ks],Gs[Ks]=null;for(;t===ts;)ts=hn[--dn],hn[dn]=null,pr=hn[--dn],hn[dn]=null,fr=hn[--dn],hn[dn]=null}var sn=null,rn=null,De=!1,Cn=null;function YT(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(De){var e=rn;if(e){var n=e;if(!ew(t,e)){if(zp(t))throw Error(j(418));e=ni(n.nextSibling);var r=sn;e&&ew(t,e)?YT(r,n):(t.flags=t.flags&-4097|2,De=!1,sn=t)}}else{if(zp(t))throw Error(j(418));t.flags=t.flags&-4097|2,De=!1,sn=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Zu(t){if(t!==sn)return!1;if(!De)return tw(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vp(t.type,t.memoizedProps)),e&&(e=rn)){if(zp(t))throw QT(),Error(j(418));for(;e;)YT(t,e),e=ni(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?ni(t.stateNode.nextSibling):null;return!0}function QT(){for(var t=rn;t;)t=ni(t.nextSibling)}function mo(){rn=sn=null,De=!1}function _g(t){Cn===null?Cn=[t]:Cn.push(t)}var YR=xr.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function ec(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function XT(t){function e(E,v){if(t){var S=E.deletions;S===null?(E.deletions=[v],E.flags|=16):S.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=oi(E,v),E.index=0,E.sibling=null,E}function s(E,v,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<v?(E.flags|=2,v):S):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,S,x){return v===null||v.tag!==6?(v=zf(S,E.mode,x),v.return=E,v):(v=i(v,S),v.return=E,v)}function l(E,v,S,x){var N=S.type;return N===Us?h(E,v,S.props.children,x,S.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&nw(N)===v.type)?(x=i(v,S.props),x.ref=Ra(E,v,S),x.return=E,x):(x=xc(S.type,S.key,S.props,null,E.mode,x),x.ref=Ra(E,v,S),x.return=E,x)}function c(E,v,S,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Bf(S,E.mode,x),v.return=E,v):(v=i(v,S.children||[]),v.return=E,v)}function h(E,v,S,x,N){return v===null||v.tag!==7?(v=Ki(S,E.mode,x,N),v.return=E,v):(v=i(v,S),v.return=E,v)}function d(E,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zf(""+v,E.mode,S),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bu:return S=xc(v.type,v.key,v.props,null,E.mode,S),S.ref=Ra(E,null,v),S.return=E,S;case js:return v=Bf(v,E.mode,S),v.return=E,v;case zr:var x=v._init;return d(E,x(v._payload),S)}if(Va(v)||Ia(v))return v=Ki(v,E.mode,S,null),v.return=E,v;ec(E,v)}return null}function f(E,v,S,x){var N=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(E,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:return S.key===N?l(E,v,S,x):null;case js:return S.key===N?c(E,v,S,x):null;case zr:return N=S._init,f(E,v,N(S._payload),x)}if(Va(S)||Ia(S))return N!==null?null:h(E,v,S,x,null);ec(E,S)}return null}function g(E,v,S,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(S)||null,a(v,E,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bu:return E=E.get(x.key===null?S:x.key)||null,l(v,E,x,N);case js:return E=E.get(x.key===null?S:x.key)||null,c(v,E,x,N);case zr:var O=x._init;return g(E,v,S,O(x._payload),N)}if(Va(x)||Ia(x))return E=E.get(S)||null,h(v,E,x,N,null);ec(v,x)}return null}function _(E,v,S,x){for(var N=null,O=null,b=v,w=v=0,T=null;b!==null&&w<S.length;w++){b.index>w?(T=b,b=null):T=b.sibling;var A=f(E,b,S[w],x);if(A===null){b===null&&(b=T);break}t&&b&&A.alternate===null&&e(E,b),v=s(A,v,w),O===null?N=A:O.sibling=A,O=A,b=T}if(w===S.length)return n(E,b),De&&$i(E,w),N;if(b===null){for(;w<S.length;w++)b=d(E,S[w],x),b!==null&&(v=s(b,v,w),O===null?N=b:O.sibling=b,O=b);return De&&$i(E,w),N}for(b=r(E,b);w<S.length;w++)T=g(b,E,w,S[w],x),T!==null&&(t&&T.alternate!==null&&b.delete(T.key===null?w:T.key),v=s(T,v,w),O===null?N=T:O.sibling=T,O=T);return t&&b.forEach(function(R){return e(E,R)}),De&&$i(E,w),N}function y(E,v,S,x){var N=Ia(S);if(typeof N!="function")throw Error(j(150));if(S=N.call(S),S==null)throw Error(j(151));for(var O=N=null,b=v,w=v=0,T=null,A=S.next();b!==null&&!A.done;w++,A=S.next()){b.index>w?(T=b,b=null):T=b.sibling;var R=f(E,b,A.value,x);if(R===null){b===null&&(b=T);break}t&&b&&R.alternate===null&&e(E,b),v=s(R,v,w),O===null?N=R:O.sibling=R,O=R,b=T}if(A.done)return n(E,b),De&&$i(E,w),N;if(b===null){for(;!A.done;w++,A=S.next())A=d(E,A.value,x),A!==null&&(v=s(A,v,w),O===null?N=A:O.sibling=A,O=A);return De&&$i(E,w),N}for(b=r(E,b);!A.done;w++,A=S.next())A=g(b,E,w,A.value,x),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?w:A.key),v=s(A,v,w),O===null?N=A:O.sibling=A,O=A);return t&&b.forEach(function(D){return e(E,D)}),De&&$i(E,w),N}function P(E,v,S,x){if(typeof S=="object"&&S!==null&&S.type===Us&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:e:{for(var N=S.key,O=v;O!==null;){if(O.key===N){if(N=S.type,N===Us){if(O.tag===7){n(E,O.sibling),v=i(O,S.props.children),v.return=E,E=v;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===zr&&nw(N)===O.type){n(E,O.sibling),v=i(O,S.props),v.ref=Ra(E,O,S),v.return=E,E=v;break e}n(E,O);break}else e(E,O);O=O.sibling}S.type===Us?(v=Ki(S.props.children,E.mode,x,S.key),v.return=E,E=v):(x=xc(S.type,S.key,S.props,null,E.mode,x),x.ref=Ra(E,v,S),x.return=E,E=x)}return o(E);case js:e:{for(O=S.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(E,v.sibling),v=i(v,S.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=Bf(S,E.mode,x),v.return=E,E=v}return o(E);case zr:return O=S._init,P(E,v,O(S._payload),x)}if(Va(S))return _(E,v,S,x);if(Ia(S))return y(E,v,S,x);ec(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,S),v.return=E,E=v):(n(E,v),v=zf(S,E.mode,x),v.return=E,E=v),o(E)):n(E,v)}return P}var go=XT(!0),JT=XT(!1),ih=Ii(null),sh=null,Ys=null,Eg=null;function Tg(){Eg=Ys=sh=null}function Sg(t){var e=ih.current;Re(ih),t._currentValue=e}function Wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){sh=t,Eg=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(sh===null)throw Error(j(308));Ys=t,sh.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Wi=null;function bg(t){Wi===null?Wi=[t]:Wi.push(t)}function ZT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function Ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function Sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}function rw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oh(t,e,n,r){var i=t.updateQueue;Br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(f=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=Le({},d,f);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rs|=o,t.lanes=o,t.memoizedState=d}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var tu={},Qn=Ii(tu),El=Ii(tu),Tl=Ii(tu);function Hi(t){if(t===tu)throw Error(j(174));return t}function Ag(t,e){switch(Se(Tl,e),Se(El,t),Se(Qn,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}Re(Qn),Se(Qn,e)}function vo(){Re(Qn),Re(El),Re(Tl)}function tS(t){Hi(Tl.current);var e=Hi(Qn.current),n=bp(e,t.type);e!==n&&(Se(El,t),Se(Qn,n))}function Pg(t){El.current===t&&(Re(Qn),Re(El))}var Ne=Ii(0);function ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lf=[];function Cg(){for(var t=0;t<Lf.length;t++)Lf[t]._workInProgressVersionPrimary=null;Lf.length=0}var bc=xr.ReactCurrentDispatcher,$f=xr.ReactCurrentBatchConfig,ns=0,Me=null,rt=null,ct=null,lh=!1,Ja=!1,Sl=0,QR=0;function It(){throw Error(j(321))}function xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function Rg(t,e,n,r,i,s){if(ns=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?ek:tk,t=n(r,i),Ja){s=0;do{if(Ja=!1,Sl=0,25<=s)throw Error(j(301));s+=1,ct=rt=null,e.updateQueue=null,bc.current=nk,t=n(r,i)}while(Ja)}if(bc.current=uh,e=rt!==null&&rt.next!==null,ns=0,ct=rt=Me=null,lh=!1,e)throw Error(j(300));return t}function kg(){var t=Sl!==0;return Sl=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Me.memoizedState=ct=t:ct=ct.next=t,ct}function _n(){if(rt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ct===null?Me.memoizedState:ct.next;if(e!==null)ct=e,rt=t;else{if(t===null)throw Error(j(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?Me.memoizedState=ct=t:ct=ct.next=t}return ct}function bl(t,e){return typeof e=="function"?e(t):e}function Vf(t){var e=_n(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ns&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Me.lanes|=h,rs|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,On(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Me.lanes|=s,rs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ff(t){var e=_n(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);On(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nS(){}function rS(t,e){var n=Me,r=_n(),i=e(),s=!On(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,Dg(oS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Il(9,sS.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(j(349));ns&30||iS(n,e,i)}return i}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,aS(e)&&lS(t)}function oS(t,e,n){return n(function(){aS(e)&&lS(t)})}function aS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function lS(t){var e=_r(t,1);e!==null&&Nn(e,t,1,-1)}function sw(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZR.bind(null,Me,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uS(){return _n().memoizedState}function Ic(t,e,n,r){var i=Un();Me.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=_n();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&xg(r,o.deps)){i.memoizedState=Il(e,n,s,r);return}}Me.flags|=t,i.memoizedState=Il(1|e,n,s,r)}function ow(t,e){return Ic(8390656,8,t,e)}function Dg(t,e){return td(2048,8,t,e)}function cS(t,e){return td(4,2,t,e)}function hS(t,e){return td(4,4,t,e)}function dS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fS(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,dS.bind(null,e,t),n)}function Ng(){}function pS(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gS(t,e,n){return ns&21?(On(n,e)||(n=ET(),Me.lanes|=n,rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function XR(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{ye=n,$f.transition=r}}function vS(){return _n().memoizedState}function JR(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yS(t))wS(e,n);else if(n=ZT(t,e,n,r),n!==null){var i=Ft();Nn(n,t,r,i),_S(n,e,r)}}function ZR(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(t))wS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(i.next=i,bg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZT(t,e,i,r),n!==null&&(i=Ft(),Nn(n,t,r,i),_S(n,e,r))}}function yS(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function wS(t,e){Ja=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _S(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}var uh={readContext:wn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},ek={readContext:wn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:ow,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,dS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JR.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:sw,useDebugValue:Ng,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=sw(!1),e=t[0];return t=XR.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,i=Un();if(De){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),ft===null)throw Error(j(349));ns&30||iS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ow(oS.bind(null,r,s,t),[t]),r.flags|=2048,Il(9,sS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=ft.identifierPrefix;if(De){var n=pr,r=fr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tk={readContext:wn,useCallback:pS,useContext:wn,useEffect:Dg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:hS,useMemo:mS,useReducer:Vf,useRef:uS,useState:function(){return Vf(bl)},useDebugValue:Ng,useDeferredValue:function(t){var e=_n();return gS(e,rt.memoizedState,t)},useTransition:function(){var t=Vf(bl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1},nk={readContext:wn,useCallback:pS,useContext:wn,useEffect:Dg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:hS,useMemo:mS,useReducer:Ff,useRef:uS,useState:function(){return Ff(bl)},useDebugValue:Ng,useDeferredValue:function(t){var e=_n();return rt===null?e.memoizedState=t:gS(e,rt.memoizedState,t)},useTransition:function(){var t=Ff(bl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=si(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Nn(e,t,i,r),Sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=si(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Nn(e,t,i,r),Sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=si(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(Nn(e,t,r,n),Sc(e,t,r))}};function aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function ES(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=qt(e)?es:Dt.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function qp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=qt(e)?es:Dt.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),oh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yo(t,e){try{var n="",r=e;do n+=Rx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function TS(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hh||(hh=!0,rm=r),Gp(t,e)},n}function SS(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vk.bind(null,t,e,n),e.then(t,t))}function cw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var ik=xr.ReactCurrentOwner,Wt=!1;function $t(t,e,n,r){e.child=t===null?JT(e,null,n,r):go(e,t.child,n,r)}function dw(t,e,n,r,i){n=n.render;var s=e.ref;return ro(e,i),r=Rg(t,e,n,r,s,i),n=kg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(De&&n&&yg(e),e.flags|=1,$t(t,e,r,i),e.child)}function fw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bS(t,e,s,r,i)):(t=xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function bS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Kp(t,e,n,r,i)}function IS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Xs,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Xs,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Xs,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Xs,tn),tn|=r;return $t(t,e,i,n),e.child}function AS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kp(t,e,n,r,i){var s=qt(n)?es:Dt.current;return s=po(e,s),ro(e,i),n=Rg(t,e,n,r,s,i),r=kg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(De&&r&&yg(e),e.flags|=1,$t(t,e,n,i),e.child)}function pw(t,e,n,r,i){if(qt(n)){var s=!0;th(e)}else s=!1;if(ro(e,i),e.stateNode===null)Ac(t,e),ES(e,n,r),qp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=qt(n)?es:Dt.current,c=po(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lw(e,o,r,c),Br=!1;var f=e.memoizedState;o.state=f,oh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ht.current||Br?(typeof h=="function"&&(Hp(e,n,h,r),l=e.memoizedState),(a=Br||aw(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:An(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=qt(n)?es:Dt.current,l=po(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lw(e,o,r,l),Br=!1,f=e.memoizedState,o.state=f,oh(e,r,o,i);var _=e.memoizedState;a!==d||f!==_||Ht.current||Br?(typeof g=="function"&&(Hp(e,n,g,r),_=e.memoizedState),(c=Br||aw(e,n,c,r,f,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Yp(t,e,n,r,s,i)}function Yp(t,e,n,r,i,s){AS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Z0(e,n,!1),Er(t,e,s);r=e.stateNode,ik.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&Z0(e,n,!0),e.child}function PS(t){var e=t.stateNode;e.pendingContext?J0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J0(t,e.context,!1),Ag(t,e.containerInfo)}function mw(t,e,n,r,i){return mo(),_g(i),e.flags|=256,$t(t,e,n,r),e.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function CS(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Ne,i&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=Ki(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xp(n),e.memoizedState=Qp,t):Og(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=Ki(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qp,r}return s=t.child,t=s.sibling,r=oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Og(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tc(t,e,n,r){return r!==null&&_g(r),go(e,t.child,null,n),t=Og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jf(Error(j(422))),tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=Ki(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=Xp(o),e.memoizedState=Qp,s);if(!(e.mode&1))return tc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=jf(s,r,void 0),tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_r(t,i),Nn(r,t,i,-1))}return jg(),r=jf(Error(j(421))),tc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=ni(i.nextSibling),sn=e,De=!0,Cn=null,t!==null&&(hn[dn++]=fr,hn[dn++]=pr,hn[dn++]=ts,fr=t.id,pr=t.overflow,ts=e),e=Og(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wp(t.return,e,n)}function Uf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ah(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Uf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ah(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Uf(e,!0,n,null,s);break;case"together":Uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ok(t,e,n){switch(e.tag){case 3:PS(e),mo();break;case 5:tS(e);break;case 1:qt(e.type)&&th(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?CS(t,e,n):(Se(Ne,Ne.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Se(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,IS(t,e,n)}return Er(t,e,n)}var RS,Jp,kS,DS;RS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jp=function(){};kS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Qn.current);var s=null;switch(n){case"input":i=_p(t,i),r=_p(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Sp(t,i),r=Sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zc)}Ip(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ak(t,e,n){var r=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return qt(e.type)&&eh(),At(e),null;case 3:return r=e.stateNode,vo(),Re(Ht),Re(Dt),Cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(om(Cn),Cn=null))),Jp(t,e),At(e),null;case 5:Pg(e);var i=Hi(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)kS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return At(e),null}if(t=Hi(Qn.current),Zu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wn]=e,r[_l]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<ja.length;i++)Ie(ja[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":I0(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":P0(r,s),Ie("invalid",r)}Ip(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ju(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ju(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Wu(r),A0(r,s,!0);break;case"textarea":Wu(r),C0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[_l]=r,RS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ap(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<ja.length;i++)Ie(ja[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":I0(t,r),i=_p(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":P0(t,r),i=Sp(t,r),Ie("invalid",t);break;default:i=r}Ip(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&ig(t,s,l,o))}switch(n){case"input":Wu(t),A0(t,r,!1);break;case"textarea":Wu(t),C0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)DS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Hi(Tl.current),Hi(Qn.current),Zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ju(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return At(e),null;case 13:if(Re(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&rn!==null&&e.mode&1&&!(e.flags&128))QT(),mo(),e.flags|=98560,s=!1;else if(s=Zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Wn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Cn!==null&&(om(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?it===0&&(it=3):jg())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return vo(),Jp(t,e),t===null&&yl(e.stateNode.containerInfo),At(e),null;case 10:return Sg(e.type._context),At(e),null;case 17:return qt(e.type)&&eh(),At(e),null;case 19:if(Re(Ne),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ka(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ah(t),o!==null){for(e.flags|=128,ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>wo&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return At(e),null}else 2*He()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=Ne.current,Se(Ne,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function lk(t,e){switch(wg(e),e.tag){case 1:return qt(e.type)&&eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vo(),Re(Ht),Re(Dt),Cg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(Re(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Ne),null;case 4:return vo(),null;case 10:return Sg(e.type._context),null;case 22:case 23:return Fg(),null;case 24:return null;default:return null}}var nc=!1,Rt=!1,uk=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Zp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var vw=!1;function ck(t,e){if(Lp=Qc,t=$T(),vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:t,selectionRange:n},Qc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,P=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:An(e.type,y),P);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){Fe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return _=vw,vw=!1,_}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zp(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NS(t){var e=t.alternate;e!==null&&(t.alternate=null,NS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[_l],delete e[jp],delete e[qR],delete e[GR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OS(t){return t.tag===5||t.tag===3||t.tag===4}function yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zc));else if(r!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}var gt=null,Pn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)MS(t,e,n),n=n.sibling}function MS(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 5:Rt||Qs(n,e);case 6:var r=gt,i=Pn;gt=null,Fr(t,e,n),gt=r,Pn=i,gt!==null&&(Pn?(t=gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(Pn?(t=gt,n=n.stateNode,t.nodeType===8?Of(t.parentNode,n):t.nodeType===1&&Of(t,n),ml(t)):Of(gt,n.stateNode));break;case 4:r=gt,i=Pn,gt=n.stateNode.containerInfo,Pn=!0,Fr(t,e,n),gt=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zp(n,e,o),i=i.next}while(i!==r)}Fr(t,e,n);break;case 1:if(!Rt&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Fr(t,e,n),Rt=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uk),e.forEach(function(r){var i=wk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,Pn=!1;break e;case 3:gt=a.stateNode.containerInfo,Pn=!0;break e;case 4:gt=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(gt===null)throw Error(j(160));MS(s,o,i),gt=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LS(e,t),e=e.sibling}function LS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),jn(t),r&4){try{Za(3,t,t.return),rd(3,t)}catch(y){Fe(t,t.return,y)}try{Za(5,t,t.return)}catch(y){Fe(t,t.return,y)}}break;case 1:In(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(In(e,t),jn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(y){Fe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iT(i,s),Ap(a,o);var c=Ap(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?uT(i,d):h==="dangerouslySetInnerHTML"?aT(i,d):h==="children"?hl(i,d):ig(i,h,d,c)}switch(a){case"input":Ep(i,s);break;case"textarea":sT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zs(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zs(i,!!s.multiple,s.defaultValue,!0):Zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[_l]=s}catch(y){Fe(t,t.return,y)}}break;case 6:if(In(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Fe(t,t.return,y)}}break;case 3:if(In(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(y){Fe(t,t.return,y)}break;case 4:In(e,t),jn(t);break;case 13:In(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($g=He())),r&4&&ww(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||h,In(e,t),Rt=c):In(e,t),jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,g=f.child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:Qs(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){Fe(r,n,y)}}break;case 5:Qs(f,f.return);break;case 22:if(f.memoizedState!==null){Ew(d);continue}}g!==null?(g.return=f,Q=g):Ew(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lT("display",o))}catch(y){Fe(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Fe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:In(e,t),jn(t),r&4&&ww(t);break;case 21:break;default:In(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OS(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var s=yw(t);nm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yw(t);tm(t,a,o);break;default:throw Error(j(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hk(t,e,n){Q=t,$S(t)}function $S(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=nc;var c=Rt;if(nc=o,(Rt=l)&&!c)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Tw(i):l!==null?(l.return=o,Q=l):Tw(i);for(;s!==null;)Q=s,$S(s),s=s.sibling;Q=i,nc=a,Rt=c}_w(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):_w(t)}}function _w(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ml(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Rt||e.flags&512&&em(e)}catch(f){Fe(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Ew(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Tw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{em(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{em(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var dk=Math.ceil,ch=xr.ReactCurrentDispatcher,Mg=xr.ReactCurrentOwner,yn=xr.ReactCurrentBatchConfig,pe=0,ft=null,Je=null,wt=0,tn=0,Xs=Ii(0),it=0,Al=null,rs=0,id=0,Lg=0,el=null,Bt=null,$g=0,wo=1/0,hr=null,hh=!1,rm=null,ii=null,rc=!1,Xr=null,dh=0,tl=0,im=null,Pc=-1,Cc=0;function Ft(){return pe&6?He():Pc!==-1?Pc:Pc=He()}function si(t){return t.mode&1?pe&2&&wt!==0?wt&-wt:YR.transition!==null?(Cc===0&&(Cc=ET()),Cc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:CT(t.type)),t):1}function Nn(t,e,n,r){if(50<tl)throw tl=0,im=null,Error(j(185));Jl(t,n,r),(!(pe&2)||t!==ft)&&(t===ft&&(!(pe&2)&&(id|=n),it===4&&Hr(t,wt)),Gt(t,r),n===1&&pe===0&&!(e.mode&1)&&(wo=He()+500,ed&&Ai()))}function Gt(t,e){var n=t.callbackNode;Yx(t,e);var r=Yc(t,t===ft?wt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?KR(Sw.bind(null,t)):GT(Sw.bind(null,t)),WR(function(){!(pe&6)&&Ai()}),n=null;else{switch(TT(r)){case 1:n=ug;break;case 4:n=wT;break;case 16:n=Kc;break;case 536870912:n=_T;break;default:n=Kc}n=HS(n,VS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VS(t,e){if(Pc=-1,Cc=0,pe&6)throw Error(j(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Yc(t,t===ft?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fh(t,r);else{e=r;var i=pe;pe|=2;var s=jS();(ft!==t||wt!==e)&&(hr=null,wo=He()+500,Gi(t,e));do try{mk();break}catch(a){FS(t,a)}while(1);Tg(),ch.current=s,pe=i,Je!==null?e=0:(ft=null,wt=0,e=it)}if(e!==0){if(e===2&&(i=kp(t),i!==0&&(r=i,e=sm(t,i))),e===1)throw n=Al,Gi(t,0),Hr(t,r),Gt(t,He()),n;if(e===6)Hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!fk(i)&&(e=fh(t,r),e===2&&(s=kp(t),s!==0&&(r=s,e=sm(t,s))),e===1))throw n=Al,Gi(t,0),Hr(t,r),Gt(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Vi(t,Bt,hr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=$g+500-He(),10<e)){if(Yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fp(Vi.bind(null,t,Bt,hr),e);break}Vi(t,Bt,hr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dk(r/1960))-r,10<r){t.timeoutHandle=Fp(Vi.bind(null,t,Bt,hr),r);break}Vi(t,Bt,hr);break;case 5:Vi(t,Bt,hr);break;default:throw Error(j(329))}}}return Gt(t,He()),t.callbackNode===n?VS.bind(null,t):null}function sm(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=fh(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&om(e)),t}function om(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function fk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!On(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Lg,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(pe&6)throw Error(j(327));io();var e=Yc(t,0);if(!(e&1))return Gt(t,He()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=sm(t,r))}if(n===1)throw n=Al,Gi(t,0),Hr(t,e),Gt(t,He()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vi(t,Bt,hr),Gt(t,He()),null}function Vg(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(wo=He()+500,ed&&Ai())}}function is(t){Xr!==null&&Xr.tag===0&&!(pe&6)&&io();var e=pe;pe|=1;var n=yn.transition,r=ye;try{if(yn.transition=null,ye=1,t)return t()}finally{ye=r,yn.transition=n,pe=e,!(pe&6)&&Ai()}}function Fg(){tn=Xs.current,Re(Xs)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BR(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eh();break;case 3:vo(),Re(Ht),Re(Dt),Cg();break;case 5:Pg(r);break;case 4:vo();break;case 13:Re(Ne);break;case 19:Re(Ne);break;case 10:Sg(r.type._context);break;case 22:case 23:Fg()}n=n.return}if(ft=t,Je=t=oi(t.current,null),wt=tn=e,it=0,Al=null,Lg=id=rs=0,Bt=el=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wi=null}return t}function FS(t,e){do{var n=Je;try{if(Tg(),bc.current=uh,lh){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lh=!1}if(ns=0,ct=rt=Me=null,Ja=!1,Sl=0,Mg.current=null,n===null||n.return===null){it=1,Al=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=cw(o);if(g!==null){g.flags&=-257,hw(g,o,a,s,e),g.mode&1&&uw(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){uw(s,c,e),jg();break e}l=Error(j(426))}}else if(De&&a.mode&1){var P=cw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),hw(P,o,a,s,e),_g(yo(l,a));break e}}s=l=yo(l,a),it!==4&&(it=2),el===null?el=[s]:el.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=TS(s,l,e);rw(s,E);break e;case 1:a=l;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ii===null||!ii.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=SS(s,a,e);rw(s,x);break e}}s=s.return}while(s!==null)}zS(n)}catch(N){e=N,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function jS(){var t=ch.current;return ch.current=uh,t===null?uh:t}function jg(){(it===0||it===3||it===2)&&(it=4),ft===null||!(rs&268435455)&&!(id&268435455)||Hr(ft,wt)}function fh(t,e){var n=pe;pe|=2;var r=jS();(ft!==t||wt!==e)&&(hr=null,Gi(t,e));do try{pk();break}catch(i){FS(t,i)}while(1);if(Tg(),pe=n,ch.current=r,Je!==null)throw Error(j(261));return ft=null,wt=0,it}function pk(){for(;Je!==null;)US(Je)}function mk(){for(;Je!==null&&!jx();)US(Je)}function US(t){var e=WS(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?zS(t):Je=e,Mg.current=null}function zS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lk(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=ak(n,e,tn),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function Vi(t,e,n){var r=ye,i=yn.transition;try{yn.transition=null,ye=1,gk(t,e,n,r)}finally{yn.transition=i,ye=r}return null}function gk(t,e,n,r){do io();while(Xr!==null);if(pe&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qx(t,s),t===ft&&(Je=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,HS(Kc,function(){return io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=ye;ye=1;var a=pe;pe|=4,Mg.current=null,ck(t,n),LS(n,t),LR($p),Qc=!!Lp,$p=Lp=null,t.current=n,hk(n),Ux(),pe=a,ye=o,yn.transition=s}else t.current=n;if(rc&&(rc=!1,Xr=t,dh=i),s=t.pendingLanes,s===0&&(ii=null),Wx(n.stateNode),Gt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hh)throw hh=!1,t=rm,rm=null,t;return dh&1&&t.tag!==0&&io(),s=t.pendingLanes,s&1?t===im?tl++:(tl=0,im=t):tl=0,Ai(),null}function io(){if(Xr!==null){var t=TT(dh),e=yn.transition,n=ye;try{if(yn.transition=null,ye=16>t?16:t,Xr===null)var r=!1;else{if(t=Xr,Xr=null,dh=0,pe&6)throw Error(j(331));var i=pe;for(pe|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Za(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,g=h.return;if(NS(h),h===c){Q=null;break}if(f!==null){f.return=g,Q=f;break}Q=g}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var P=y.sibling;y.sibling=null,y=P}while(y!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Q=E;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(N){Fe(a,a.return,N)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(pe=i,Ai(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Yh,t)}catch{}r=!0}return r}finally{ye=n,yn.transition=e}}return!1}function bw(t,e,n){e=yo(n,e),e=TS(t,e,1),t=ri(t,e,1),e=Ft(),t!==null&&(Jl(t,1,e),Gt(t,e))}function Fe(t,e,n){if(t.tag===3)bw(t,t,n);else for(;e!==null;){if(e.tag===3){bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=yo(n,t),t=SS(e,t,1),e=ri(e,t,1),t=Ft(),e!==null&&(Jl(e,1,t),Gt(e,t));break}}e=e.return}}function vk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(wt&n)===n&&(it===4||it===3&&(wt&130023424)===wt&&500>He()-$g?Gi(t,0):Lg|=n),Gt(t,e)}function BS(t,e){e===0&&(t.mode&1?(e=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):e=1);var n=Ft();t=_r(t,e),t!==null&&(Jl(t,e,n),Gt(t,n))}function yk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BS(t,n)}function wk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),BS(t,n)}var WS;WS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,ok(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,De&&e.flags&1048576&&KT(e,rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ac(t,e),t=e.pendingProps;var i=po(e,Dt.current);ro(e,n),i=Rg(null,e,r,t,i,n);var s=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(s=!0,th(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ig(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,qp(e,r,t,n),e=Yp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&yg(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ek(r),t=An(r,t),i){case 0:e=Kp(null,e,r,t,n);break e;case 1:e=pw(null,e,r,t,n);break e;case 11:e=dw(null,e,r,t,n);break e;case 14:e=fw(null,e,r,An(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Kp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),pw(t,e,r,i,n);case 3:e:{if(PS(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eS(t,e),oh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yo(Error(j(423)),e),e=mw(t,e,r,n,i);break e}else if(r!==i){i=yo(Error(j(424)),e),e=mw(t,e,r,n,i);break e}else for(rn=ni(e.stateNode.containerInfo.firstChild),sn=e,De=!0,Cn=null,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Er(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return tS(e),t===null&&Bp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vp(r,i)?o=null:s!==null&&Vp(r,s)&&(e.flags|=32),AS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return CS(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),dw(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(ih,r._currentValue),r._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===i.children&&!Ht.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=wn(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=An(r,e.pendingProps),i=An(r.type,i),fw(t,e,r,i,n);case 15:return bS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:An(r,i),Ac(t,e),e.tag=1,qt(r)?(t=!0,th(e)):t=!1,ro(e,n),ES(e,r,i),qp(e,r,i,n),Yp(null,e,r,!0,t,n);case 19:return xS(t,e,n);case 22:return IS(t,e,n)}throw Error(j(156,e.tag))};function HS(t,e){return yT(t,e)}function _k(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new _k(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ek(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===og)return 11;if(t===ag)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return Ki(n.children,i,s,e);case sg:o=8,i|=8;break;case gp:return t=vn(12,n,e,i|2),t.elementType=gp,t.lanes=s,t;case vp:return t=vn(13,n,e,i),t.elementType=vp,t.lanes=s,t;case yp:return t=vn(19,n,e,i),t.elementType=yp,t.lanes=s,t;case tT:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZE:o=10;break e;case eT:o=9;break e;case og:o=11;break e;case ag:o=14;break e;case zr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ki(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=vn(22,t,r,e),t.elementType=tT,t.lanes=n,t.stateNode={isHidden:!1},t}function zf(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Bf(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zg(t,e,n,r,i,s,o,a,l){return t=new Tk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ig(s),t}function Sk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qS(t){if(!t)return pi;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(qt(n))return qT(t,n,e)}return e}function GS(t,e,n,r,i,s,o,a,l){return t=zg(n,r,!0,t,i,s,o,a,l),t.context=qS(null),n=t.current,r=Ft(),i=si(n),s=vr(r,i),s.callback=e??null,ri(n,s,i),t.current.lanes=i,Jl(t,i,r),Gt(t,r),t}function od(t,e,n,r){var i=e.current,s=Ft(),o=si(i);return n=qS(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(Nn(t,i,o,s),Sc(t,i,o)),o}function ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){Iw(t,e),(t=t.alternate)&&Iw(t,e)}function bk(){return null}var KS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wg(t){this._internalRoot=t}ad.prototype.render=Wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));od(t,e,null,null)};ad.prototype.unmount=Wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){od(null,t,null,null)}),e[wr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=IT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&PT(t)}};function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function Ik(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ph(o);s.call(c)}}var o=GS(e,r,t,0,null,!1,!1,"",Aw);return t._reactRootContainer=o,t[wr]=o.current,yl(t.nodeType===8?t.parentNode:t),is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ph(l);a.call(c)}}var l=zg(t,0,!1,null,null,!1,!1,"",Aw);return t._reactRootContainer=l,t[wr]=l.current,yl(t.nodeType===8?t.parentNode:t),is(function(){od(e,l,n,r)}),l}function ud(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ph(o);a.call(l)}}od(e,o,t,i)}else o=Ik(n,e,t,i,r);return ph(o)}ST=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(cg(e,n|1),Gt(e,He()),!(pe&6)&&(wo=He()+500,Ai()))}break;case 13:is(function(){var r=_r(t,1);if(r!==null){var i=Ft();Nn(r,t,1,i)}}),Bg(t,1)}};hg=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Ft();Nn(e,t,134217728,n)}Bg(t,134217728)}};bT=function(t){if(t.tag===13){var e=si(t),n=_r(t,e);if(n!==null){var r=Ft();Nn(n,t,e,r)}Bg(t,e)}};IT=function(){return ye};AT=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Cp=function(t,e,n){switch(e){case"input":if(Ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zh(r);if(!i)throw Error(j(90));rT(r),Ep(r,i)}}}break;case"textarea":sT(t,n);break;case"select":e=n.value,e!=null&&Zs(t,!!n.multiple,e,!1)}};dT=Vg;fT=is;var Ak={usingClientEntryPoint:!1,Events:[eu,Hs,Zh,cT,hT,Vg]},Da={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pk={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gT(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Yh=ic.inject(Pk),Yn=ic}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(e))throw Error(j(200));return Sk(t,e,null,n)};ln.createRoot=function(t,e){if(!Hg(t))throw Error(j(299));var n=!1,r="",i=KS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zg(t,1,!1,null,null,n,!1,r,i),t[wr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Wg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=gT(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return is(t)};ln.hydrate=function(t,e,n){if(!ld(e))throw Error(j(200));return ud(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Hg(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GS(e,null,t,1,n??null,i,!1,s,o),t[wr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};ln.render=function(t,e,n){if(!ld(e))throw Error(j(200));return ud(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!ld(t))throw Error(j(40));return t._reactRootContainer?(is(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};ln.unstable_batchedUpdates=Vg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ud(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function YS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YS)}catch(t){console.error(t)}}YS(),YE.exports=ln;var QS=YE.exports;const XS=Xt(QS);var Pw=QS;pp.createRoot=Pw.createRoot,pp.hydrateRoot=Pw.hydrateRoot;const Ck=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Rk;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kk=function(t){const e=JS(t);return ZS.encodeByteArray(e,!0)},mh=function(t){return kk(t).replace(/\./g,"")},eb=function(t){try{return ZS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=()=>Dk().__FIREBASE_DEFAULTS__,Ok=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eb(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return Ck()||Nk()||Ok()||Mk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tb=t=>{var e,n;return(n=(e=cd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nb=t=>{const e=tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rb=()=>{var t;return(t=cd())==null?void 0:t.config},ib=t=>{var e;return(e=cd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[mh(JSON.stringify(n)),mh(JSON.stringify(o)),a].join(".")}const nl={};function Vk(){const t={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?t.emulator.push(e):t.prod.push(e);return t}function Fk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cw=!1;function Gg(t,e){if(typeof window>"u"||typeof document>"u"||!_s(window.location.host)||nl[t]===e||nl[t]||Cw)return;nl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=Vk().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Cw=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Fk(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),P=document.getElementById(y)||document.createElement("a"),E=n("preprendIcon"),v=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(P,y);const x=c();l(v,E),S.append(v,_,P,x),document.body.appendChild(S)}s?(_.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Uk(){var e;const t=(e=cd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hk(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qk(){return!Uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function Kk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yk,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function Qk(t,e){return t.replace(Xk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xk=/\{\$([^}]+)}/g;function Jk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xw(s)&&xw(o)){if(!ss(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zk(t,e){const n=new eD(t,e);return n.subscribe.bind(n)}class eD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wf),i.error===void 0&&(i.error=Wf),i.complete===void 0&&(i.complete=Wf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iD(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rD(t){return t===Fi?void 0:t}function iD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const oD={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},aD=ce.INFO,lD={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},uD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const cD=(t,e)=>e.some(n=>t instanceof n);let Rw,kw;function hD(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,am=new WeakMap,ob=new WeakMap,Hf=new WeakMap,Yg=new WeakMap;function fD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sb.set(n,t)}).catch(()=>{}),Yg.set(e,t),e}function pD(t){if(am.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});am.set(t,e)}let lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){lm=t(lm)}function gD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qf(this),e,...n);return ob.set(r,e.sort?e.sort():[e]),ai(r)}:dD().includes(t)?function(...e){return t.apply(qf(this),e),ai(sb.get(this))}:function(...e){return ai(t.apply(qf(this),e))}}function vD(t){return typeof t=="function"?gD(t):(t instanceof IDBTransaction&&pD(t),cD(t,hD())?new Proxy(t,lm):t)}function ai(t){if(t instanceof IDBRequest)return fD(t);if(Hf.has(t))return Hf.get(t);const e=vD(t);return e!==t&&(Hf.set(t,e),Yg.set(e,t)),e}const qf=t=>Yg.get(t);function yD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wD=["get","getKey","getAll","getAllKeys","count"],_D=["put","add","delete","clear"],Gf=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_D.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Gf.set(e,s),s}mD(t=>({...t,get:(e,n,r)=>Dw(e,n)||t.get(e,n,r),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",Nw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Kg("@firebase/app"),SD="@firebase/app-compat",bD="@firebase/analytics-compat",ID="@firebase/analytics",AD="@firebase/app-check-compat",PD="@firebase/app-check",CD="@firebase/auth",xD="@firebase/auth-compat",RD="@firebase/database",kD="@firebase/data-connect",DD="@firebase/database-compat",ND="@firebase/functions",OD="@firebase/functions-compat",MD="@firebase/installations",LD="@firebase/installations-compat",$D="@firebase/messaging",VD="@firebase/messaging-compat",FD="@firebase/performance",jD="@firebase/performance-compat",UD="@firebase/remote-config",zD="@firebase/remote-config-compat",BD="@firebase/storage",WD="@firebase/storage-compat",HD="@firebase/firestore",qD="@firebase/ai",GD="@firebase/firestore-compat",KD="firebase",YD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",QD={[um]:"fire-core",[SD]:"fire-core-compat",[ID]:"fire-analytics",[bD]:"fire-analytics-compat",[PD]:"fire-app-check",[AD]:"fire-app-check-compat",[CD]:"fire-auth",[xD]:"fire-auth-compat",[RD]:"fire-rtdb",[kD]:"fire-data-connect",[DD]:"fire-rtdb-compat",[ND]:"fire-fn",[OD]:"fire-fn-compat",[MD]:"fire-iid",[LD]:"fire-iid-compat",[$D]:"fire-fcm",[VD]:"fire-fcm-compat",[FD]:"fire-perf",[jD]:"fire-perf-compat",[UD]:"fire-rc",[zD]:"fire-rc-compat",[BD]:"fire-gcs",[WD]:"fire-gcs-compat",[HD]:"fire-fst",[GD]:"fire-fst-compat",[qD]:"fire-vertex","fire-js":"fire-js",[KD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,XD=new Map,hm=new Map;function Ow(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(hm.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,t);for(const n of gh.values())Ow(n,t);for(const n of XD.values())Ow(n,t);return!0}function hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new nu("app","Firebase",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=YD;function ab(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:cm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=rb()),!n)throw li.create("no-options");const s=gh.get(i);if(s){if(ss(n,s.options)&&ss(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new sD(i);for(const l of hm.values())o.addComponent(l);const a=new ZD(n,r,o);return gh.set(i,a),a}function Qg(t=cm){const e=gh.get(t);if(!e&&t===cm&&rb())return ab();if(!e)throw li.create("no-app",{appName:t});return e}function Xn(t,e,n){let r=QD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(o.join(" "));return}os(new mi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-heartbeat-database",tN=1,Pl="firebase-heartbeat-store";let Kf=null;function lb(){return Kf||(Kf=yD(eN,tN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),Kf}async function nN(t){try{const n=(await lb()).transaction(Pl),r=await n.objectStore(Pl).get(ub(t));return await n.done,r}catch(e){if(e instanceof Rr)Tr.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function Mw(t,e){try{const r=(await lb()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,ub(t)),await r.done}catch(n){if(n instanceof Rr)Tr.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1024,iN=30;class sN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>iN){const o=lN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lw(),{heartbeatsToSend:r,unsentEntries:i}=oN(this._heartbeatsCache.heartbeats),s=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tr.warn(n),""}}}function Lw(){return new Date().toISOString().substring(0,10)}function oN(t,e=rN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$w(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$w(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?Kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $w(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function lN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){os(new mi("platform-logger",e=>new ED(e),"PRIVATE")),os(new mi("heartbeat",e=>new sN(e),"PRIVATE")),Xn(um,Nw,t),Xn(um,Nw,"esm2020"),Xn("fire-js","")}uN("");function cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cN=cb,hb=new nu("auth","Firebase",cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Kg("@firebase/auth");function hN(t,...e){vh.logLevel<=ce.WARN&&vh.warn(`Auth (${$o}): ${t}`,...e)}function Rc(t,...e){vh.logLevel<=ce.ERROR&&vh.error(`Auth (${$o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw Xg(t,...e)}function Jn(t,...e){return Xg(t,...e)}function db(t,e,n){const r={...cN(),[e]:n};return new nu("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return db(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hb.create(t,...e)}function Z(t,e,...n){if(!t)throw Xg(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function Sr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dN(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||Bk()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=jk()||Wk()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vN=new iu(3e4,6e4);function Es(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pi(t,e,n,r,i={}){return pb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ru({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return zk()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&_s(t.emulatorConfig.host)&&(c.credentials="include"),fb.fetch()(await mb(t,t.config.apiHost,n,a),c)})}async function pb(t,e,n){t._canInitEmulator=!1;const r={...mN,...e};try{const i=new wN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw db(t,h,c);Mn(t,h)}}catch(i){if(i instanceof Rr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function dd(t,e,n,r,i={}){const s=await Pi(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function mb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Jg(t.config,i):`${t.config.apiScheme}://${i}`;return gN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function yN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),vN.get())})}}function sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function Fw(t){return t!==void 0&&t.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EN(t,e){return Pi(t,"GET","/v2/recaptchaConfig",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e){return Pi(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return Pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SN(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=Zg(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rl(Yf(i.auth_time)),issuedAtTime:rl(Yf(i.iat)),expirationTime:rl(Yf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yf(t){return Number(t)*1e3}function Zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=eb(n);return i?JSON.parse(i):(Rc("Failed to decode base64 JWT payload"),null)}catch(i){return Rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jw(t){const e=Zg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&bN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Cl(t,yh(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?gb(i.providerUserInfo):[],o=PN(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fm(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function AN(t){const e=Et(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e){const n=await pb(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await mb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&_s(t.emulatorConfig.host)&&(l.credentials="include"),fb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xN(t,e){return Pi(t,"POST","/v2/accounts:revokeToken",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await CN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new so;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SN(this,e)}reload(){return AN(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await Cl(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:g,providerData:_,stsTokenManager:y}=n;Z(d&&y,e,"internal-error");const P=so.fromJSON(this.name,y);Z(typeof d=="string",e,"internal-error"),jr(r,e.name),jr(i,e.name),Z(typeof f=="boolean",e,"internal-error"),Z(typeof g=="boolean",e,"internal-error"),jr(s,e.name),jr(o,e.name),jr(a,e.name),jr(l,e.name),jr(c,e.name),jr(h,e.name);const E=new xn({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:P,createdAt:c,lastLoginAt:h});return _&&Array.isArray(_)&&(E.providerData=_.map(v=>({...v}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new so;i.updateFromServerResponse(n);const s=new xn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new so;a.updateFromIdToken(r);const l=new xn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function gr(t){Sr(t instanceof Function,"Expected a class definition");let e=Uw.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vb.type="NONE";const zw=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(gr(zw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(zw);const o=kc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await yh(e,{idToken:h}).catch(()=>{});if(!f)break;d=await xn._fromGetAccountInfoResponse(e,f,h)}else d=xn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new oo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new oo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(bb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yb(t=Nt()){return/firefox\//i.test(t)}function wb(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(t=Nt()){return/crios\//i.test(t)}function Eb(t=Nt()){return/iemobile/i.test(t)}function Tb(t=Nt()){return/android/i.test(t)}function Sb(t=Nt()){return/blackberry/i.test(t)}function bb(t=Nt()){return/webos/i.test(t)}function ev(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RN(t=Nt()){var e;return ev(t)&&!!((e=window.navigator)!=null&&e.standalone)}function kN(){return Hk()&&document.documentMode===10}function Ib(t=Nt()){return ev(t)||Tb(t)||bb(t)||Sb(t)||/windows phone/i.test(t)||Eb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=Bw(Nt());break;case"Worker":n=`${Bw(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e={}){return Pi(t,"GET","/v2/passwordPolicy",Es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=6;class MN{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ON,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(ui(this));const n=e?Et(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NN(this),n=new MN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vo(t){return Et(t)}class Ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zk(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(t){fd=t}function Pb(t){return fd.loadJS(t)}function VN(){return fd.recaptchaEnterpriseScript}function FN(){return fd.gapiScript}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UN{constructor(){this.enterprise=new zN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BN="recaptcha-enterprise",Cb="NO_RECAPTCHA";class WN{constructor(e){this.type=BN,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{EN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _N(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Fw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Cb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Fw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VN();l.length!==0&&(l+=a),Pb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Na(t,e,n,r=!1,i=!1){const s=new WN(t);let o;if(i)o=Cb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hw(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Na(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Na(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Na(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Na(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const a=await Na(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){const n=hd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ss(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function qN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GN(t,e,n){const r=Vo(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=xb(e),{host:o,port:a}=KN(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(ss(c,r.config.emulator)&&ss(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,_s(o)?(qg(`${s}//${o}${l}`),Gg("Auth",!0)):i||YN()}function xb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KN(t){const e=xb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qw(o)}}}function qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function QN(t,e){return Pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return dd(t,"POST","/v1/accounts:signInWithPassword",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){return dd(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}async function ZN(t,e){return dd(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends tv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hw(e,n,"signInWithPassword",XN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hw(e,r,"signUpPassword",QN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ZN(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return dd(t,"POST","/v1/accounts:signInWithIdp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="http://localhost";class as extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new as(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:eO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nO(t){const e=Ua(za(t)).link,n=e?Ua(za(e)).deep_link_id:null,r=Ua(za(t)).deep_link_id;return(r?Ua(za(r)).link:null)||r||n||e||t}class nv{constructor(e){const n=Ua(za(e)),r=n.apiKey??null,i=n.oobCode??null,s=tO(n.mode??null);Z(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=nO(e);try{return new nv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nv.parseLink(n);return Z(r,"argument-error"),xl._fromEmailAndCode(e,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends su{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends su{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends su{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xn._fromIdTokenResponse(e,r,i),o=Gw(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Gw(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Rr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _h(e,n,r,i)}}function kb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,s,e,r):s})}async function rO(t,e,n=!1){const r=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e,n=!1){const{auth:r}=t;if(fn(r.app))return Promise.reject(ui(r));const i="reauthenticate";try{const s=await Cl(t,kb(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Zg(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e,n=!1){if(fn(t.app))return Promise.reject(ui(t));const r="signIn",i=await kb(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sO(t,e){return Db(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function aO(t,e,n){return fn(t.app)?Promise.reject(ui(t)):sO(Et(t),Fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oO(t),r})}function lO(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function uO(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function cO(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function Nb(t){return Et(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1e3,dO=10;class Mb extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mb.type="LOCAL";const fO=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lb.type="SESSION";const $b=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await pO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=rv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function gO(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function vO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wO(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",_O=1,Th="firebaseLocalStorage",jb="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function EO(){const t=indexedDB.deleteDatabase(Fb);return new ou(t).toPromise()}function pm(){const t=indexedDB.open(Fb,_O);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Th,{keyPath:jb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await EO(),e(await pm()))})})}async function Kw(t,e,n){const r=md(t,!0).put({[jb]:e,value:n});return new ou(r).toPromise()}async function TO(t,e){const n=md(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function Yw(t,e){const n=md(t,!0).delete(e);return new ou(n).toPromise()}const SO=800,bO=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(wO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vO(),!this.activeServiceWorker)return;this.sender=new mO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await Kw(e,Eh,"1"),await Yw(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=md(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const IO=Ub;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){return e?gr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PO(t){return Db(t.auth,new iv(t),t.bypassAuthState)}function CO(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),iO(n,new iv(t),t.bypassAuthState)}async function xO(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),rO(n,new iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PO;case"linkViaPopup":case"linkViaRedirect":return xO;case"reauthViaPopup":case"reauthViaRedirect":return CO;default:Mn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new iu(2e3,1e4);class Js extends zb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RO.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="pendingRedirect",Dc=new Map;class DO extends zb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await NO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NO(t,e){const n=LO(e),r=MO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OO(t,e){Dc.set(t._key(),e)}function MO(t){return gr(t._redirectPersistence)}function LO(t){return kc(kO,t.config.apiKey,t.name)}async function $O(t,e,n=!1){if(fn(t.app))return Promise.reject(ui(t));const r=Vo(t),i=AO(r,e),o=await new DO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=10*60*1e3;class FO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bb(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e={}){return Pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BO=/^https?/;async function WO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UO(t);for(const n of e)try{if(HO(n))return}catch{}Mn(t,"unauthorized-domain")}function HO(t){const e=dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BO.test(n))return!1;if(zO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new iu(3e4,6e4);function Xw(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GO(t){return new Promise((e,n)=>{var i,s,o;function r(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),n(Jn(t,"network-request-failed"))},timeout:qO.get()})}if((s=(i=Zn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Zn().gapi)!=null&&o.load)r();else{const a=jN("iframefcb");return Zn()[a]=()=>{gapi.load?r():n(Jn(t,"network-request-failed"))},Pb(`${FN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function KO(t){return Nc=Nc||GO(t),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new iu(5e3,15e3),QO="__/auth/iframe",XO="emulator/auth/iframe",JO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,XO):`https://${t.config.authDomain}/${QO}`,r={apiKey:e.apiKey,appName:t.name,v:$o},i=ZO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function t2(t){const e=await KO(t),n=Zn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:e2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=Zn().setTimeout(()=>{s(o)},YO.get());function l(){Zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,i2=600,s2="_blank",o2="http://localhost";class Jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(t,e,n,r=r2,i=i2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...n2,width:r.toString(),height:i.toString(),top:s,left:o},c=Nt().toLowerCase();n&&(a=_b(c)?s2:n),yb(c)&&(e=e||o2,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(RN(c)&&a!=="_self")return l2(e||"",a),new Jw(null);const d=window.open(e||"",a,h);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new Jw(d)}function l2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function Zw(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(e instanceof Rb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof su){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${h2}=${encodeURIComponent(l)}`:"";return`${d2(t)}?${ru(a).slice(1)}${c}`}function d2({config:t}){return t.emulator?Jg(t,c2):`https://${t.authDomain}/${u2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=$O,this._overrideRedirectResult=OO}async _openPopup(e,n,r,i){var o;Sr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Zw(e,n,r,dm(),i);return a2(e,s,rv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zw(e,n,r,dm(),i);return gO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t2(e),r=new FO(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Qf];s!==void 0&&n(!!s),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ib()||wb()||ev()}}const p2=f2;var e_="@firebase/auth",t_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(t){os(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},c=new LN(r,i,s,l);return qN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),os(new mi("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new m2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(e_,t_,g2(t)),Xn(e_,t_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=5*60,w2=ib("authIdTokenMaxAge")||y2;let n_=null;const _2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w2)return;const i=n==null?void 0:n.token;n_!==i&&(n_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function E2(t=Qg()){const e=hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(t,{popupRedirectResolver:p2,persistence:[IO,fO,$b]}),r=ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_2(s.toString());uO(n,o,()=>o(n.currentUser)),lO(n,a=>o(a))}}const i=tb("auth");return i&&GN(n,`http://${i}`),n}function T2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$N({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",T2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var S2="firebase",b2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(S2,b2,"app");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,Wb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function T(){}T.prototype=w.prototype,b.F=w.prototype,b.prototype=new T,b.prototype.constructor=b,b.D=function(A,R,D){for(var C=Array(arguments.length-2),q=2;q<arguments.length;q++)C[q-2]=arguments[q];return w.prototype[R].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,w,T){T||(T=0);const A=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)A[R]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(R=0;R<16;++R)A[R]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;w=b.g[0],T=b.g[1],R=b.g[2];let D=b.g[3],C;C=w+(D^T&(R^D))+A[0]+3614090360&4294967295,w=T+(C<<7&4294967295|C>>>25),C=D+(R^w&(T^R))+A[1]+3905402710&4294967295,D=w+(C<<12&4294967295|C>>>20),C=R+(T^D&(w^T))+A[2]+606105819&4294967295,R=D+(C<<17&4294967295|C>>>15),C=T+(w^R&(D^w))+A[3]+3250441966&4294967295,T=R+(C<<22&4294967295|C>>>10),C=w+(D^T&(R^D))+A[4]+4118548399&4294967295,w=T+(C<<7&4294967295|C>>>25),C=D+(R^w&(T^R))+A[5]+1200080426&4294967295,D=w+(C<<12&4294967295|C>>>20),C=R+(T^D&(w^T))+A[6]+2821735955&4294967295,R=D+(C<<17&4294967295|C>>>15),C=T+(w^R&(D^w))+A[7]+4249261313&4294967295,T=R+(C<<22&4294967295|C>>>10),C=w+(D^T&(R^D))+A[8]+1770035416&4294967295,w=T+(C<<7&4294967295|C>>>25),C=D+(R^w&(T^R))+A[9]+2336552879&4294967295,D=w+(C<<12&4294967295|C>>>20),C=R+(T^D&(w^T))+A[10]+4294925233&4294967295,R=D+(C<<17&4294967295|C>>>15),C=T+(w^R&(D^w))+A[11]+2304563134&4294967295,T=R+(C<<22&4294967295|C>>>10),C=w+(D^T&(R^D))+A[12]+1804603682&4294967295,w=T+(C<<7&4294967295|C>>>25),C=D+(R^w&(T^R))+A[13]+4254626195&4294967295,D=w+(C<<12&4294967295|C>>>20),C=R+(T^D&(w^T))+A[14]+2792965006&4294967295,R=D+(C<<17&4294967295|C>>>15),C=T+(w^R&(D^w))+A[15]+1236535329&4294967295,T=R+(C<<22&4294967295|C>>>10),C=w+(R^D&(T^R))+A[1]+4129170786&4294967295,w=T+(C<<5&4294967295|C>>>27),C=D+(T^R&(w^T))+A[6]+3225465664&4294967295,D=w+(C<<9&4294967295|C>>>23),C=R+(w^T&(D^w))+A[11]+643717713&4294967295,R=D+(C<<14&4294967295|C>>>18),C=T+(D^w&(R^D))+A[0]+3921069994&4294967295,T=R+(C<<20&4294967295|C>>>12),C=w+(R^D&(T^R))+A[5]+3593408605&4294967295,w=T+(C<<5&4294967295|C>>>27),C=D+(T^R&(w^T))+A[10]+38016083&4294967295,D=w+(C<<9&4294967295|C>>>23),C=R+(w^T&(D^w))+A[15]+3634488961&4294967295,R=D+(C<<14&4294967295|C>>>18),C=T+(D^w&(R^D))+A[4]+3889429448&4294967295,T=R+(C<<20&4294967295|C>>>12),C=w+(R^D&(T^R))+A[9]+568446438&4294967295,w=T+(C<<5&4294967295|C>>>27),C=D+(T^R&(w^T))+A[14]+3275163606&4294967295,D=w+(C<<9&4294967295|C>>>23),C=R+(w^T&(D^w))+A[3]+4107603335&4294967295,R=D+(C<<14&4294967295|C>>>18),C=T+(D^w&(R^D))+A[8]+1163531501&4294967295,T=R+(C<<20&4294967295|C>>>12),C=w+(R^D&(T^R))+A[13]+2850285829&4294967295,w=T+(C<<5&4294967295|C>>>27),C=D+(T^R&(w^T))+A[2]+4243563512&4294967295,D=w+(C<<9&4294967295|C>>>23),C=R+(w^T&(D^w))+A[7]+1735328473&4294967295,R=D+(C<<14&4294967295|C>>>18),C=T+(D^w&(R^D))+A[12]+2368359562&4294967295,T=R+(C<<20&4294967295|C>>>12),C=w+(T^R^D)+A[5]+4294588738&4294967295,w=T+(C<<4&4294967295|C>>>28),C=D+(w^T^R)+A[8]+2272392833&4294967295,D=w+(C<<11&4294967295|C>>>21),C=R+(D^w^T)+A[11]+1839030562&4294967295,R=D+(C<<16&4294967295|C>>>16),C=T+(R^D^w)+A[14]+4259657740&4294967295,T=R+(C<<23&4294967295|C>>>9),C=w+(T^R^D)+A[1]+2763975236&4294967295,w=T+(C<<4&4294967295|C>>>28),C=D+(w^T^R)+A[4]+1272893353&4294967295,D=w+(C<<11&4294967295|C>>>21),C=R+(D^w^T)+A[7]+4139469664&4294967295,R=D+(C<<16&4294967295|C>>>16),C=T+(R^D^w)+A[10]+3200236656&4294967295,T=R+(C<<23&4294967295|C>>>9),C=w+(T^R^D)+A[13]+681279174&4294967295,w=T+(C<<4&4294967295|C>>>28),C=D+(w^T^R)+A[0]+3936430074&4294967295,D=w+(C<<11&4294967295|C>>>21),C=R+(D^w^T)+A[3]+3572445317&4294967295,R=D+(C<<16&4294967295|C>>>16),C=T+(R^D^w)+A[6]+76029189&4294967295,T=R+(C<<23&4294967295|C>>>9),C=w+(T^R^D)+A[9]+3654602809&4294967295,w=T+(C<<4&4294967295|C>>>28),C=D+(w^T^R)+A[12]+3873151461&4294967295,D=w+(C<<11&4294967295|C>>>21),C=R+(D^w^T)+A[15]+530742520&4294967295,R=D+(C<<16&4294967295|C>>>16),C=T+(R^D^w)+A[2]+3299628645&4294967295,T=R+(C<<23&4294967295|C>>>9),C=w+(R^(T|~D))+A[0]+4096336452&4294967295,w=T+(C<<6&4294967295|C>>>26),C=D+(T^(w|~R))+A[7]+1126891415&4294967295,D=w+(C<<10&4294967295|C>>>22),C=R+(w^(D|~T))+A[14]+2878612391&4294967295,R=D+(C<<15&4294967295|C>>>17),C=T+(D^(R|~w))+A[5]+4237533241&4294967295,T=R+(C<<21&4294967295|C>>>11),C=w+(R^(T|~D))+A[12]+1700485571&4294967295,w=T+(C<<6&4294967295|C>>>26),C=D+(T^(w|~R))+A[3]+2399980690&4294967295,D=w+(C<<10&4294967295|C>>>22),C=R+(w^(D|~T))+A[10]+4293915773&4294967295,R=D+(C<<15&4294967295|C>>>17),C=T+(D^(R|~w))+A[1]+2240044497&4294967295,T=R+(C<<21&4294967295|C>>>11),C=w+(R^(T|~D))+A[8]+1873313359&4294967295,w=T+(C<<6&4294967295|C>>>26),C=D+(T^(w|~R))+A[15]+4264355552&4294967295,D=w+(C<<10&4294967295|C>>>22),C=R+(w^(D|~T))+A[6]+2734768916&4294967295,R=D+(C<<15&4294967295|C>>>17),C=T+(D^(R|~w))+A[13]+1309151649&4294967295,T=R+(C<<21&4294967295|C>>>11),C=w+(R^(T|~D))+A[4]+4149444226&4294967295,w=T+(C<<6&4294967295|C>>>26),C=D+(T^(w|~R))+A[11]+3174756917&4294967295,D=w+(C<<10&4294967295|C>>>22),C=R+(w^(D|~T))+A[2]+718787259&4294967295,R=D+(C<<15&4294967295|C>>>17),C=T+(D^(R|~w))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const T=w-this.blockSize,A=this.C;let R=this.h,D=0;for(;D<w;){if(R==0)for(;D<=T;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<w;)if(A[R++]=b.charCodeAt(D++),R==this.blockSize){i(this,A),R=0;break}}else for(;D<w;)if(A[R++]=b[D++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var T=b.length-8;T<b.length;++T)b[T]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,T=0;T<4;++T)for(let A=0;A<32;A+=8)b[w++]=this.g[T]>>>A&255;return b};function s(b,w){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=w(b)}function o(b,w){this.h=w;const T=[];let A=!0;for(let R=b.length-1;R>=0;R--){const D=b[R]|0;A&&D==w||(T[R]=D,A=!1)}this.g=T}var a={};function l(b){return-128<=b&&b<128?s(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return P(c(-b));const w=[];let T=1;for(let A=0;b>=T;A++)w[A]=b/T|0,T*=4294967296;return new o(w,0)}function h(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return P(h(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=c(Math.pow(w,8));let A=d;for(let D=0;D<b.length;D+=8){var R=Math.min(8,b.length-D);const C=parseInt(b.substring(D,D+R),w);R<8?(R=c(Math.pow(w,R)),A=A.j(R).add(c(C))):(A=A.j(T),A=A.add(c(C)))}return A}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-P(this).m();let b=0,w=1;for(let T=0;T<this.g.length;T++){const A=this.i(T);b+=(A>=0?A:4294967296+A)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(y(this))return"-"+P(this).toString(b);const w=c(Math.pow(b,6));var T=this;let A="";for(;;){const R=x(T,w).g;T=E(T,R.j(w));let D=((T.g.length>0?T.g[0]:T.h)>>>0).toString(b);if(T=R,_(T))return D+A;for(;D.length<6;)D="0"+D;A=D+A}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=E(this,b),y(b)?-1:_(b)?0:1};function P(b){const w=b.g.length,T=[];for(let A=0;A<w;A++)T[A]=~b.g[A];return new o(T,~b.h).add(f)}t.abs=function(){return y(this)?P(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),T=[];let A=0;for(let R=0;R<=w;R++){let D=A+(this.i(R)&65535)+(b.i(R)&65535),C=(D>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);A=C>>>16,D&=65535,C&=65535,T[R]=C<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(b,w){return b.add(P(w))}t.j=function(b){if(_(this)||_(b))return d;if(y(this))return y(b)?P(this).j(P(b)):P(P(this).j(b));if(y(b))return P(this.j(P(b)));if(this.l(g)<0&&b.l(g)<0)return c(this.m()*b.m());const w=this.g.length+b.g.length,T=[];for(var A=0;A<2*w;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<b.g.length;R++){const D=this.i(A)>>>16,C=this.i(A)&65535,q=b.i(R)>>>16,ne=b.i(R)&65535;T[2*A+2*R]+=C*ne,v(T,2*A+2*R),T[2*A+2*R+1]+=D*ne,v(T,2*A+2*R+1),T[2*A+2*R+1]+=C*q,v(T,2*A+2*R+1),T[2*A+2*R+2]+=D*q,v(T,2*A+2*R+2)}for(b=0;b<w;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=w;b<2*w;b++)T[b]=0;return new o(T,0)};function v(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function S(b,w){this.g=b,this.h=w}function x(b,w){if(_(w))throw Error("division by zero");if(_(b))return new S(d,d);if(y(b))return w=x(P(b),w),new S(P(w.g),P(w.h));if(y(w))return w=x(b,P(w)),new S(P(w.g),w.h);if(b.g.length>30){if(y(b)||y(w))throw Error("slowDivide_ only works with positive integers.");for(var T=f,A=w;A.l(b)<=0;)T=N(T),A=N(A);var R=O(T,1),D=O(A,1);for(A=O(A,2),T=O(T,2);!_(A);){var C=D.add(A);C.l(b)<=0&&(R=R.add(T),D=C),A=O(A,1),T=O(T,1)}return w=E(b,R.j(w)),new S(R,w)}for(R=d;b.l(w)>=0;){for(T=Math.max(1,Math.floor(b.m()/w.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),D=c(T),C=D.j(w);y(C)||C.l(b)>0;)T-=A,D=c(T),C=D.j(w);_(D)&&(D=f),R=R.add(D),b=E(b,C)}return new S(R,b)}t.B=function(b){return x(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let A=0;A<w;A++)T[A]=this.i(A)&b.i(A);return new o(T,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let A=0;A<w;A++)T[A]=this.i(A)|b.i(A);return new o(T,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),T=[];for(let A=0;A<w;A++)T[A]=this.i(A)^b.i(A);return new o(T,this.h^b.h)};function N(b){const w=b.g.length+1,T=[];for(let A=0;A<w;A++)T[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(T,b.h)}function O(b,w){const T=w>>5;w%=32;const A=b.g.length-T,R=[];for(let D=0;D<A;D++)R[D]=w>0?b.i(D+T)>>>w|b.i(D+T+1)<<32-w:b.i(D+T);return new o(R,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Wb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ci=o}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hb,Ba,qb,Oc,mm,Gb,Kb,Yb;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var L=u[I];if(!(L in m))break e;m=m[L]}u=u[u.length-1],I=m[u],p=p(I),p!=I&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(p){var m=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&m.push([I,p[I]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,m){return u.call.apply(u.bind,arguments)}function c(u,p,m){return c=l,c.apply(null,arguments)}function h(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function d(u,p){function m(){}m.prototype=p.prototype,u.Z=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Ob=function(I,L,$){for(var W=Array(arguments.length-2),se=2;se<arguments.length;se++)W[se-2]=arguments[se];return p.prototype[L].apply(I,W)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const p=u.length;if(p>0){const m=Array(p);for(let I=0;I<p;I++)m[I]=u[I];return m}return[]}function _(u,p){for(let I=1;I<arguments.length;I++){const L=arguments[I];var m=typeof L;if(m=m!="object"?m:L?Array.isArray(L)?"array":m:"null",m=="array"||m=="object"&&typeof L.length=="number"){m=u.length||0;const $=L.length||0;u.length=m+$;for(let W=0;W<$;W++)u[m+W]=L[W]}else u.push(L)}}class y{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function P(u){o.setTimeout(()=>{throw u},0)}function E(){var u=b;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,m){const I=S.get();I.set(p,m),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new y(()=>new x,u=>u.reset());class x{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,b=new v,w=()=>{const u=Promise.resolve(void 0);N=()=>{u.then(T)}};function T(){for(var u;u=E();){try{u.h.call(u.g)}catch(m){P(m)}var p=S;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}O=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};o.addEventListener("test",m,p),o.removeEventListener("test",m,p)}catch{}return u}();function C(u){return/^[\s\xa0]*$/.test(u)}function q(u,p){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}d(q,R),q.prototype.init=function(u,p){const m=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(u,p,m,I,L){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!I,this.ha=L,this.key=++te,this.da=this.fa=!1}function U(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Y(u,p,m){for(const I in u)p.call(m,u[I],I,u)}function X(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function ae(u){const p={};for(const m in u)p[m]=u[m];return p}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Be(u,p){let m,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(m in I)u[m]=I[m];for(let $=0;$<ue.length;$++)m=ue[$],Object.prototype.hasOwnProperty.call(I,m)&&(u[m]=I[m])}}function tt(u){this.src=u,this.g={},this.h=0}tt.prototype.add=function(u,p,m,I,L){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const W=mt(u,p,I,L);return W>-1?(p=u[W],m||(p.fa=!1)):(p=new oe(p,this.src,$,!!I,L),p.fa=m,u.push(p)),p};function bt(u,p){const m=p.type;if(m in u.g){var I=u.g[m],L=Array.prototype.indexOf.call(I,p,void 0),$;($=L>=0)&&Array.prototype.splice.call(I,L,1),$&&(U(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function mt(u,p,m,I){for(let L=0;L<u.length;++L){const $=u[L];if(!$.da&&$.listener==p&&$.capture==!!m&&$.ha==I)return L}return-1}var Jt="closure_lm_"+(Math.random()*1e6|0),bn={};function Ps(u,p,m,I,L){if(I&&I.once)return Au(u,p,m,I,L);if(Array.isArray(p)){for(let $=0;$<p.length;$++)Ps(u,p[$],m,I,L);return null}return m=aa(m),u&&u[ne]?u.J(p,m,a(I)?!!I.capture:!!I,L):Iu(u,p,m,!1,I,L)}function Iu(u,p,m,I,L,$){if(!p)throw Error("Invalid event type");const W=a(L)?!!L.capture:!!L;let se=Cs(u);if(se||(u[Jt]=se=new tt(u)),m=se.add(p,m,I,W,$),m.proxy)return m;if(I=ra(),m.proxy=I,I.src=u,I.listener=m,u.addEventListener)D||(L=W),L===void 0&&(L=!1),u.addEventListener(p.toString(),I,L);else if(u.attachEvent)u.attachEvent(Pu(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ra(){function u(m){return p.call(u.src,u.listener,m)}const p=Cu;return u}function Au(u,p,m,I,L){if(Array.isArray(p)){for(let $=0;$<p.length;$++)Au(u,p[$],m,I,L);return null}return m=aa(m),u&&u[ne]?u.K(p,m,a(I)?!!I.capture:!!I,L):Iu(u,p,m,!0,I,L)}function ia(u,p,m,I,L){if(Array.isArray(p))for(var $=0;$<p.length;$++)ia(u,p[$],m,I,L);else I=a(I)?!!I.capture:!!I,m=aa(m),u&&u[ne]?(u=u.i,$=String(p).toString(),$ in u.g&&(p=u.g[$],m=mt(p,m,I,L),m>-1&&(U(p[m]),Array.prototype.splice.call(p,m,1),p.length==0&&(delete u.g[$],u.h--)))):u&&(u=Cs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=mt(p,m,I,L)),(m=u>-1?p[u]:null)&&sa(m))}function sa(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ne])bt(p.i,u);else{var m=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(m,I,u.capture):p.detachEvent?p.detachEvent(Pu(m),I):p.addListener&&p.removeListener&&p.removeListener(I),(m=Cs(p))?(bt(m,u),m.h==0&&(m.src=null,p[Jt]=null)):U(u)}}}function Pu(u){return u in bn?bn[u]:bn[u]="on"+u}function Cu(u,p){if(u.da)u=!0;else{p=new q(p,this);const m=u.listener,I=u.ha||u.src;u.fa&&sa(u),u=m.call(I,p)}return u}function Cs(u){return u=u[Jt],u instanceof tt?u:null}var oa="__closure_events_fn_"+(Math.random()*1e9>>>0);function aa(u){return typeof u=="function"?u:(u[oa]||(u[oa]=function(p){return u.handleEvent(p)}),u[oa])}function ke(){A.call(this),this.i=new tt(this),this.M=this,this.G=null}d(ke,A),ke.prototype[ne]=!0,ke.prototype.removeEventListener=function(u,p,m,I){ia(this,u,p,m,I)};function Qe(u,p){var m,I=u.G;if(I)for(m=[];I;I=I.G)m.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new R(p,u);else if(p instanceof R)p.target=p.target||u;else{var L=p;p=new R(I,u),Be(p,L)}L=!0;let $,W;if(m)for(W=m.length-1;W>=0;W--)$=p.g=m[W],L=ki($,I,!0,p)&&L;if($=p.g=u,L=ki($,I,!0,p)&&L,L=ki($,I,!1,p)&&L,m)for(W=0;W<m.length;W++)$=p.g=m[W],L=ki($,I,!1,p)&&L}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const m=u.g[p];for(let I=0;I<m.length;I++)U(m[I]);delete u.g[p],u.h--}}this.G=null},ke.prototype.J=function(u,p,m,I){return this.i.add(String(u),p,!1,m,I)},ke.prototype.K=function(u,p,m,I){return this.i.add(String(u),p,!0,m,I)};function ki(u,p,m,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let $=0;$<p.length;++$){const W=p[$];if(W&&!W.da&&W.capture==m){const se=W.listener,nt=W.ha||W.src;W.fa&&bt(u.i,W),L=se.call(nt,I)!==!1&&L}}return L&&!I.defaultPrevented}function xu(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function xs(u){u.g=xu(()=>{u.g=null,u.i&&(u.i=!1,xs(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ru extends A{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){A.call(this),this.h=u,this.g={}}d(Dr,A);var la=[];function ua(u){Y(u.g,function(p,m){this.g.hasOwnProperty(m)&&sa(p)},u),u.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),ua(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ef=o.JSON.stringify,kC=o.JSON.parse,DC=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Cy(){}function xy(){}var ca={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tf(){R.call(this,"d")}d(tf,R);function nf(){R.call(this,"c")}d(nf,R);var Di={},Ry=null;function ku(){return Ry=Ry||new ke}Di.Ia="serverreachability";function ky(u){R.call(this,Di.Ia,u)}d(ky,R);function ha(u){const p=ku();Qe(p,new ky(p))}Di.STAT_EVENT="statevent";function Dy(u,p){R.call(this,Di.STAT_EVENT,u),this.stat=p}d(Dy,R);function Lt(u){const p=ku();Qe(p,new Dy(p,u))}Di.Ja="timingevent";function Ny(u,p){R.call(this,Di.Ja,u),this.size=p}d(Ny,R);function da(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function fa(){this.g=!0}fa.prototype.ua=function(){this.g=!1};function NC(u,p,m,I,L,$){u.info(function(){if(u.g)if($){var W="",se=$.split("&");for(let we=0;we<se.length;we++){var nt=se[we].split("=");if(nt.length>1){const lt=nt[0];nt=nt[1];const Fn=lt.split("_");W=Fn.length>=2&&Fn[1]=="type"?W+(lt+"="+nt+"&"):W+(lt+"=redacted&")}}}else W=null;else W=$;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+p+`
`+m+`
`+W})}function OC(u,p,m,I,L,$,W){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+p+`
`+m+`
`+$+" "+W})}function Rs(u,p,m,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+LC(u,m)+(I?" "+I:"")})}function MC(u,p){u.info(function(){return"TIMEOUT: "+p})}fa.prototype.info=function(){};function LC(u,p){if(!u.g)return p;if(!p)return null;try{const $=JSON.parse(p);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var m=$[u];if(!(m.length<2)){var I=m[1];if(Array.isArray(I)&&!(I.length<1)){var L=I[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<I.length;W++)I[W]=""}}}}return ef($)}catch{return p}}var Du={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},My;function rf(){}d(rf,Cy),rf.prototype.g=function(){return new XMLHttpRequest},My=new rf;function pa(u){return encodeURIComponent(String(u))}function $C(u){var p=1;u=u.split(":");const m=[];for(;p>0&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function Nr(u,p,m,I){this.j=u,this.i=p,this.l=m,this.S=I||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ly}function Ly(){this.i=null,this.g="",this.h=!1}var $y={},sf={};function of(u,p,m){u.M=1,u.A=Ou(Vn(p)),u.u=m,u.R=!0,Vy(u,null)}function Vy(u,p){u.F=Date.now(),Nu(u),u.B=Vn(u.A);var m=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),Xy(m.i,"t",I),u.C=0,m=u.j.L,u.h=new Ly,u.g=m0(u.j,m?p:null,!u.u),u.P>0&&(u.O=new Ru(c(u.Y,u,u.g),u.P)),p=u.V,m=u.g,I=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(la[0]=L.toString()),L=la);for(let $=0;$<L.length;$++){const W=Ps(m,L[$],I||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.J?ae(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ha(),NC(u.i,u.v,u.B,u.l,u.S,u.u)}Nr.prototype.ba=function(u){u=u.target;const p=this.O;p&&Lr(u)==3?p.j():this.Y(u)},Nr.prototype.Y=function(u){try{if(u==this.g)e:{const se=Lr(this.g),nt=this.g.ya(),we=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||i0(this.g)))){this.K||se!=4||nt==7||(nt==8||we<=0?ha(3):ha(2)),af(this);var p=this.g.ca();this.X=p;var m=VC(this);if(this.o=p==200,OC(this.i,this.v,this.B,this.l,this.S,se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,L=this.g;if((I=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(I)){var $=I;break t}}$=null}if(u=$)Rs(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lf(this,u);else{this.o=!1,this.m=3,Lt(12),Ni(this),ma(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<m.length;)if(lt=FC(this,m),lt==sf){se==4&&(this.m=4,Lt(14),u=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==$y){this.m=4,Lt(15),Rs(this.i,this.l,m,"[Invalid Chunk]"),u=!1;break}else Rs(this.i,this.l,lt,null),lf(this,lt);if(Fy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||m.length!=0||this.h.h||(this.m=1,Lt(16),u=!1),this.o=this.o&&u,!u)Rs(this.i,this.l,m,"[Invalid Chunked Response]"),Ni(this),ma(this);else if(m.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),gf(W),W.P=!0,Lt(11))}}else Rs(this.i,this.l,m,null),lf(this,m);se==4&&Ni(this),this.o&&!this.K&&(se==4?h0(this.j,this):(this.o=!1,Nu(this)))}else ZC(this.g),p==400&&m.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Ni(this),ma(this)}}}catch{}finally{}};function VC(u){if(!Fy(u))return u.g.la();const p=i0(u.g);if(p==="")return"";let m="";const I=p.length,L=Lr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ni(u),ma(u),"";u.h.i=new o.TextDecoder}for(let $=0;$<I;$++)u.h.h=!0,m+=u.h.i.decode(p[$],{stream:!(L&&$==I-1)});return p.length=0,u.h.g+=m,u.C=0,u.h.g}function Fy(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function FC(u,p){var m=u.C,I=p.indexOf(`
`,m);return I==-1?sf:(m=Number(p.substring(m,I)),isNaN(m)?$y:(I+=1,I+m>p.length?sf:(p=p.slice(I,I+m),u.C=I+m,p)))}Nr.prototype.cancel=function(){this.K=!0,Ni(this)};function Nu(u){u.T=Date.now()+u.H,jy(u,u.H)}function jy(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=da(c(u.aa,u),p)}function af(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Nr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(MC(this.i,this.B),this.M!=2&&(ha(),Lt(17)),Ni(this),this.m=2,ma(this)):jy(this,this.T-u)};function ma(u){u.j.I==0||u.K||h0(u.j,u)}function Ni(u){af(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,ua(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function lf(u,p){try{var m=u.j;if(m.I!=0&&(m.g==u||uf(m.h,u))){if(!u.L&&uf(m.h,u)&&m.I==3){try{var I=m.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<u.F)Fu(m),$u(m);else break e;mf(m),Lt(18)}}else m.xa=L[1],0<m.xa-m.K&&L[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=da(c(m.Va,m),6e3));By(m.h)<=1&&m.ta&&(m.ta=void 0)}else Mi(m,11)}else if((u.L||m.g==u)&&Fu(m),!C(p))for(L=m.Ba.g.parse(p),p=0;p<L.length;p++){let we=L[p];const lt=we[0];if(!(lt<=m.K))if(m.K=lt,we=we[1],m.I==2)if(we[0]=="c"){m.M=we[1],m.ba=we[2];const Fn=we[3];Fn!=null&&(m.ka=Fn,m.j.info("VER="+m.ka));const Li=we[4];Li!=null&&(m.za=Li,m.j.info("SVER="+m.za));const $r=we[5];$r!=null&&typeof $r=="number"&&$r>0&&(I=1.5*$r,m.O=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const Vr=u.g;if(Vr){const Uu=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var $=I.h;$.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(cf($,$.h),$.h=null))}if(I.G){const vf=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(I.wa=vf,be(I.J,I.G,vf))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-u.F,m.j.info("Handshake RTT: "+m.T+"ms")),I=m;var W=u;if(I.na=p0(I,I.L?I.ba:null,I.W),W.L){Wy(I.h,W);var se=W,nt=I.O;nt&&(se.H=nt),se.D&&(af(se),Nu(se)),I.g=W}else u0(I);m.i.length>0&&Vu(m)}else we[0]!="stop"&&we[0]!="close"||Mi(m,7);else m.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Mi(m,7):pf(m):we[0]!="noop"&&m.l&&m.l.qa(we),m.A=0)}}ha(4)}catch{}}var jC=class{constructor(u,p){this.g=u,this.map=p}};function Uy(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function By(u){return u.h?1:u.g?u.g.size:0}function uf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function cf(u,p){u.g?u.g.add(p):u.h=p}function Wy(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Uy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hy(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.G);return p}return g(u.i)}var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UC(u,p){if(u){u=u.split("&");for(let m=0;m<u.length;m++){const I=u[m].indexOf("=");let L,$=null;I>=0?(L=u[m].substring(0,I),$=u[m].substring(I+1)):L=u[m],p(L,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Or(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Or?(this.l=u.l,ga(this,u.j),this.o=u.o,this.g=u.g,va(this,u.u),this.h=u.h,hf(this,Jy(u.i)),this.m=u.m):u&&(p=String(u).match(qy))?(this.l=!1,ga(this,p[1]||"",!0),this.o=ya(p[2]||""),this.g=ya(p[3]||"",!0),va(this,p[4]),this.h=ya(p[5]||"",!0),hf(this,p[6]||"",!0),this.m=ya(p[7]||"")):(this.l=!1,this.i=new _a(null,this.l))}Or.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(wa(p,Gy,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wa(p,Gy,!0),"@"),u.push(pa(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&u.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(wa(m,m.charAt(0)=="/"?WC:BC,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",wa(m,qC)),u.join("")},Or.prototype.resolve=function(u){const p=Vn(this);let m=!!u.j;m?ga(p,u.j):m=!!u.o,m?p.o=u.o:m=!!u.g,m?p.g=u.g:m=u.u!=null;var I=u.h;if(m)va(p,u.u);else if(m=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var L=p.h.lastIndexOf("/");L!=-1&&(I=p.h.slice(0,L+1)+I)}if(L=I,L==".."||L==".")I="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){I=L.lastIndexOf("/",0)==0,L=L.split("/");const $=[];for(let W=0;W<L.length;){const se=L[W++];se=="."?I&&W==L.length&&$.push(""):se==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),I&&W==L.length&&$.push("")):($.push(se),I=!0)}I=$.join("/")}else I=L}return m?p.h=I:m=u.i.toString()!=="",m?hf(p,Jy(u.i)):m=!!u.m,m&&(p.m=u.m),p};function Vn(u){return new Or(u)}function ga(u,p,m){u.j=m?ya(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function va(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function hf(u,p,m){p instanceof _a?(u.i=p,GC(u.i,u.l)):(m||(p=wa(p,HC)),u.i=new _a(p,u.l))}function be(u,p,m){u.i.set(p,m)}function Ou(u){return be(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ya(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,zC),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gy=/[#\/\?@]/g,BC=/[#\?:]/g,WC=/[#\?]/g,HC=/[#\?@]/g,qC=/#/g;function _a(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Oi(u){u.g||(u.g=new Map,u.h=0,u.i&&UC(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=_a.prototype,t.add=function(u,p){Oi(this),this.i=null,u=ks(this,u);let m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function Ky(u,p){Oi(u),p=ks(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Yy(u,p){return Oi(u),p=ks(u,p),u.g.has(p)}t.forEach=function(u,p){Oi(this),this.g.forEach(function(m,I){m.forEach(function(L){u.call(p,L,I,this)},this)},this)};function Qy(u,p){Oi(u);let m=[];if(typeof p=="string")Yy(u,p)&&(m=m.concat(u.g.get(ks(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)m=m.concat(u[p]);return m}t.set=function(u,p){return Oi(this),this.i=null,u=ks(this,u),Yy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Qy(this,u),u.length>0?String(u[0]):p):p};function Xy(u,p,m){Ky(u,p),m.length>0&&(u.i=null,u.g.set(ks(u,p),g(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var m=p[I];const L=pa(m);m=Qy(this,m);for(let $=0;$<m.length;$++){let W=L;m[$]!==""&&(W+="="+pa(m[$])),u.push(W)}}return this.i=u.join("&")};function Jy(u){const p=new _a;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function ks(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function GC(u,p){p&&!u.j&&(Oi(u),u.i=null,u.g.forEach(function(m,I){const L=I.toLowerCase();I!=L&&(Ky(this,I),Xy(this,L,m))},u)),u.j=p}function KC(u,p){const m=new fa;if(o.Image){const I=new Image;I.onload=h(Mr,m,"TestLoadImage: loaded",!0,p,I),I.onerror=h(Mr,m,"TestLoadImage: error",!1,p,I),I.onabort=h(Mr,m,"TestLoadImage: abort",!1,p,I),I.ontimeout=h(Mr,m,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function YC(u,p){const m=new fa,I=new AbortController,L=setTimeout(()=>{I.abort(),Mr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(L),$.ok?Mr(m,"TestPingServer: ok",!0,p):Mr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Mr(m,"TestPingServer: error",!1,p)})}function Mr(u,p,m,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(m)}catch{}}function QC(){this.g=new DC}function df(u){this.i=u.Sb||null,this.h=u.ab||!1}d(df,Cy),df.prototype.g=function(){return new Mu(this.i,this.h)};function Mu(u,p){ke.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Mu,ke),t=Mu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Ta(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zy(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zy(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ea(this):Ta(this),this.readyState==3&&Zy(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ea(this))},t.Na=function(u){this.g&&(this.response=u,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ta(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Ta(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function e0(u){let p="";return Y(u,function(m,I){p+=I,p+=":",p+=m,p+=`\r
`}),p}function ff(u,p,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=e0(m),typeof u=="string"?m!=null&&pa(m):be(u,p,m))}function Ve(u){ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ve,ke);var XC=/^https?$/i,JC=["POST","PUT"];t=Ve.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():My.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){t0(this,$);return}if(u=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)m.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())m.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find($=>$.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(JC,p,void 0)>=0)||I||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,W]of m)this.g.setRequestHeader($,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){t0(this,$)}};function t0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,n0(u),Lu(u)}function n0(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Qe(this,"complete"),Qe(this,"abort"),Lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),Ve.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?r0(this):this.Xa())},t.Xa=function(){r0(this)};function r0(u){if(u.h&&typeof s<"u"){if(u.v&&Lr(u)==4)setTimeout(u.Ca.bind(u),0);else if(Qe(u,"readystatechange"),Lr(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var I;if(I=$===0){let W=String(u.D).match(qy)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),I=!XC.test(W?W.toLowerCase():"")}m=I}if(m)Qe(u,"complete"),Qe(u,"success");else{u.o=6;try{var L=Lr(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",n0(u)}}finally{Lu(u)}}}}function Lu(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const m=u.g;u.g=null,p||Qe(u,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Lr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Lr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),kC(p)}};function i0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ZC(u){const p={};u=(u.g&&Lr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(C(u[I]))continue;var m=$C(u[I]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const $=p[L]||[];p[L]=$,$.push(m)}X(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function s0(u){this.za=0,this.i=[],this.j=new fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,u),this.Za=Sa("retryDelaySeedMs",1e4,u),this.Ta=Sa("forwardChannelMaxRetries",2,u),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uy(u&&u.concurrentRequestLimit),this.Ba=new QC,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=s0.prototype,t.ka=8,t.I=1,t.connect=function(u,p,m,I){Lt(0),this.W=u,this.H=p||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.J=p0(this,null,this.W),Vu(this)};function pf(u){if(o0(u),u.I==3){var p=u.V++,m=Vn(u.J);if(be(m,"SID",u.M),be(m,"RID",p),be(m,"TYPE","terminate"),ba(u,m),p=new Nr(u,u.j,p),p.M=2,p.A=Ou(Vn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=p.A,m=!0),m||(p.g=m0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Nu(p)}f0(u)}function $u(u){u.g&&(gf(u),u.g.cancel(),u.g=null)}function o0(u){$u(u),u.v&&(o.clearTimeout(u.v),u.v=null),Fu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Vu(u){if(!zy(u.h)&&!u.m){u.m=!0;var p=u.Ea;N||w(),O||(N(),O=!0),b.add(p,u),u.D=0}}function ex(u,p){return By(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=da(c(u.Ea,u,p),d0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Nr(this,this.j,u);let $=this.o;if(this.U&&($?($=ae($),Be($,this.U)):$=this.U),this.u!==null||this.R||(L.J=$,$=null),this.S)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=l0(this,L,p),m=Vn(this.J),be(m,"RID",u),be(m,"CVER",22),this.G&&be(m,"X-HTTP-Session-Id",this.G),ba(this,m),$&&(this.R?p="headers="+pa(e0($))+"&"+p:this.u&&ff(m,this.u,$)),cf(this.h,L),this.Ra&&be(m,"TYPE","init"),this.S?(be(m,"$req",p),be(m,"SID","null"),L.U=!0,of(L,m,null)):of(L,m,p),this.I=2}}else this.I==3&&(u?a0(this,u):this.i.length==0||zy(this.h)||a0(this))};function a0(u,p){var m;p?m=p.l:m=u.V++;const I=Vn(u.J);be(I,"SID",u.M),be(I,"RID",m),be(I,"AID",u.K),ba(u,I),u.u&&u.o&&ff(I,u.u,u.o),m=new Nr(u,u.j,m,u.D+1),u.u===null&&(m.J=u.o),p&&(u.i=p.G.concat(u.i)),p=l0(u,m,1e3),m.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),cf(u.h,m),of(m,I,p)}function ba(u,p){u.H&&Y(u.H,function(m,I){be(p,I,m)}),u.l&&Y({},function(m,I){be(p,I,m)})}function l0(u,p,m){m=Math.min(u.i.length,m);const I=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let se=-1;for(;;){const nt=["count="+m];se==-1?m>0?(se=L[0].g,nt.push("ofs="+se)):se=0:nt.push("ofs="+se);let we=!0;for(let lt=0;lt<m;lt++){var $=L[lt].g;const Fn=L[lt].map;if($-=se,$<0)se=Math.max(0,L[lt].g-100),we=!1;else try{$="req"+$+"_"||"";try{var W=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Li,$r]of W){let Vr=$r;a($r)&&(Vr=ef($r)),nt.push($+Li+"="+encodeURIComponent(Vr))}}catch(Li){throw nt.push($+"type="+encodeURIComponent("_badmap")),Li}}catch{I&&I(Fn)}}if(we){W=nt.join("&");break e}}W=void 0}return u=u.i.splice(0,m),p.G=u,W}function u0(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;N||w(),O||(N(),O=!0),b.add(p,u),u.A=0}}function mf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=da(c(u.Da,u),d0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,c0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=da(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),$u(this),c0(this))};function gf(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function c0(u){u.g=new Nr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Vn(u.na);be(p,"RID","rpc"),be(p,"SID",u.M),be(p,"AID",u.K),be(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&be(p,"TO",u.ia),be(p,"TYPE","xmlhttp"),ba(u,p),u.u&&u.o&&ff(p,u.u,u.o),u.O&&(u.g.H=u.O);var m=u.g;u=u.ba,m.M=1,m.A=Ou(Vn(p)),m.u=null,m.R=!0,Vy(m,u)}t.Va=function(){this.C!=null&&(this.C=null,$u(this),mf(this),Lt(19))};function Fu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function h0(u,p){var m=null;if(u.g==p){Fu(u),gf(u),u.g=null;var I=2}else if(uf(u.h,p))m=p.G,Wy(u.h,p),I=1;else return;if(u.I!=0){if(p.o)if(I==1){m=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;I=ku(),Qe(I,new Ny(I,m)),Vu(u)}else u0(u);else if(L=p.m,L==3||L==0&&p.X>0||!(I==1&&ex(u,p)||I==2&&mf(u)))switch(m&&m.length>0&&(p=u.h,p.i=p.i.concat(m)),L){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function d0(u,p){let m=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(m*=2),m*p}function Mi(u,p){if(u.j.info("Error code "+p),p==2){var m=c(u.bb,u),I=u.Ua;const L=!I;I=new Or(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ga(I,"https"),Ou(I),L?KC(I.toString(),m):YC(I.toString(),m)}else Lt(2);u.I=0,u.l&&u.l.pa(p),f0(u),o0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function f0(u){if(u.I=0,u.ja=[],u.l){const p=Hy(u.h);(p.length!=0||u.i.length!=0)&&(_(u.ja,p),_(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function p0(u,p,m){var I=m instanceof Or?Vn(m):new Or(m);if(I.g!="")p&&(I.g=p+"."+I.g),va(I,I.u);else{var L=o.location;I=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const $=new Or(null);I&&ga($,I),p&&($.g=p),L&&va($,L),m&&($.h=m),I=$}return m=u.G,p=u.wa,m&&p&&be(I,m,p),be(I,"VER",u.ka),ba(u,I),I}function m0(u,p,m){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Ve(new df({ab:m})):new Ve(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function g0(){}t=g0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ju(){}ju.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){ke.call(this),this.g=new s0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!C(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ds(this)}d(Zt,ke),Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){pf(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.v&&(m={},m.__data__=ef(u),u=m);p.i.push(new jC(p.Ya++,u)),p.I==3&&Vu(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,Zt.Z.N.call(this)};function v0(u){tf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}d(v0,tf);function y0(){nf.call(this),this.status=1}d(y0,nf);function Ds(u){this.g=u}d(Ds,g0),Ds.prototype.ra=function(){Qe(this.g,"a")},Ds.prototype.qa=function(u){Qe(this.g,new v0(u))},Ds.prototype.pa=function(u){Qe(this.g,new y0)},Ds.prototype.oa=function(){Qe(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Yb=function(){return new ju},Kb=function(){return ku()},Gb=Di,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Du.NO_ERROR=0,Du.TIMEOUT=8,Du.HTTP_ERROR=6,Oc=Du,Oy.COMPLETE="complete",qb=Oy,xy.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",ke.prototype.listen=ke.prototype.J,Ba=xy,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa,Hb=Ve}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const i_="@firebase/firestore",s_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Kg("@firebase/firestore");function Ms(){return ls.logLevel}function G(t,...e){if(ls.logLevel<=ce.DEBUG){const n=e.map(sv);ls.debug(`Firestore (${jo}): ${t}`,...n)}}function br(t,...e){if(ls.logLevel<=ce.ERROR){const n=e.map(sv);ls.error(`Firestore (${jo}): ${t}`,...n)}}function Eo(t,...e){if(ls.logLevel<=ce.WARN){const n=e.map(sv);ls.warn(`Firestore (${jo}): ${t}`,...n)}}function sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Qb(t,r,n)}function Qb(t,e,n){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw br(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Qb(e,i,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class A2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new Xb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class C2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=k2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function gm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xf(i)===Xf(s)?he(i,s):Xf(i)?1:-1}return he(t.length,e.length)}const D2=55296,N2=57343;function Xf(t){const e=t.charCodeAt(0);return e>=D2&&e<=N2}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class Bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=Bn.isNumericId(e),i=Bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bn.extractNumericId(e).compare(Bn.extractNumericId(n)):gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Te extends Bn{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Bn{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return O2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new yt([a_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Te.fromString(e))}static fromName(e){return new J(Te.fromString(e).popFirst(5))}static empty(){return new J(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e,n){if(!n)throw new K(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M2(t,e,n,r){if(e===!0&&r===!0)throw new K(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l_(t){if(!J.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u_(t){if(J.isDocumentKey(t))throw new K(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new K(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function au(t,e){if(!Zb(t))throw new K(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new K(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=-62135596800,h_=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*h_);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c_)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h_}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:et("string",xe._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new xe(0,0))}static max(){return new re(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function L2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new gi(i,J.empty(),e)}function $2(t){return new gi(t.readTime,t.key,kl)}class gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(re.min(),J.empty(),kl)}static max(){return new gi(re.max(),J.empty(),kl)}}function V2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==F2)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function U2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function yd(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function z2(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="";function B2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=d_(e)),e=W2(t.get(n),e);return d_(e)}function W2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case eI:n+="";break;default:n+=s}}return n}function d_(t){return t+eI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vt.RED,this.left=i??vt.EMPTY,this.right=s??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new st(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nI("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=H2.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="server_timestamp",iI="__type__",sI="__previous_value__",oI="__local_write_time__";function lv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iI])==null?void 0:r.stringValue)===rI}function wd(t){const e=t.mapValue.fields[sI];return lv(e)?wd(e):e}function Dl(t){const e=vi(t.mapValue.fields[oI].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const bh="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="__type__",lI="__max__",lc={mapValue:{fields:{__type__:{stringValue:lI}}}},uI="__vector__",Ih="value";function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lv(t)?4:K2(t)?9007199254740991:G2(t)?10:11:ee(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vi(i.timestampValue),a=vi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yi(i.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?Sh(o)===Sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(f_(o)!==f_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ar(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function So(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return m_(t.timestampValue,e.timestampValue);case 4:return m_(Dl(t),Dl(e));case 5:return gm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yi(s),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=he(a[c],l[c]);if(h!==0)return h}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(We(s.latitude),We(o.latitude));return a!==0?a:he(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,g,_,y;const a=s.fields||{},l=o.fields||{},c=(f=a[Ih])==null?void 0:f.arrayValue,h=(g=l[Ih])==null?void 0:g.arrayValue,d=he(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((y=h==null?void 0:h.values)==null?void 0:y.length)||0);return d!==0?d:g_(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===lc.mapValue&&o===lc.mapValue)return 0;if(s===lc.mapValue)return 1;if(o===lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=gm(l[d],h[d]);if(f!==0)return f;const g=So(a[l[d]],c[h[d]]);if(g!==0)return g}return he(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function m_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=vi(t),r=vi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function g_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=So(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function bo(t){return vm(t)}function vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vm(n.fields[o])}`;return i+"}"}(t.mapValue):ee(61005,{value:t})}function Mc(t){switch(wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(t);return e?16+Mc(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Mc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ts(r.fields,(s,o)=>{i+=s.length+Mc(o)}),i}(t.mapValue);default:throw ee(13486,{value:t})}}function v_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ym(t){return!!t&&"integerValue"in t}function uv(t){return!!t&&"arrayValue"in t}function y_(t){return!!t&&"nullValue"in t}function w_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}function G2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aI])==null?void 0:r.stringValue)===uI}function il(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return{...t}}function K2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pn(il(this.value))}}function cI(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new yt([n]);if(Lc(r)){const s=cI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,re.min(),re.min(),re.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,re.min(),re.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,re.min(),re.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function __(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=So(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function E_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{}class Ze extends hI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X2(e,n,r):n==="array-contains"?new eM(e,r):n==="in"?new tM(e,r):n==="not-in"?new nM(e,r):n==="array-contains-any"?new rM(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J2(e,r):new Z2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends hI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ln(e,n)}matches(e){return dI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dI(t){return t.op==="and"}function fI(t){return Q2(t)&&dI(t)}function Q2(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function wm(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(fI(t))return t.filters.map(e=>wm(e)).join(",");{const e=t.filters.map(n=>wm(n)).join(",");return`${t.op}(${e})`}}function pI(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)}(t,e):t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&pI(o,i.filters[a]),!0):!1}(t,e):void ee(19439)}function mI(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(mI).join(" ,")+"}"}(t):"Filter"}class X2 extends Ze{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class J2 extends Ze{constructor(e,n){super(e,"in",n),this.keys=gI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z2 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=gI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class eM extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uv(n)&&Ol(n.arrayValue,this.value)}}class tM extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class nM extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class rM extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function T_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iM(t,e,n,r,i,s,o)}function cv(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.Te=n}return e.Te}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E_(t.startAt,e.startAt)&&E_(t.endAt,e.endAt)}function _m(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sM(t,e,n,r,i,s,o,a){return new lu(t,e,n,r,i,s,o,a)}function vI(t){return new lu(t)}function S_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yI(t){return t.collectionGroup!==null}function sl(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ph(s,r))}),n.has(yt.keyField().canonicalString())||e.Ie.push(new Ph(yt.keyField(),r))}return e.Ie}function er(t){const e=ie(t);return e.Ee||(e.Ee=oM(e,sl(t))),e.Ee}function oM(t,e){if(t.limitType==="F")return T_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ph(i.field,s)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return T_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Em(t,e){const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tm(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return hv(er(t),er(e))&&t.limitType===e.limitType}function wI(t){return`${cv(er(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mI(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=__(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,sl(r),i)||r.endAt&&!function(o,a,l){const c=__(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,sl(r),i))}(t,e)}function aM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _I(t){return(e,n)=>{let r=!1;for(const i of sl(t)){const s=lM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lM(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?So(l,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new $e(J.comparator);function Ir(){return uM}const EI=new $e(J.comparator);function Wa(...t){let e=EI;for(const n of t)e=e.insert(n.key,n);return e}function TI(t){let e=EI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return ol()}function SI(){return ol()}function ol(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const cM=new $e(J.comparator),hM=new st(J.comparator);function de(...t){let e=hM;for(const n of t)e=e.add(n);return e}const dM=new st(he);function fM(){return dM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function bI(t){return{integerValue:""+t}}function pM(t,e){return z2(e)?bI(e):dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function mM(t,e,n){return t instanceof Ch?function(i,s){const o={fields:{[iI]:{stringValue:rI},[oI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lv(s)&&(s=wd(s)),s&&(o.fields[sI]=s),{mapValue:o}}(n,e):t instanceof Ml?AI(t,e):t instanceof Ll?PI(t,e):function(i,s){const o=II(i,s),a=b_(o)+b_(i.Ae);return ym(o)&&ym(i.Ae)?bI(a):dv(i.serializer,a)}(t,e)}function gM(t,e,n){return t instanceof Ml?AI(t,e):t instanceof Ll?PI(t,e):n}function II(t,e){return t instanceof xh?function(r){return ym(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ch extends Td{}class Ml extends Td{constructor(e){super(),this.elements=e}}function AI(t,e){const n=CI(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends Td{constructor(e){super(),this.elements=e}}function PI(t,e){let n=CI(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class xh extends Td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b_(t){return We(t.integerValue||t.doubleValue)}function CI(t){return uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ml&&i instanceof Ml||r instanceof Ll&&i instanceof Ll?To(r.elements,i.elements,ar):r instanceof xh&&i instanceof xh?ar(r.Ae,i.Ae):r instanceof Ch&&i instanceof Ch}(t.transform,e.transform)}class yM{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function xI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fv(t.key,tr.none()):new uu(t.key,t.data,tr.none());{const n=t.data,r=pn.empty();let i=new st(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bs(t.key,r,new Rn(i.toArray()),tr.none())}}function wM(t,e,n){t instanceof uu?function(i,s,o){const a=i.value.clone(),l=A_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,s,o){if(!$c(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=A_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof uu?function(s,o,a,l){if(!$c(s.precondition,o))return a;const c=s.value.clone(),h=P_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(s,o,a,l){if(!$c(s.precondition,o))return a;const c=P_(s.fieldTransforms,l,o),h=o.data;return h.setAll(RI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $c(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _M(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=II(r.transform,i||null);s!=null&&(n===null&&(n=pn.empty()),n.set(r.field,s))}return n||null}function I_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(s,o)=>vM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uu extends Sd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends Sd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A_(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gM(o,a,n[i]))}return r}function P_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mM(s,o,e))}return r}class fv extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EM extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>I_(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>I_(n,r))}}class pv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return cM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,fe;function IM(t){switch(t){case V.OK:return ee(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function kI(t){if(t===void 0)return br("GRPC error has no .code"),V.UNKNOWN;switch(t){case Xe.OK:return V.OK;case Xe.CANCELLED:return V.CANCELLED;case Xe.UNKNOWN:return V.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return V.INTERNAL;case Xe.UNAVAILABLE:return V.UNAVAILABLE;case Xe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Xe.NOT_FOUND:return V.NOT_FOUND;case Xe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Xe.ABORTED:return V.ABORTED;case Xe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Xe.DATA_LOSS:return V.DATA_LOSS;default:return ee(39323,{code:t})}}(fe=Xe||(Xe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new ci([4294967295,4294967295],0);function C_(t){const e=AM().encode(t),n=new Wb;return n.update(e),new Uint8Array(n.digest())}function x_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ci([n,r],0),new ci([i,s],0)]}class mv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ci.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ci.fromNumber(r)));return i.compare(PM)===1&&(i=new ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C_(e),[r,i]=x_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=C_(e),[r,i]=x_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bd(re.min(),i,new $e(he),Ir(),de())}}class cu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cu(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DI{constructor(e,n){this.targetId=e,this.Ce=n}}class NI{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R_{constructor(){this.ve=0,this.Fe=k_(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),n=de(),r=de();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=k_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=uc(),this.He=uc(),this.Ye=new $e(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(_m(s))if(r===0){const o=new J(s.path);this.et(n,o,kt.newNoDocument(o,re.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof nI)return Eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mv(o,i,s)}catch(l){return Eo(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&_m(a.target)){const l=new J(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,kt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=de();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new bd(e,n,this.Ye,this.je,r);return this.je=Ir(),this.Je=uc(),this.He=uc(),this.Ye=new $e(he),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uc(){return new $e(J.comparator)}function k_(){return new $e(J.comparator)}const xM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),kM=(()=>({and:"AND",or:"OR"}))();class DM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sm(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NM(t,e){return Rh(t,e.toTimestamp())}function nr(t){return ge(!!t,49232),re.fromTimestamp(function(n){const r=vi(n);return new xe(r.seconds,r.nanos)}(t))}function gv(t,e){return bm(t,e).canonicalString()}function bm(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MI(t){const e=Te.fromString(t);return ge(jI(e),10190,{key:e.toString()}),e}function Im(t,e){return gv(t.databaseId,e.path)}function Jf(t,e){const n=MI(e);if(n.get(1)!==t.databaseId.projectId)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J($I(n))}function LI(t,e){return gv(t.databaseId,e)}function OM(t){const e=MI(t);return e.length===4?Te.emptyPath():$I(e)}function Am(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $I(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D_(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function MM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?V.UNKNOWN:kI(c.code);return new K(h,c.message||"")}(o);n=new NI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jf(t,r.document.name),s=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):re.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Vc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jf(t,r.document),s=r.readTime?nr(r.readTime):re.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jf(t,r.document),s=r.removedTargetIds||[];n=new Vc([],s,i,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bM(i,s),a=r.targetId;n=new DI(a,o)}}return n}function LM(t,e){let n;if(e instanceof uu)n={update:D_(t,e.key,e.value)};else if(e instanceof fv)n={delete:Im(t,e.key)};else if(e instanceof bs)n={update:D_(t,e.key,e.data),updateMask:HM(e.fieldMask)};else{if(!(e instanceof EM))return ee(16599,{Vt:e.type});n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(t,e.precondition)),n}function $M(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?nr(i.updateTime):nr(s);return o.isEqual(re.min())&&(o=nr(s)),new yM(o,i.transformResults||[])}(n,e))):[]}function VM(t,e){return{documents:[LI(t,e.path)]}}function FM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LI(t,i);const s=function(c){if(c.length!==0)return FI(Ln.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:$s(f.field),direction:zM(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function jM(t){let e=OM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=VI(d);return f instanceof Ln&&fI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new Ph(Vs(_.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,yd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Ah(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new Ah(g,f)}(n.endAt)),sM(e,i,o,s,a,"F",l,c)}function UM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vs(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vs(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vs(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vs(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>VI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function zM(t){return xM[t]}function BM(t){return RM[t]}function WM(t){return kM[t]}function $s(t){return{fieldPath:t.canonicalString()}}function Vs(t){return yt.fromServerFormat(t.fieldPath)}function FI(t){return t instanceof Ze?function(n){if(n.op==="=="){if(w_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(y_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(y_(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:BM(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(i=>FI(i));return r.length===1?r[0]:{compositeFilter:{op:WM(n.op),filters:r}}}(t):ee(54877,{filter:t})}function HM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s=re.min(),o=re.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.yt=e}}function GM(t){const e=jM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.Cn=new YM}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(gi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class YM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UI=41943040;class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(UI,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",QM=1048576;function M_([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class XM{constructor(e){this.Ir=e,this.buffer=new st(M_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?G(O_,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)})}}class ZM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(vd.ce);const r=new XM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(N_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Ms()<=ce.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function eL(t,e){return new ZM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,Rn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ir();const o=ol(),a=function(){return ol()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof bs)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),al(h.mutation,c,h.mutation.getFieldMask(),xe.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new nL(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new $e((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=SI();h.forEach(f=>{if(!s.has(f)){const g=xI(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(qi());let a=kl,l=s;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(h=>({batchId:a,changes:TI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(d,f){return new lu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,kt.newInvalidDocument(h)))});let a=Wa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&al(h.mutation,c,Rn.empty(),xe.now()),Ed(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:GM(i.bundledQuery),readTime:nr(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new $e(J.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=qi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=qi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SM(n,r));let s=this.qr.get(n);s===void 0&&(s=de(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.Qr=new st(ut.$r),this.Ur=new st(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Te([])),r=new ut(n,e),i=new ut(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Te([])),r=new ut(n,e),i=new ut(n,e+1);let s=de();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(ut.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?av:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(he);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new ut(new J(s),0);let a=new st(he);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.ri=e,this.docs=function(){return new $e(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ir();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V2($2(h),r)<=0||(i.has(h.key)||Ed(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return F.resolve(this.size)}}class uL extends tL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.persistence=e,this.si=new Ss(n=>cv(n),hv),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new vv,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new oL,this.referenceDelegate=e(this),this.Pi=new cL(this),this.indexManager=new KM,this.remoteDocumentCache=function(i){return new lL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qM(n),this.Ii=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new aL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new hL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class hL extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Ri=new vv,this.Vi=null}static mi(e){return new yv(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=J.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.pi=new Ss(r=>B2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eL(this,n)}static mi(e,n){return new kh(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,re.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qk()?8:U2(Nt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ms()<=ce.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ms()<=ce.DEBUG&&G("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ms()<=ce.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):F.resolve())}ys(e,n){if(S_(n))return F.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tm(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Tm(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return S_(n)||i.isEqual(re.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Ms()<=ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.vs(e,o,n,L2(i,kl)).next(a=>a))})}Ds(e,n){let r=new st(_I(e));return n.forEach((i,s)=>{Ed(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ms()<=ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.ps.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LocalStore",pL=3e8;class mL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new $e(he),this.xs=new Ss(s=>cv(s),hv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gL(t,e,n,r){return new mL(t,e,n,r)}async function BI(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function vL(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=F.resolve();return f.forEach(_=>{g=g.next(()=>h.getEntry(l,_)).next(y=>{const P=c.docVersions.get(_);ge(P!==null,48541),y.version.compareTo(P)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WI(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Tt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(y,P,E){return y.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=pL?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,h)&&a.push(n.Pi.updateTargetData(s,g))});let l=Ir(),c=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(wL(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(re.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function wL(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ir();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(_v,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function _L(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=av),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EL(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pm(t,e,n){const r=ie(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zo(o))throw o;G(_v,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function L_(t,e,n){const r=ie(t);let i=re.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ie(l),f=d.xs.get(h);return f!==void 0?F.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:de())).next(a=>(TL(r,aM(e),a),{documents:a,Qs:s})))}function TL(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class $_{constructor(){this.activeTargetIds=fM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SL{constructor(){this.Mo=new $_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class F_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(V_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Cm(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="RestConnection",IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Cm(),a=this.zo(e,n.toUriEncodedString());G(Zf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=_s(c);return this.Jo(e,a,l,r,h).then(d=>(G(Zf,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Eo(Zf,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=IL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class CL extends AL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Cm();return new Promise((a,l)=>{const c=new Hb;c.setWithCredentials(!0),c.listenOnce(qb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Oc.NO_ERROR:const d=c.getResponseJson();G(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Oc.TIMEOUT:G(Pt,`RPC '${e}' ${o} timed out`),l(new K(V.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const f=c.getStatus();if(G(Pt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const y=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(v)>=0?v:V.UNKNOWN}(_.status);l(new K(y,_.message))}else l(new K(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new K(V.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(Pt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Cm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yb(),a=Kb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");G(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,g=!1;const _=new PL({Yo:P=>{g?G(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(G(Pt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),G(Pt,`RPC '${e}' stream ${i} sending:`,P),d.send(P))},Zo:()=>d.close()}),y=(P,E,v)=>{P.listen(E,S=>{try{v(S)}catch(x){setTimeout(()=>{throw x},0)}})};return y(d,Ba.EventType.OPEN,()=>{g||(G(Pt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),y(d,Ba.EventType.CLOSE,()=>{g||(g=!0,G(Pt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(d))}),y(d,Ba.EventType.ERROR,P=>{g||(g=!0,Eo(Pt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),_.a_(new K(V.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ba.EventType.MESSAGE,P=>{var E;if(!g){const v=P.data[0];ge(!!v,16349);const S=v,x=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(x){G(Pt,`RPC '${e}' stream ${i} received error:`,x);const N=x.status;let O=function(T){const A=Xe[T];if(A!==void 0)return kI(A)}(N),b=x.message;O===void 0&&(O=V.INTERNAL,b="Unknown error status: "+N+" with message "+x.message),g=!0,_.a_(new K(O,b)),d.close()}else G(Pt,`RPC '${e}' stream ${i} received:`,v),_.u_(v)}}),y(a,Gb.STAT_EVENT,P=>{P.stat===mm.PROXY?G(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===mm.NOPROXY&&G(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new DM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class qI{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new K(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(j_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xL extends qI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MM(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?nr(o.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Am(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_m(l)?{documents:VM(s,l)}:{query:FM(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OI(s,o.resumeToken);const c=Sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Rh(s,o.snapshotVersion.toTimestamp());const c=Sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=UM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Am(this.serializer),n.removeTarget=e,this.q_(n)}}class RL extends qI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$M(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Am(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{}class DL extends kL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,bm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(V.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,bm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(V.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class NL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="RemoteStore";class OL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Is(this)&&(G(us,"Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.Ea.add(4),await hu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ad(c)}(this))})}),this.Ra=new NL(r,i)}}async function Ad(t){if(Is(t))for(const e of t.da)await e(!0)}async function hu(t){for(const e of t.da)await e(!1)}function GI(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bv(n)?Sv(n):Bo(n).O_()&&Tv(n,e))}function Ev(t,e){const n=ie(t),r=Bo(n);n.Ia.delete(e),r.O_()&&KI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Is(n)&&n.Ra.set("Unknown"))}function Tv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).Y_(e)}function KI(t,e){t.Va.Ue(e),Bo(t).Z_(e)}function Sv(t){t.Va=new CM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.Ra.ua()}function bv(t){return Is(t)&&!Bo(t).x_()&&t.Ia.size>0}function Is(t){return ie(t).Ea.size===0}function YI(t){t.Va=void 0}async function ML(t){t.Ra.set("Online")}async function LL(t){t.Ia.forEach((e,n)=>{Tv(t,e)})}async function $L(t,e){YI(t),bv(t)?(t.Ra.ha(e),Sv(t)):t.Ra.set("Unknown")}async function VL(t,e,n){if(t.Ra.set("Online"),e instanceof NI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof Vc?t.Va.Ze(e):e instanceof DI?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await WI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),KI(s,l);const d=new Jr(h.target,l,c,h.sequenceNumber);Tv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(us,"Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!zo(e))throw e;t.Ea.add(1),await hu(t),t.Ra.set("Offline"),n||(n=()=>WI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(us,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ad(t)})}function QI(t,e){return e().catch(n=>Dh(t,n,e))}async function Pd(t){const e=ie(t),n=_i(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:av;for(;FL(e);)try{const i=await _L(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,jL(e,i)}catch(i){await Dh(e,i)}XI(e)&&JI(e)}function FL(t){return Is(t)&&t.Ta.length<10}function jL(t,e){t.Ta.push(e);const n=_i(t);n.O_()&&n.X_&&n.ea(e.mutations)}function XI(t){return Is(t)&&!_i(t).x_()&&t.Ta.length>0}function JI(t){_i(t).start()}async function UL(t){_i(t).ra()}async function zL(t){const e=_i(t);for(const n of t.Ta)e.ea(n.mutations)}async function BL(t,e,n){const r=t.Ta.shift(),i=pv.from(r,e,n);await QI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pd(t)}async function WL(t,e){e&&_i(t).X_&&await async function(r,i){if(function(o){return IM(o)&&o!==V.ABORTED}(i.code)){const s=r.Ta.shift();_i(r).B_(),await QI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pd(r)}}(t,e),XI(t)&&JI(t)}async function U_(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),G(us,"RemoteStore received new credentials");const r=Is(n);n.Ea.add(3),await hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ad(n)}async function HL(t,e){const n=ie(t);e?(n.Ea.delete(2),await Ad(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function Bo(t){return t.ma||(t.ma=function(n,r,i){const s=ie(n);return s.sa(),new xL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ML.bind(null,t),t_:LL.bind(null,t),r_:$L.bind(null,t),H_:VL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),bv(t)?Sv(t):t.Ra.set("Unknown")):(await t.ma.stop(),YI(t))})),t.ma}function _i(t){return t.fa||(t.fa=function(n,r,i){const s=ie(n);return s.sa(),new RL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UL.bind(null,t),r_:WL.bind(null,t),ta:zL.bind(null,t),na:BL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Pd(t)):(await t.fa.stop(),t.Ta.length>0&&(G(us,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Iv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Av(t,e){if(br("AsyncQueue",`${e}: ${t}`),zo(t))return new K(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ga=new $e(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ao(e,n,lo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GL{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=B_(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new K(V.ABORTED,"Firestore shutting down"))}}function B_(){return new Ss(t=>wI(t),_d)}async function KL(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new qL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Av(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Pv(n)}async function YL(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QL(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Pv(n)}function XL(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Pv(t){t.Ca.forEach(e=>{e.next()})}var xm,W_;(W_=xm||(xm={})).Ma="default",W_.Cache="cache";class JL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class ZL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=_I(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new z_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=Ed(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;f&&g?f.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),P=!0):this.su(f,g)||(r.track({type:2,doc:g}),P=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),P=!0):f&&!g&&(r.track({type:1,doc:f}),P=!0,(l||c)&&(a=!0)),P&&(g?(o=o.add(g),s=y?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(g,_){const y=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:P})}};return y(g)-y(_)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Ao(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new eA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ZI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=de();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cv="SyncEngine";class e${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t${constructor(e){this.key=e,this.hu=!1}}class n${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ss(a=>wI(a),_d),this.Iu=new Map,this.Eu=new Set,this.du=new $e(J.comparator),this.Au=new Map,this.Ru=new vv,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r$(t,e,n=!0){const r=oA(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await tA(r,e,n,!0),i}async function i$(t,e){const n=oA(t);await tA(n,e,!0,!1)}async function tA(t,e,n,r){const i=await EL(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await s$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GI(t.remoteStore,i),a}async function s$(t,e,n,r,i){t.pu=(d,f,g)=>async function(y,P,E,v){let S=P.view.ru(E);S.Cs&&(S=await L_(y.localStore,P.query,!1).then(({documents:b})=>P.view.ru(b,S)));const x=v&&v.targetChanges.get(P.targetId),N=v&&v.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(S,y.isPrimaryClient,x,N);return q_(y,P.targetId,O.au),O.snapshot}(t,d,f,g);const s=await L_(t.localStore,e,!0),o=new ZL(e,s.Qs),a=o.ru(s.documents),l=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);q_(t,n,c.au);const h=new e$(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function o$(t,e,n){const r=ie(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!_d(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ev(r.remoteStore,i.targetId),Rm(r,i.targetId)}).catch(Uo)):(Rm(r,i.targetId),await Pm(r.localStore,i.targetId,!0))}async function a$(t,e){const n=ie(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function l$(t,e,n){const r=m$(t);try{const i=await function(o,a){const l=ie(o),c=xe.now(),h=a.reduce((g,_)=>g.add(_.key),de());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ir(),y=de();return l.Ns.getEntries(g,h).next(P=>{_=P,_.forEach((E,v)=>{v.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(P=>{d=P;const E=[];for(const v of a){const S=_M(v,d.get(v.key).overlayedDocument);S!=null&&E.push(new bs(v.key,S,cI(S.value.mapValue),tr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(P=>{f=P;const E=P.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,P.batchId,E)})}).then(()=>({batchId:f.batchId,changes:TI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new $e(he)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await du(r,i.changes),await Pd(r.remoteStore)}catch(i){const s=Av(i,"Failed to persist write");n.reject(s)}}async function nA(t,e){const n=ie(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ge(o.hu,14607):i.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await du(n,r,e)}catch(r){await Uo(r)}}function H_(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&Pv(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u$(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new $e(J.comparator);o=o.insert(s,kt.newNoDocument(s,re.min()));const a=de().add(s),l=new bd(re.min(),new Map,new $e(he),o,a);await nA(r,l),r.du=r.du.remove(s),r.Au.delete(e),xv(r)}else await Pm(r.localStore,e,!1).then(()=>Rm(r,e,n)).catch(Uo)}async function c$(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await vL(n.localStore,e);iA(n,r,null),rA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,i)}catch(i){await Uo(i)}}async function h$(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ge(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);iA(r,e,n),rA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await du(r,i)}catch(i){await Uo(i)}}function rA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iA(t,e,n){const r=ie(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||sA(t,r)})}function sA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ev(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xv(t))}function q_(t,e,n){for(const r of n)r instanceof ZI?(t.Ru.addReference(r.key,e),d$(t,r)):r instanceof eA?(G(Cv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sA(t,r.key)):ee(19791,{wu:r})}function d$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Cv,"New document in limbo: "+n),t.Eu.add(r),xv(t))}function xv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Te.fromString(e)),r=t.fu.next();t.Au.set(r,new t$(n)),t.du=t.du.insert(n,r),GI(t.remoteStore,new Jr(er(vI(n.path)),r,"TargetPurposeLimboResolution",vd.ce))}}async function du(t,e,n){const r=ie(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=wv.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,f=>F.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>F.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!zo(d))throw d;G(_v,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.Ms.get(f),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);h.Ms=h.Ms.insert(f,y)}}}(r.localStore,s))}async function f$(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){G(Cv,"User change. New user:",e.toKey());const r=await BI(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new K(V.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(n,r.Ls)}}function p$(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return de().add(r.key);{let i=de();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function oA(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u$.bind(null,e),e.Pu.H_=QL.bind(null,e.eventManager),e.Pu.yu=XL.bind(null,e.eventManager),e}function m$(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h$.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gL(this.persistence,new fL,e.initialUser,this.serializer)}Cu(e){return new zI(yv.mi,this.serializer)}Du(e){return new SL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class g$ extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new zI(r=>kh.mi(r,n),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f$.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GL}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=function(s){return new CL(s)}(e.databaseInfo);return function(s,o,a,l){return new DL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new OL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>H_(this.syncEngine,n,0),function(){return F_.v()?new F_:new bL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new n$(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);G(us,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class y${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(Ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Av(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),G(Ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w$(t);G(Ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U_(e.remoteStore,i)),t._onlineComponents=e}async function w$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Ei,"Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new Nh)}}else G(Ei,"Using default OfflineComponentProvider"),await tp(t,new g$(void 0));return t._offlineComponents}async function aA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Ei,"Using user provided OnlineComponentProvider"),await G_(t,t._uninitializedComponentsProvider._online)):(G(Ei,"Using default OnlineComponentProvider"),await G_(t,new km))),t._onlineComponents}function _$(t){return aA(t).then(e=>e.syncEngine)}async function E$(t){const e=await aA(t),n=e.eventManager;return n.onListen=r$.bind(null,e.syncEngine),n.onUnlisten=o$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a$.bind(null,e.syncEngine),n}function T$(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new v$({next:f=>{h.Nu(),o.enqueueAndForget(()=>YL(s,d)),f.fromCache&&l.source==="server"?c.reject(new K(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new JL(a,h,{includeMetadataChanges:!0,qa:!0});return KL(s,d)}(await E$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",Y_=!0;class Q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QM)throw new K(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(G("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function cA(t,e,n,r={}){var c;t=Rl(t,Cd);const i=_s(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(qg(`https://${a}`),Gg("Firestore",!0)),s.host!==uA&&s.host!==a&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!ss(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=xt.MOCK_USER;else{h=$k(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new xt(f)}t._authCredentials=new A2(new Xb(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(au(n,dt._jsonSchema))return new dt(e,r||null,new J(Te.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:et("string",dt._jsonSchemaVersion),referencePath:et("string")};class di extends Wo{constructor(e,n,r){super(e,n,vI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new J(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function qe(t,e,...n){if(t=Et(t),Jb("collection","path",e),t instanceof Cd){const r=Te.fromString(e,...n);return u_(r),new di(t,null,r)}{if(!(t instanceof dt||t instanceof di))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return u_(r),new di(t.firestore,null,r)}}function xd(t,e,...n){if(t=Et(t),arguments.length===1&&(e=ov.newId()),Jb("doc","path",e),t instanceof Cd){const r=Te.fromString(e,...n);return l_(r),new dt(t,null,new J(r))}{if(!(t instanceof dt||t instanceof di))throw new K(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return l_(r),new dt(t.firestore,t instanceof di?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class J_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HI(this,"async_queue_retry"),this._c=()=>{const r=ep();r&&G(X_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;G(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",Z_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Iv.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ee(47125,{Pc:Z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Rd extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new J_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J_(e),this._firestoreClient=void 0,await e}}}function S$(t,e){const n=typeof t=="object"?t:Qg(),r=typeof t=="string"?t:e||bh,i=hd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nb("firestore");s&&cA(i,...s)}return i}function hA(t){if(t._terminated)throw new K(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b$(t),t._firestoreClient}function b$(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new q2(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new y$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mn(Tt.fromBase64String(e))}catch(n){throw new K(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mn(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,mn._jsonSchema))return mn.fromBase64String(e.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:et("string",mn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(au(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:et("string",rr._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ir(e.vectorValues);throw new K(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:et("string",ir._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=/^__.*__$/;class A${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class kv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fA(this.Ac)&&I$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class P${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}Cc(e,n,r,i=!1){return new kv({Ac:e,methodName:n,Dc:r,path:yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pA(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new P$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C$(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);vA("Data must be an object, but it was:",o,r);const a=mA(r,o);let l,c;if(s.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=R$(e,d,n);if(!o.contains(f))throw new K(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);D$(h,f)||h.push(f)}l=new Rn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new A$(new pn(a),l,c)}function x$(t,e,n,r=!1){return Dv(n,t.Cc(r?4:3,e))}function Dv(t,e){if(gA(t=Et(t)))return vA("Unsupported field value:",e,t),mA(t,e);if(t instanceof dA)return function(r,i){if(!fA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Dv(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xe.fromDate(r);return{timestampValue:Rh(i.serializer,s)}}if(r instanceof xe){const s=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,s)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mn)return{bytesValue:OI(i.serializer,r._byteString)};if(r instanceof dt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ir)return function(o,a){return{mapValue:{fields:{[aI]:{stringValue:uI},[Ih]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return dv(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${gd(r)}`)}(t,e)}function mA(t,e){const n={};return tI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const s=Dv(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof rr||t instanceof mn||t instanceof dt||t instanceof dA||t instanceof ir)}function vA(t,e,n){if(!gA(n)||!Zb(n)){const r=gd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function R$(t,e,n){if((e=Et(e))instanceof Rv)return e._internalPath;if(typeof e=="string")return yA(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const k$=new RegExp("[~\\*/\\[\\]]");function yA(t,e,n){if(e.search(k$)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rv(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(V.INVALID_ARGUMENT,a+t+l)}function D$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N$ extends wA{data(){return super.data()}}function Nv(t,e){return typeof e=="string"?yA(t,e):e instanceof Rv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class M$ extends Ov{}function Yi(t,e,...n){let r=[];e instanceof Ov&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Mv).length,a=s.filter(l=>l instanceof kd).length;if(o>1||o>0&&a>0)throw new K(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kd extends M${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kd(e,n,r)}_apply(e){const n=this._parse(e);return _A(e._query,n),new Wo(e.firestore,e.converter,Em(e._query,n))}_parse(e){const n=pA(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){t1(d,h);const _=[];for(const y of d)_.push(e1(l,s,y));f={arrayValue:{values:_}}}else f=e1(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||t1(d,h),f=x$(a,o,d,h==="in"||h==="not-in");return Ze.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qi(t,e,n){const r=e,i=Nv("where",t);return kd._create(i,r,n)}class Mv extends Ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)_A(o,l),o=Em(o,l)}(e._query,n),new Wo(e.firestore,e.converter,Em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e1(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new K(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yI(e)&&n.indexOf("/")!==-1)throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!J.isDocumentKey(r))throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v_(t,new J(r))}if(n instanceof dt)return v_(t,n._key);throw new K(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function t1(t,e){if(!Array.isArray(t)||t.length===0)throw new K(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L${convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ih].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>We(o.doubleValue));return new ir(n)}convertGeoPoint(e){return new rr(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=vi(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ge(jI(r),9688,{name:e});const i=new Nl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends wA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:et("string",uo._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Fc extends uo{data(e={}){return super.data(e)}}class co{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:V$(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:et("string",co._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};class F$ extends L${constructor(e){super(),this.firestore=e}convertBytes(e){return new mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function ht(t){t=Rl(t,Wo);const e=Rl(t.firestore,Rd),n=hA(e),r=new F$(e);return O$(t._query),T$(n,t._query).then(i=>new co(e,r,t,i))}function Lv(t){return EA(Rl(t.firestore,Rd),[new fv(t._key,tr.none())])}function $v(t,e){const n=Rl(t.firestore,Rd),r=xd(t),i=$$(t.converter,e);return EA(n,[C$(pA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function EA(t,e){return function(r,i){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>l$(await _$(r),i,s)),s.promise}(hA(t),e)}(function(e,n=!0){(function(i){jo=i})($o),os(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Rd(new P2(r.getProvider("auth-internal")),new R2(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xn(i_,s_,e),Xn(i_,s_,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="us-central1";class U${constructor(e,n,r,i,s=Dm,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new j$(e,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Dm}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function z$(t,e,n){const r=_s(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(qg(t.emulatorOrigin+"/backends"),Gg("Functions",!0))}const n1="@firebase/functions",r1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="auth-internal",W$="app-check-internal",H$="messaging-internal";function q$(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(B$),o=n.getProvider(H$),a=n.getProvider(W$);return new U$(i,s,o,a,r)};os(new mi(TA,e,"PUBLIC").setMultipleInstances(!0)),Xn(n1,r1,t),Xn(n1,r1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t=Qg(),e=Dm){const r=hd(Et(t),TA).getImmediate({identifier:e}),i=nb("functions");return i&&SA(r,...i),r}function SA(t,e,n){z$(Et(t),e,n)}q$();const K$={apiKey:"AIzaSyCYaR5diu-Y7_ji3wu4bNxuH14uT1wOUYw",authDomain:"iepp-67678.firebaseapp.com",databaseURL:"https://iepp-67678-default-rtdb.firebaseio.com",projectId:"iepp-67678",storageBucket:"iepp-67678.firebasestorage.app",messagingSenderId:"1077203592518",appId:"1:1077203592518:web:a8d034e3ad841106f8b147",measurementId:"G-SR7Y043NMM"},Vv=ab(K$),Xi=E2(Vv),Pe=S$(Vv),Y$=G$(Vv);window.location.hostname==="localhost"&&(SA(Y$,"localhost",5002),cA(Pe,"localhost",8080));const bA=z.createContext(),fu=()=>z.useContext(bA),Q$=({children:t})=>{const[e,n]=z.useState(null),[r,i]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>cO(Xi,async c=>{if(c){n(c);try{const h=await c.getIdTokenResult();i(h.claims.role||null)}catch(h){console.error("Error getting user role:",h),i(null)}}else n(null),i(null);o(!1)}),[]);const a={currentUser:e,userRole:r,loading:s};return k.jsx(bA.Provider,{value:a,children:!s&&t})},X$=()=>{const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,a]=z.useState(!1),{currentUser:l}=fu(),c=async h=>{h.preventDefault(),a(!0),s("");try{await aO(Xi,t,n)}catch{s("Credenciales incorrectas. Verifica tu email y contrasea.")}finally{a(!1)}};return l?k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),k.jsx("p",{className:"text-gray-600",children:"Redirigiendo..."})]})}):k.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:k.jsxs("div",{className:"bg-white/80 backdrop-blur-lg p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20",children:[k.jsx("div",{className:"flex justify-center mb-8",children:k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full blur-lg opacity-30 animate-pulse"}),k.jsx("img",{src:"/logo.png",alt:"Logo Iglesia",className:"relative h-20 w-20 rounded-full border-4 border-white shadow-lg"})]})}),k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Bienvenido"}),k.jsx("p",{className:"text-gray-600",children:"Ingresa tus credenciales para continuar"})]}),i&&k.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),k.jsx("p",{className:"text-red-700 text-sm",children:i})]})}),k.jsxs("form",{onSubmit:c,className:"space-y-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"tu@email.com",required:!0,disabled:o}),k.jsx("svg",{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"",required:!0,disabled:o}),k.jsx("svg",{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]}),k.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:o?k.jsxs("div",{className:"flex items-center justify-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando Sesin..."]}):k.jsxs("div",{className:"flex items-center justify-center",children:[k.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Iniciar Sesin"]})})]}),k.jsxs("div",{className:"mt-8 text-center",children:[k.jsx("p",{className:"text-sm text-gray-500",children:"Plataforma de Gestin para Iglesias"}),k.jsxs("div",{className:"flex justify-center mt-4 space-x-1",children:[k.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),k.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),k.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})})},kn={"ministerio-ninos":{name:"Ministerio de Nios",color:"bg-blue-500"},"ministerio-damas":{name:"Ministerio de Damas",color:"bg-pink-500"},"ministerio-varones":{name:"Ministerio de Varones",color:"bg-green-500"},"ministerio-jovenes":{name:"Ministerio de Jvenes",color:"bg-yellow-500"},"departamento-musica":{name:"Departamento de Msica",color:"bg-purple-500"},"departamento-educacion":{name:"Departamento de Educacin Cristiana",color:"bg-red-500"},"departamento-diaconos":{name:"Departamento de Diconos",color:"bg-indigo-500"},"departamento-publicidad":{name:"Departamento de Publicidad",color:"bg-orange-500"}},nn={SUPER_LEADER:"super_leader",ADMIN:"admin",LEADER:"leader"},IA=()=>{const[t,e]=z.useState([]),[n,r]=z.useState({email:"",password:"",role:"",department:"",nombre:"",apellidos:""}),[i,s]=z.useState(!1),[o,a]=z.useState(null),l=z.useCallback(async()=>{try{const f=(await ht(qe(Pe,"users"))).docs.map(g=>({id:g.id,...g.data()}));e(f),localStorage.setItem("users",JSON.stringify(f))}catch(d){console.error("Error fetching users:",d);const f=JSON.parse(localStorage.getItem("users")||"[]");e(f)}},[]);z.useEffect(()=>{l()},[l]);const c=async d=>{d.preventDefault(),s(!0);try{if(console.log("Current user:",Xi.currentUser),!Xi.currentUser)throw new Error("No hay usuario autenticado");const g=window.location.hostname==="localhost"?"http://localhost:5001/iepp-67678/us-central1/createUser":"https://us-central1-iepp-67678.cloudfunctions.net/createUser",_=await Xi.currentUser.getIdToken();console.log("ID Token obtained:",_?"Yes":"No");const y=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({email:n.email,password:n.password,role:n.role,department:n.department,nombre:n.nombre,apellidos:n.apellidos})});if(!y.ok){const E=await y.json();throw new Error(E.error||`HTTP error! status: ${y.status}`)}const P=await y.json();r({email:"",password:"",role:"",nombre:"",apellidos:""}),await l()}catch(f){console.error("Error creando usuario:",f);const g={...n,id:Date.now().toString(),createdAt:new Date},_=[...t,g];e(_),localStorage.setItem("users",JSON.stringify(_)),r({email:"",password:"",role:"",nombre:"",apellidos:""})}finally{s(!1)}},h=async d=>{a(d);try{await Lv(xd(Pe,"users",d));const f=t.filter(g=>g.id!==d);e(f),localStorage.setItem("users",JSON.stringify(f))}catch(f){console.error("Error eliminando usuario:",f);const g=t.filter(_=>_.id!==d);e(g),localStorage.setItem("users",JSON.stringify(g))}finally{a(null)}};return k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestin de Usuarios"}),k.jsxs("form",{onSubmit:c,className:"mb-6",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsx("input",{type:"email",placeholder:"Correo",value:n.email,onChange:d=>r({...n,email:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),k.jsx("input",{type:"password",placeholder:"Contrasea",value:n.password,onChange:d=>r({...n,password:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),k.jsxs("select",{value:n.role,onChange:d=>r({...n,role:d.target.value}),className:"px-3 py-2 border rounded",required:!0,children:[k.jsx("option",{value:"",children:"Seleccionar Rol"}),k.jsx("option",{value:nn.SUPER_LEADER,children:"Super Lder"}),k.jsx("option",{value:nn.ADMIN,children:"Admin"}),k.jsx("option",{value:nn.LEADER,children:"Lder"}),k.jsx("option",{value:"member",children:"Miembro (sin acceso)"})]}),k.jsxs("select",{value:n.department,onChange:d=>r({...n,department:d.target.value}),className:"px-3 py-2 border rounded",required:!0,children:[k.jsx("option",{value:"",children:"Seleccionar Departamento"}),Object.keys(kn).map(d=>k.jsx("option",{value:d,children:kn[d].name},d))]}),k.jsx("input",{type:"text",placeholder:"Nombre",value:n.nombre,onChange:d=>r({...n,nombre:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),k.jsx("input",{type:"text",placeholder:"Apellidos",value:n.apellidos,onChange:d=>r({...n,apellidos:d.target.value}),className:"px-3 py-2 border rounded",required:!0})]}),k.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Crear Usuario"})]}),k.jsx("div",{className:"space-y-4",children:t.map(d=>{var f;return k.jsxs("div",{className:"border p-4 rounded flex justify-between items-center",children:[k.jsxs("div",{children:[k.jsx("p",{children:d.email}),k.jsxs("p",{className:"text-sm text-gray-500",children:[d.role," - ",(f=kn[d.department])==null?void 0:f.name]})]}),k.jsx("button",{onClick:()=>h(d.id),className:"text-red-500 hover:text-red-700",children:"Eliminar"})]},d.id)})})]})},AA=()=>{const[t,e]=z.useState([]),[n,r]=z.useState("");z.useEffect(()=>{(async()=>{const a=await ht(qe(Pe,"announcements"));e(a.docs.map(l=>({id:l.id,...l.data()})))})()},[]);const i=async o=>{o.preventDefault(),await $v(qe(Pe,"announcements"),{text:n,timestamp:new Date}),r("");const a=await ht(qe(Pe,"announcements"));e(a.docs.map(l=>({id:l.id,...l.data()})))},s=async o=>{await Lv(xd(Pe,"announcements",o)),e(t.filter(a=>a.id!==o))};return k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Anuncios"}),k.jsxs("form",{onSubmit:i,className:"mb-6",children:[k.jsx("textarea",{placeholder:"Nuevo anuncio",value:n,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 border rounded",rows:"4",required:!0}),k.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Crear Anuncio"})]}),k.jsx("div",{className:"space-y-4",children:t.map(o=>k.jsxs("div",{className:"border p-4 rounded",children:[k.jsx("p",{children:o.text}),k.jsx("p",{className:"text-sm text-gray-500",children:o.timestamp.toDate().toLocaleString()}),k.jsx("button",{onClick:()=>s(o.id),className:"text-red-500 hover:text-red-700 mt-2",children:"Eliminar"})]},o.id))})]})},J$=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),PA=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),Z$=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),eV=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),tV=(t,e)=>{e=e||eV(t);let n=e,r=e;PA(e)&&(n=e.map(s=>s.label),r=e.map(s=>s.key));const i=t.map(s=>r.map(o=>nV(o,s)));return[n,...i]},nV=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,i,s,o){const a=r[i];if(a==null)o.splice(1);else return a},e);return n===void 0?t in e?e[t]:"":n},rV=t=>typeof t>"u"||t===null?"":t,CA=(t,e=",",n='"')=>t.filter(r=>r).map(r=>r.map(i=>rV(i)).map(i=>`${n}${i}${n}`).join(e)).join(`
`),iV=(t,e,n,r)=>CA(e?[e,...t]:t,n,r),sV=(t,e,n,r)=>CA(tV(t,e),n,r),oV=(t,e,n,r)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),xA=(t,e,n,r)=>{if(PA(t))return sV(t,e,n,r);if(Z$(t))return iV(t,e,n,r);if(typeof t=="string")return oV(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},RA=(t,e,n,r,i)=>{const s=xA(t,n,r,i),o=J$()?"application/csv":"text/csv",a=new Blob([e?"\uFEFF":"",s],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${s}`,c=window.URL||window.webkitURL;return typeof c.createObjectURL>"u"?l:c.createObjectURL(a)};var kA={exports:{}},aV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lV=aV,uV=lV;function DA(){}function NA(){}NA.resetWarningCache=DA;var cV=function(){function t(r,i,s,o,a,l){if(l!==uV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:NA,resetWarningCache:DA};return n.PropTypes=n,n};kA.exports=cV();var en=kA.exports;const B=Xt(en),OA={data:en.oneOfType([en.string,en.array,en.func]).isRequired,headers:en.array,target:en.string,separator:en.string,filename:en.string,uFEFF:en.bool,onClick:en.func,asyncOnClick:en.bool,enclosingCharacter:en.string},MA={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},hV={target:"_blank"};class i1 extends M.Component{constructor(e){super(e),this.state={}}buildURI(){return RA(...arguments)}componentDidMount(){const{data:e,headers:n,separator:r,enclosingCharacter:i,uFEFF:s,target:o,specs:a,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,s,n,r,i),o,a,l)}getWindow(){return this.state.page}render(){return null}}H(i1,"defaultProps",Object.assign(MA,hV)),H(i1,"propTypes",OA);var vc;let dV=(vc=class extends M.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return RA(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:i,separator:s,filename:o,enclosingCharacter:a,uFEFF:l}=this.props,c=n&&typeof r=="function"?r():r;let h=new Blob([l?"\uFEFF":"",xA(c,i,s,a)]);return window.navigator.msSaveBlob(h,o),!1}}handleAsyncClick(e){const n=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:r,filename:i,uFEFF:s,children:o,onClick:a,asyncOnClick:l,enclosingCharacter:c,...h}=this.props,f=typeof window>"u"?"":this.buildURI(e,s,n,r,c);return k.jsx("a",{download:i,...h,ref:g=>this.link=g,target:"_self",href:f,onClick:this.handleClick(),children:o})}},H(vc,"defaultProps",MA),H(vc,"propTypes",OA),vc);const fV=dV,pV=()=>{const[t,e]=z.useState({}),[n,r]=z.useState([]);return z.useEffect(()=>{(async()=>{const s=await ht(qe(Pe,"brothers")),o=await ht(qe(Pe,"events")),a=await ht(qe(Pe,"users")),l={};Object.keys(kn).forEach(h=>{l[h]={brothers:0,events:0,users:0}}),s.forEach(h=>{const d=h.data();l[d.department]&&l[d.department].brothers++}),o.forEach(h=>{const d=h.data();l[d.department]&&l[d.department].events++}),a.forEach(h=>{const d=h.data();d.role==="leader"&&l[d.department]&&l[d.department].users++}),e(l);const c=[];c.push(["Departamento","Hermanos","Eventos","Usuarios"]),Object.keys(l).forEach(h=>{c.push([kn[h].name,l[h].brothers,l[h].events,l[h].users])}),r(c)})()},[]),k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Estadsticas"}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:Object.keys(t).map(i=>k.jsxs("div",{className:`p-4 rounded text-white ${kn[i].color}`,children:[k.jsx("h3",{className:"text-lg font-medium",children:kn[i].name}),k.jsxs("p",{children:["Hermanos: ",t[i].brothers]}),k.jsxs("p",{children:["Eventos: ",t[i].events]}),k.jsxs("p",{children:["Usuarios: ",t[i].users]})]},i))}),k.jsx(fV,{data:n,filename:"estadisticas.csv",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Descargar CSV"})]})};function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function mV(t,e){if(Ar(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ar(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LA(t){var e=mV(t,"string");return Ar(e)=="symbol"?e:e+""}function zi(t,e,n){return(e=LA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dd(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lr(t,e){if(t==null)return{};var n,r,i=Dd(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LA(r.key),r)}}function at(t,e,n){return e&&o1(t.prototype,e),n&&o1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}function $A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!t})()}function gV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vV(t,e){if(e&&(Ar(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gV(t)}function Ot(t,e,n){return e=Mh(e),vV(t,$A()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function Lh(t,e){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lh(t,e)}function Mt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lh(t,e)}function VA(t){if(Array.isArray(t))return t}function yV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fv(t,e){if(t){if(typeof t=="string")return Nm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nm(t,e):void 0}}function FA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(t,e){return VA(t)||yV(t,e)||Fv(t,e)||FA()}function jA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=jA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ue(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=jA(t))&&(r&&(r+=" "),r+=e);return r}function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(null,arguments)}var wV=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},_V=wV;const $l=Xt(_V);var EV=function(){};function TV(t,e){var n={};return Object.keys(t).forEach(function(r){n[jc(r)]=EV}),n}function a1(t,e){return t[e]!==void 0}function jc(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function SV(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function bV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Lh(t,e)}function UA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function zA(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function BA(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}UA.__suppressDeprecationWarning=!0;zA.__suppressDeprecationWarning=!0;BA.__suppressDeprecationWarning=!0;function IV(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=UA,e.componentWillReceiveProps=zA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=BA;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,h,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,c,h,f)}}return t}var AV="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function WA(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=SV(t),s=Object.keys(e),o=s.map(jc);i||!n.length||$l(!1);var a=function(c){bV(h,c);function h(){for(var f,g=arguments.length,_=new Array(g),y=0;y<g;y++)_[y]=arguments[y];f=c.call.apply(c,[this].concat(_))||this,f.handlers=Object.create(null),s.forEach(function(E){var v=e[E],S=function(N){if(f.props[v]){var O;f._notifying=!0;for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];(O=f.props)[v].apply(O,[N].concat(w)),f._notifying=!1}f.unmounted||f.setState(function(A){var R,D=A.values;return{values:je(Object.create(null),D,(R={},R[E]=N,R))}})};f.handlers[v]=S}),n.length&&(f.attachRef=function(E){f.inner=E});var P=Object.create(null);return s.forEach(function(E){P[E]=f.props[jc(E)]}),f.state={values:P,prevProps:{}},f}var d=h.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(g,_){var y=_.values,P=_.prevProps,E={values:je(Object.create(null),y),prevProps:{}};return s.forEach(function(v){E.prevProps[v]=g[v],!a1(g,v)&&a1(P,v)&&(E.values[v]=g[jc(v)])}),E},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var g=this,_=this.props,y=_.innerRef,P=Dd(_,["innerRef"]);o.forEach(function(v){delete P[v]});var E={};return s.forEach(function(v){var S=g.props[v];E[v]=S!==void 0?S:g.state.values[v]}),M.createElement(t,je({},P,E,this.handlers,{ref:y||this.attachRef}))},h}(M.Component);IV(a),a.displayName="Uncontrolled("+r+")",a.propTypes=je({innerRef:function(){}},TV(e)),n.forEach(function(c){a.prototype[c]=function(){var d;return(d=this.inner)[c].apply(d,arguments)}});var l=a;return M.forwardRef&&(l=M.forwardRef(function(c,h){return M.createElement(a,je({},c,{innerRef:h,__source:{fileName:AV,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,h,d){return h===void 0&&(h={}),WA(c,je({},e,h),d)},l}var $h="milliseconds",Vl="seconds",Fl="minutes",jl="hours",hs="day",Po="week",Ul="month",ds="year",fs="decade",ps="century",HA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},PV={month:1,year:12,decade:10*12,century:100*12};function CV(t){return[31,xV(t),31,30,31,30,31,31,30,31,30,31]}function xV(t){return t%4===0&&t%100!==0||t%400===0?29:28}function $n(t,e,n){switch(t=new Date(t),n){case $h:case Vl:case Fl:case jl:case hs:case Po:return RV(t,e*HA[n]);case Ul:case ds:case fs:case ps:return kV(t,e*PV[n])}throw new TypeError('Invalid units: "'+n+'"')}function RV(t,e){var n=new Date(+t+e);return DV(t,n)}function kV(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=n*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,CV(o)[a]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(a),c.setDate(l),c}function DV(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*HA.minutes)}function zl(t,e,n){return $n(t,-e,n)}function St(t,e,n){switch(t=new Date(t),e){case ps:case fs:case ds:t=Fh(t,0);case Ul:t=QA(t,1);case Po:case hs:t=Hl(t,0);case jl:t=Co(t,0);case Fl:t=Wl(t,0);case Vl:t=Bl(t,0)}return e===fs&&(t=zl(t,ms(t)%10,"year")),e===ps&&(t=zl(t,ms(t)%100,"year")),e===Po&&(t=XA(t,0,n)),t}function Vh(t,e,n){switch(t=new Date(t),t=St(t,e,n),e){case ps:case fs:case ds:case Ul:case Po:t=$n(t,1,e),t=zl(t,1,hs),t.setHours(23,59,59,999);break;case hs:t.setHours(23,59,59,999);break;case jl:case Fl:case Vl:t=$n(t,1,e),t=zl(t,1,$h)}return t}var Ho=Go(function(t,e){return t===e}),jv=Go(function(t,e){return t!==e}),Nd=Go(function(t,e){return t>e}),pu=Go(function(t,e){return t>=e}),Uv=Go(function(t,e){return t<e}),qo=Go(function(t,e){return t<=e});function qA(){return new Date(Math.min.apply(Math,arguments))}function GA(){return new Date(Math.max.apply(Math,arguments))}function KA(t,e,n,r){return r=r||"day",(!e||pu(t,e,r))&&(!n||qo(t,n,r))}var Bl=Ci("Milliseconds"),Wl=Ci("Seconds"),Co=Ci("Minutes"),Hl=Ci("Hours"),YA=Ci("Day"),QA=Ci("Date"),Fh=Ci("Month"),ms=Ci("FullYear");function NV(t,e){return e===void 0?ms(St(t,fs)):$n(t,e+10,ds)}function OV(t,e){return e===void 0?ms(St(t,ps)):$n(t,e+100,ds)}function XA(t,e,n){var r=(YA(t)+7-(n||0))%7;return e===void 0?r:$n(t,e-r,hs)}function MV(t,e,n,r){var i,s,o;switch(n){case $h:case Vl:case Fl:case jl:case hs:case Po:i=e.getTime()-t.getTime();break;case Ul:case ds:case fs:case ps:i=(ms(e)-ms(t))*12+Fh(e)-Fh(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case $h:s=1;break;case Vl:s=1e3;break;case Fl:s=1e3*60;break;case jl:s=1e3*60*60;break;case hs:s=1e3*60*60*24;break;case Po:s=1e3*60*60*24*7;break;case Ul:s=1;break;case ds:s=12;break;case fs:s=120;break;case ps:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Ci(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function Go(t){return function(e,n,r){return t(+St(e,r),+St(n,r))}}const l1=Object.freeze(Object.defineProperty({__proto__:null,add:$n,century:OV,date:QA,day:YA,decade:NV,diff:MV,endOf:Vh,eq:Ho,gt:Nd,gte:pu,hours:Hl,inRange:KA,lt:Uv,lte:qo,max:GA,milliseconds:Bl,min:qA,minutes:Co,month:Fh,neq:jv,seconds:Wl,startOf:St,subtract:zl,weekday:XA,year:ms},Symbol.toStringTag,{value:"Module"}));function LV(t){if(Array.isArray(t))return Nm(t)}function JA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $V(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uc(t){return LV(t)||JA(t)||Fv(t)||$V()}function VV(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var ZA=VV;function FV(t,e){return t===e||t!==t&&e!==e}var mu=FV,jV=typeof gn=="object"&&gn&&gn.Object===Object&&gn,eP=jV,UV=eP,zV=typeof self=="object"&&self&&self.Object===Object&&self,BV=UV||zV||Function("return this")(),ur=BV,WV=ur,HV=WV.Symbol,Ko=HV,u1=Ko,tP=Object.prototype,qV=tP.hasOwnProperty,GV=tP.toString,Oa=u1?u1.toStringTag:void 0;function KV(t){var e=qV.call(t,Oa),n=t[Oa];try{t[Oa]=void 0;var r=!0}catch{}var i=GV.call(t);return r&&(e?t[Oa]=n:delete t[Oa]),i}var YV=KV,QV=Object.prototype,XV=QV.toString;function JV(t){return XV.call(t)}var ZV=JV,c1=Ko,e4=YV,t4=ZV,n4="[object Null]",r4="[object Undefined]",h1=c1?c1.toStringTag:void 0;function i4(t){return t==null?t===void 0?r4:n4:h1&&h1 in Object(t)?e4(t):t4(t)}var Yo=i4;function s4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kr=s4,o4=Yo,a4=kr,l4="[object AsyncFunction]",u4="[object Function]",c4="[object GeneratorFunction]",h4="[object Proxy]";function d4(t){if(!a4(t))return!1;var e=o4(t);return e==u4||e==c4||e==l4||e==h4}var zv=d4,f4=9007199254740991;function p4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f4}var Bv=p4,m4=zv,g4=Bv;function v4(t){return t!=null&&g4(t.length)&&!m4(t)}var gu=v4,y4=9007199254740991,w4=/^(?:0|[1-9]\d*)$/;function _4(t,e){var n=typeof t;return e=e??y4,!!e&&(n=="number"||n!="symbol"&&w4.test(t))&&t>-1&&t%1==0&&t<e}var Wv=_4,E4=mu,T4=gu,S4=Wv,b4=kr;function I4(t,e,n){if(!b4(n))return!1;var r=typeof e;return(r=="number"?T4(n)&&S4(e,n.length):r=="string"&&e in n)?E4(n[e],t):!1}var Od=I4,A4=/\s/;function P4(t){for(var e=t.length;e--&&A4.test(t.charAt(e)););return e}var C4=P4,x4=C4,R4=/^\s+/;function k4(t){return t&&t.slice(0,x4(t)+1).replace(R4,"")}var D4=k4;function N4(t){return t!=null&&typeof t=="object"}var xi=N4,O4=Yo,M4=xi,L4="[object Symbol]";function $4(t){return typeof t=="symbol"||M4(t)&&O4(t)==L4}var vu=$4,V4=D4,d1=kr,F4=vu,f1=0/0,j4=/^[-+]0x[0-9a-f]+$/i,U4=/^0b[01]+$/i,z4=/^0o[0-7]+$/i,B4=parseInt;function W4(t){if(typeof t=="number")return t;if(F4(t))return f1;if(d1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=d1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=V4(t);var n=U4.test(t);return n||z4.test(t)?B4(t.slice(2),n?2:8):j4.test(t)?f1:+t}var H4=W4,q4=H4,p1=1/0,G4=17976931348623157e292;function K4(t){if(!t)return t===0?t:0;if(t=q4(t),t===p1||t===-p1){var e=t<0?-1:1;return e*G4}return t===t?t:0}var nP=K4,Y4=nP;function Q4(t){var e=Y4(t),n=e%1;return e===e?n?e-n:e:0}var rP=Q4,X4=ZA,J4=Od,Z4=rP,e3=Math.ceil,t3=Math.max;function n3(t,e,n){(n?J4(t,e,n):e===void 0)?e=1:e=t3(Z4(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(e3(r/e));i<r;)o[s++]=X4(t,i,i+=e);return o}var r3=n3;const i3=Xt(r3);function yu(t){return t&&t.ownerDocument||document}function s3(t){var e=yu(t);return e&&e.defaultView||window}function o3(t,e){return s3(t).getComputedStyle(t,e)}var a3=/([A-Z])/g;function l3(t){return t.replace(a3,"-$1").toLowerCase()}var u3=/^ms-/;function dc(t){return l3(t).replace(u3,"-ms-")}var c3=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function h3(t){return!!(t&&c3.test(t))}function Fs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(dc(e))||o3(t).getPropertyValue(dc(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(dc(i)):h3(i)?r+=i+"("+s+") ":n+=dc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function ql(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function d3(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Hv(t){return"window"in t&&t.window===t?t:d3(t)&&t.defaultView||!1}function iP(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=Hv(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}const sP=iP("pageXOffset"),oP=iP("pageYOffset");function Ji(t){var e=yu(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!ql(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+oP(r)-(r.clientTop||0),left:n.left+sP(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var f3=function(e){return!!e&&"offsetParent"in e};function p3(t){for(var e=yu(t),n=t&&t.offsetParent;f3(n)&&n.nodeName!=="HTML"&&Fs(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var m3=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function aP(t,e){var n={top:0,left:0},r;if(Fs(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||p3(t);r=Ji(t),m3(i)!=="html"&&(n=Ji(i));var s=String(Fs(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-oP(i)||0;var o=String(Fs(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-sP(i)||0}var a=String(Fs(t,"marginTop")||0),l=String(Fs(t,"marginLeft")||0);return je({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const qv=!!(typeof window<"u"&&window.document&&window.document.createElement);var m1=new Date().getTime();function g3(t){var e=new Date().getTime(),n=Math.max(0,16-(e-m1)),r=setTimeout(t,n);return m1=e,r}var v3=["","webkit","moz","o","ms"],Om="clearTimeout",Mm=g3,g1=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};qv&&v3.some(function(t){var e=g1(t,"request");return e in window&&(Om=g1(t,"cancel"),Mm=function(r){return window[e](r)}),!!Mm});var v1=function(e){typeof window[Om]=="function"&&window[Om](e)},lP=Mm,np;function y3(t,e){if(!np){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;np=function(s,o){return r.call(s,o)}}return np(t,e)}var w3=Function.prototype.bind.call(Function.prototype.call,[].slice);function _3(t,e){return w3(t.querySelectorAll(e))}var Lm=!1,$m=!1;try{var rp={get passive(){return Lm=!0},get once(){return $m=Lm=!0}};qv&&(window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,!0))}catch{}function E3(t,e,n,r){if(r&&typeof r!="boolean"&&!$m){var i=r.once,s=r.capture,o=n;!$m&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Lm?r:s)}t.addEventListener(e,n,r)}function T3(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t},[t]),e}function y1(t){const e=T3(t);return z.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function w1(){return z.useState(null)}function S3(){const t=z.useRef(!0),e=z.useRef(()=>t.current);return z.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function b3(t){const e=S3();return[t[0],z.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Kt="top",En="bottom",Tn="right",Yt="left",Gv="auto",wu=[Kt,En,Tn,Yt],xo="start",Gl="end",I3="clippingParents",uP="viewport",Ma="popper",A3="reference",_1=wu.reduce(function(t,e){return t.concat([e+"-"+xo,e+"-"+Gl])},[]),Kv=[].concat(wu,[Gv]).reduce(function(t,e){return t.concat([e,e+"-"+xo,e+"-"+Gl])},[]),P3="beforeRead",C3="read",x3="afterRead",R3="beforeMain",k3="main",D3="afterMain",N3="beforeWrite",O3="write",M3="afterWrite",L3=[P3,C3,x3,R3,k3,D3,N3,O3,M3];function sr(t){return t.split("-")[0]}function an(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function gs(t){var e=an(t).Element;return t instanceof e||t instanceof Element}function or(t){var e=an(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yv(t){if(typeof ShadowRoot>"u")return!1;var e=an(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Zi=Math.max,jh=Math.min,Ro=Math.round;function Vm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cP(){return!/^((?!chrome|android).)*safari/i.test(Vm())}function ko(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&or(t)&&(i=t.offsetWidth>0&&Ro(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ro(r.height)/t.offsetHeight||1);var o=gs(t)?an(t):window,a=o.visualViewport,l=!cP()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function Qv(t){var e=ko(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function hP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Yv(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ti(t){return t?(t.nodeName||"").toLowerCase():null}function Pr(t){return an(t).getComputedStyle(t)}function $3(t){return["table","td","th"].indexOf(Ti(t))>=0}function Ri(t){return((gs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Md(t){return Ti(t)==="html"?t:t.assignedSlot||t.parentNode||(Yv(t)?t.host:null)||Ri(t)}function E1(t){return!or(t)||Pr(t).position==="fixed"?null:t.offsetParent}function V3(t){var e=/firefox/i.test(Vm()),n=/Trident/i.test(Vm());if(n&&or(t)){var r=Pr(t);if(r.position==="fixed")return null}var i=Md(t);for(Yv(i)&&(i=i.host);or(i)&&["html","body"].indexOf(Ti(i))<0;){var s=Pr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function _u(t){for(var e=an(t),n=E1(t);n&&$3(n)&&Pr(n).position==="static";)n=E1(n);return n&&(Ti(n)==="html"||Ti(n)==="body"&&Pr(n).position==="static")?e:n||V3(t)||e}function Xv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ll(t,e,n){return Zi(t,jh(e,n))}function F3(t,e,n){var r=ll(t,e,n);return r>n?n:r}function dP(){return{top:0,right:0,bottom:0,left:0}}function fP(t){return Object.assign({},dP(),t)}function pP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var j3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,fP(typeof e!="number"?e:pP(e,wu))};function U3(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=sr(n.placement),l=Xv(a),c=[Yt,Tn].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var d=j3(i.padding,n),f=Qv(s),g=l==="y"?Kt:Yt,_=l==="y"?En:Tn,y=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],P=o[l]-n.rects.reference[l],E=_u(s),v=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,S=y/2-P/2,x=d[g],N=v-f[h]-d[_],O=v/2-f[h]/2+S,b=ll(x,O,N),w=l;n.modifiersData[r]=(e={},e[w]=b,e.centerOffset=b-O,e)}}function z3(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||hP(e.elements.popper,i)&&(e.elements.arrow=i))}const B3={name:"arrow",enabled:!0,phase:"main",fn:U3,effect:z3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Do(t){return t.split("-")[1]}var W3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function H3(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ro(n*i)/i||0,y:Ro(r*i)/i||0}}function T1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,_=o.y,y=_===void 0?0:_,P=typeof h=="function"?h({x:g,y}):{x:g,y};g=P.x,y=P.y;var E=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),S=Yt,x=Kt,N=window;if(c){var O=_u(n),b="clientHeight",w="clientWidth";if(O===an(n)&&(O=Ri(n),Pr(O).position!=="static"&&a==="absolute"&&(b="scrollHeight",w="scrollWidth")),O=O,i===Kt||(i===Yt||i===Tn)&&s===Gl){x=En;var T=d&&O===N&&N.visualViewport?N.visualViewport.height:O[b];y-=T-r.height,y*=l?1:-1}if(i===Yt||(i===Kt||i===En)&&s===Gl){S=Tn;var A=d&&O===N&&N.visualViewport?N.visualViewport.width:O[w];g-=A-r.width,g*=l?1:-1}}var R=Object.assign({position:a},c&&W3),D=h===!0?H3({x:g,y},an(n)):{x:g,y};if(g=D.x,y=D.y,l){var C;return Object.assign({},R,(C={},C[x]=v?"0":"",C[S]=E?"0":"",C.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",C))}return Object.assign({},R,(e={},e[x]=v?y+"px":"",e[S]=E?g+"px":"",e.transform="",e))}function q3(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:sr(e.placement),variation:Do(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,T1(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,T1(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const G3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:q3,data:{}};var fc={passive:!0};function K3(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=an(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,fc)}),a&&l.addEventListener("resize",n.update,fc),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,fc)}),a&&l.removeEventListener("resize",n.update,fc)}}const Y3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:K3,data:{}};var Q3={left:"right",right:"left",bottom:"top",top:"bottom"};function zc(t){return t.replace(/left|right|bottom|top/g,function(e){return Q3[e]})}var X3={start:"end",end:"start"};function S1(t){return t.replace(/start|end/g,function(e){return X3[e]})}function Jv(t){var e=an(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Zv(t){return ko(Ri(t)).left+Jv(t).scrollLeft}function J3(t,e){var n=an(t),r=Ri(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=cP();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Zv(t),y:l}}function Z3(t){var e,n=Ri(t),r=Jv(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Zi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Zv(t),l=-r.scrollTop;return Pr(i||n).direction==="rtl"&&(a+=Zi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ey(t){var e=Pr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function mP(t){return["html","body","#document"].indexOf(Ti(t))>=0?t.ownerDocument.body:or(t)&&ey(t)?t:mP(Md(t))}function ul(t,e){var n;e===void 0&&(e=[]);var r=mP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=an(r),o=i?[s].concat(s.visualViewport||[],ey(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ul(Md(o)))}function Fm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function eF(t,e){var n=ko(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function b1(t,e,n){return e===uP?Fm(J3(t,n)):gs(e)?eF(e,n):Fm(Z3(Ri(t)))}function tF(t){var e=ul(Md(t)),n=["absolute","fixed"].indexOf(Pr(t).position)>=0,r=n&&or(t)?_u(t):t;return gs(r)?e.filter(function(i){return gs(i)&&hP(i,r)&&Ti(i)!=="body"}):[]}function nF(t,e,n,r){var i=e==="clippingParents"?tF(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var h=b1(t,c,r);return l.top=Zi(h.top,l.top),l.right=jh(h.right,l.right),l.bottom=jh(h.bottom,l.bottom),l.left=Zi(h.left,l.left),l},b1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gP(t){var e=t.reference,n=t.element,r=t.placement,i=r?sr(r):null,s=r?Do(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Kt:l={x:o,y:e.y-n.height};break;case En:l={x:o,y:e.y+e.height};break;case Tn:l={x:e.x+e.width,y:a};break;case Yt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Xv(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case xo:l[c]=l[c]-(e[h]/2-n[h]/2);break;case Gl:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function Kl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?I3:a,c=n.rootBoundary,h=c===void 0?uP:c,d=n.elementContext,f=d===void 0?Ma:d,g=n.altBoundary,_=g===void 0?!1:g,y=n.padding,P=y===void 0?0:y,E=fP(typeof P!="number"?P:pP(P,wu)),v=f===Ma?A3:Ma,S=t.rects.popper,x=t.elements[_?v:f],N=nF(gs(x)?x:x.contextElement||Ri(t.elements.popper),l,h,o),O=ko(t.elements.reference),b=gP({reference:O,element:S,strategy:"absolute",placement:i}),w=Fm(Object.assign({},S,b)),T=f===Ma?w:O,A={top:N.top-T.top+E.top,bottom:T.bottom-N.bottom+E.bottom,left:N.left-T.left+E.left,right:T.right-N.right+E.right},R=t.modifiersData.offset;if(f===Ma&&R){var D=R[i];Object.keys(A).forEach(function(C){var q=[Tn,En].indexOf(C)>=0?1:-1,ne=[Kt,En].indexOf(C)>=0?"y":"x";A[C]+=D[ne]*q})}return A}function rF(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Kv:l,h=Do(r),d=h?a?_1:_1.filter(function(_){return Do(_)===h}):wu,f=d.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=d);var g=f.reduce(function(_,y){return _[y]=Kl(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[sr(y)],_},{});return Object.keys(g).sort(function(_,y){return g[_]-g[y]})}function iF(t){if(sr(t)===Gv)return[];var e=zc(t);return[S1(t),e,S1(e)]}function sF(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,_=g===void 0?!0:g,y=n.allowedAutoPlacements,P=e.options.placement,E=sr(P),v=E===P,S=l||(v||!_?[zc(P)]:iF(P)),x=[P].concat(S).reduce(function(tt,bt){return tt.concat(sr(bt)===Gv?rF(e,{placement:bt,boundary:h,rootBoundary:d,padding:c,flipVariations:_,allowedAutoPlacements:y}):bt)},[]),N=e.rects.reference,O=e.rects.popper,b=new Map,w=!0,T=x[0],A=0;A<x.length;A++){var R=x[A],D=sr(R),C=Do(R)===xo,q=[Kt,En].indexOf(D)>=0,ne=q?"width":"height",te=Kl(e,{placement:R,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),oe=q?C?Tn:Yt:C?En:Kt;N[ne]>O[ne]&&(oe=zc(oe));var U=zc(oe),Y=[];if(s&&Y.push(te[D]<=0),a&&Y.push(te[oe]<=0,te[U]<=0),Y.every(function(tt){return tt})){T=R,w=!1;break}b.set(R,Y)}if(w)for(var X=_?3:1,ae=function(bt){var mt=x.find(function(Jt){var bn=b.get(Jt);if(bn)return bn.slice(0,bt).every(function(Ps){return Ps})});if(mt)return T=mt,"break"},ue=X;ue>0;ue--){var Be=ae(ue);if(Be==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}const oF={name:"flip",enabled:!0,phase:"main",fn:sF,requiresIfExists:["offset"],data:{_skip:!1}};function I1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function A1(t){return[Kt,Tn,En,Yt].some(function(e){return t[e]>=0})}function aF(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Kl(e,{elementContext:"reference"}),a=Kl(e,{altBoundary:!0}),l=I1(o,r),c=I1(a,i,s),h=A1(l),d=A1(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const lF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:aF};function uF(t,e,n){var r=sr(t),i=[Yt,Kt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Yt,Tn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function cF(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Kv.reduce(function(h,d){return h[d]=uF(d,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const hF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cF};function dF(t){var e=t.state,n=t.name;e.modifiersData[n]=gP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const fF={name:"popperOffsets",enabled:!0,phase:"read",fn:dF,data:{}};function pF(t){return t==="x"?"y":"x"}function mF(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,_=n.tetherOffset,y=_===void 0?0:_,P=Kl(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),E=sr(e.placement),v=Do(e.placement),S=!v,x=Xv(E),N=pF(x),O=e.modifiersData.popperOffsets,b=e.rects.reference,w=e.rects.popper,T=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,A=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(O){if(s){var C,q=x==="y"?Kt:Yt,ne=x==="y"?En:Tn,te=x==="y"?"height":"width",oe=O[x],U=oe+P[q],Y=oe-P[ne],X=g?-w[te]/2:0,ae=v===xo?b[te]:w[te],ue=v===xo?-w[te]:-b[te],Be=e.elements.arrow,tt=g&&Be?Qv(Be):{width:0,height:0},bt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dP(),mt=bt[q],Jt=bt[ne],bn=ll(0,b[te],tt[te]),Ps=S?b[te]/2-X-bn-mt-A.mainAxis:ae-bn-mt-A.mainAxis,Iu=S?-b[te]/2+X+bn+Jt+A.mainAxis:ue+bn+Jt+A.mainAxis,ra=e.elements.arrow&&_u(e.elements.arrow),Au=ra?x==="y"?ra.clientTop||0:ra.clientLeft||0:0,ia=(C=R==null?void 0:R[x])!=null?C:0,sa=oe+Ps-ia-Au,Pu=oe+Iu-ia,Cu=ll(g?jh(U,sa):U,oe,g?Zi(Y,Pu):Y);O[x]=Cu,D[x]=Cu-oe}if(a){var Cs,oa=x==="x"?Kt:Yt,aa=x==="x"?En:Tn,ke=O[N],Qe=N==="y"?"height":"width",ki=ke+P[oa],xu=ke-P[aa],xs=[Kt,Yt].indexOf(E)!==-1,Ru=(Cs=R==null?void 0:R[N])!=null?Cs:0,Dr=xs?ki:ke-b[Qe]-w[Qe]-Ru+A.altAxis,la=xs?ke+b[Qe]+w[Qe]-Ru-A.altAxis:xu,ua=g&&xs?F3(Dr,ke,la):ll(g?Dr:ki,ke,g?la:xu);O[N]=ua,D[N]=ua-ke}e.modifiersData[r]=D}}const gF={name:"preventOverflow",enabled:!0,phase:"main",fn:mF,requiresIfExists:["offset"]};function vF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yF(t){return t===an(t)||!or(t)?Jv(t):vF(t)}function wF(t){var e=t.getBoundingClientRect(),n=Ro(e.width)/t.offsetWidth||1,r=Ro(e.height)/t.offsetHeight||1;return n!==1||r!==1}function _F(t,e,n){n===void 0&&(n=!1);var r=or(e),i=or(e)&&wF(e),s=Ri(e),o=ko(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ti(e)!=="body"||ey(s))&&(a=yF(e)),or(e)?(l=ko(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Zv(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function EF(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function TF(t){var e=EF(t);return L3.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function SF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bF(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var P1={placement:"bottom",modifiers:[],strategy:"absolute"};function C1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function IF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?P1:i;return function(a,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},P1,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:h,setOptions:function(E){var v=typeof E=="function"?E(h.options):E;y(),h.options=Object.assign({},s,h.options,v),h.scrollParents={reference:gs(a)?ul(a):a.contextElement?ul(a.contextElement):[],popper:ul(l)};var S=TF(bF([].concat(r,h.options.modifiers)));return h.orderedModifiers=S.filter(function(x){return x.enabled}),_(),g.update()},forceUpdate:function(){if(!f){var E=h.elements,v=E.reference,S=E.popper;if(C1(v,S)){h.rects={reference:_F(v,_u(S),h.options.strategy==="fixed"),popper:Qv(S)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var x=0;x<h.orderedModifiers.length;x++){if(h.reset===!0){h.reset=!1,x=-1;continue}var N=h.orderedModifiers[x],O=N.fn,b=N.options,w=b===void 0?{}:b,T=N.name;typeof O=="function"&&(h=O({state:h,options:w,name:T,instance:g})||h)}}}},update:SF(function(){return new Promise(function(P){g.forceUpdate(),P(h)})}),destroy:function(){y(),f=!0}};if(!C1(a,l))return g;g.setOptions(c).then(function(P){!f&&c.onFirstUpdate&&c.onFirstUpdate(P)});function _(){h.orderedModifiers.forEach(function(P){var E=P.name,v=P.options,S=v===void 0?{}:v,x=P.effect;if(typeof x=="function"){var N=x({state:h,name:E,instance:g,options:S}),O=function(){};d.push(N||O)}})}function y(){d.forEach(function(P){return P()}),d=[]}return g}}var AF=IF({defaultModifiers:[lF,fF,G3,Y3,hF,oF,gF,B3]}),x1=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},PF={name:"applyStyles",enabled:!1},CF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},xF=[];function RF(t,e,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,c=l===void 0?"absolute":l,h=r.modifiers,d=h===void 0?xF:h,f=Dd(r,["enabled","placement","strategy","modifiers"]),g=z.useRef(),_=z.useCallback(function(){var x;(x=g.current)==null||x.update()},[]),y=z.useCallback(function(){var x;(x=g.current)==null||x.forceUpdate()},[]),P=b3(z.useState({placement:a,update:_,forceUpdate:y,attributes:{},styles:{popper:x1(c),arrow:{}}})),E=P[0],v=P[1],S=z.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(N){var O=N.state,b={},w={};Object.keys(O.elements).forEach(function(T){b[T]=O.styles[T],w[T]=O.attributes[T]}),v({state:O,styles:b,attributes:w,update:_,forceUpdate:y,placement:O.placement})}}},[_,y,v]);return z.useEffect(function(){!g.current||!s||g.current.setOptions({placement:a,strategy:c,modifiers:[].concat(d,[S,PF])})},[c,a,S,s]),z.useEffect(function(){if(!(!s||t==null||e==null))return g.current=AF(t,e,je({},f,{placement:a,strategy:c,modifiers:[].concat(d,[CF,S])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,v(function(x){return je({},x,{attributes:{},styles:{popper:x1(c)}})}))}},[s,t,e]),E}function kF(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function qa(t,e,n,r){return E3(t,e,n,r),function(){kF(t,e,n,r)}}var DF=function(){},NF=DF;const OF=Xt(NF);function MF(t){return t&&"setState"in t?XS.findDOMNode(t):t??null}const LF=function(t){return yu(MF(t))};var $F=27,R1=function(){};function VF(t){return t.button===0}function FF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var k1=function(e){return e&&("current"in e?e.current:e)};function jF(t,e,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=z.useRef(!1),l=e||R1,c=z.useCallback(function(f){var g,_=k1(t);OF(!!_,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!_||FF(f)||!VF(f)||!!ql(_,(g=f.composedPath==null?void 0:f.composedPath()[0])!=null?g:f.target)},[t]),h=y1(function(f){a.current||l(f)}),d=y1(function(f){f.keyCode===$F&&l(f)});z.useEffect(function(){if(!(i||t==null)){var f=window.event,g=LF(k1(t)),_=qa(g,o,c,!0),y=qa(g,o,function(v){if(v===f){f=void 0;return}h(v)}),P=qa(g,"keyup",function(v){if(v===f){f=void 0;return}d(v)}),E=[];return"ontouchstart"in g.documentElement&&(E=[].slice.call(g.body.children).map(function(v){return qa(v,"mousemove",R1)})),function(){_(),y(),P(),E.forEach(function(v){return v()})}}},[t,i,o,c,h,d])}function UF(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function zF(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function BF(t){var e,n,r,i,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,c=t.offset,h=t.fixed,d=t.containerPadding,f=t.arrowElement,g=t.popperConfig,_=g===void 0?{}:g,y=UF(_.modifiers);return je({},_,{placement:a,enabled:s,strategy:h?"fixed":_.strategy,modifiers:zF(je({},y,{eventListeners:{enabled:o},preventOverflow:je({},y.preventOverflow,{options:d?je({padding:d},(e=y.preventOverflow)==null?void 0:e.options):(n=y.preventOverflow)==null?void 0:n.options}),offset:{options:je({offset:c},(r=y.offset)==null?void 0:r.options)},arrow:je({},y.arrow,{enabled:!!f,options:je({},(i=y.arrow)==null?void 0:i.options,{element:f})}),flip:je({enabled:!!l},y.flip)}))})}function WF(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function HF(t,e){t.classList?t.classList.add(e):WF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function D1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function qF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=D1(t.className,e):t.setAttribute("class",D1(t.className&&t.className.baseVal||"",e))}var pc;function ty(t){if((!pc&&pc!==0||t)&&qv){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),pc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return pc}var ip=function(e){var n;return typeof document>"u"?null:e==null?yu().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function N1(t,e){var n=z.useState(function(){return ip(t)}),r=n[0],i=n[1];if(!r){var s=ip(t);s&&i(s)}return z.useEffect(function(){e&&r&&e(r)},[e,r]),z.useEffect(function(){var o=ip(t);o!==r&&i(o)},[t,r]),r}const O1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function GF(t,e){const n=O1(t),r=O1(e);return i=>{n&&n(i),r&&r(i)}}function KF(t,e){return z.useMemo(()=>GF(t,e),[t,e])}var ny=M.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,c=t.transition,h=w1(),d=h[0],f=h[1],g=w1(),_=g[0],y=g[1],P=KF(f,e),E=N1(t.container),v=N1(t.target),S=z.useState(!t.show),x=S[0],N=S[1],O=RF(v,d,BF({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:_,popperConfig:l})),b=O.styles,w=O.attributes,T=Dd(O,["styles","attributes"]);t.show?x&&N(!1):!t.transition&&!x&&N(!0);var A=function(){N(!0),t.onExited&&t.onExited.apply(t,arguments)},R=t.show||c&&!x;if(jF(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!R)return null;var D=t.children(je({},T,{show:!!t.show,props:je({},w.popper,{style:b.popper,ref:P}),arrowProps:je({},w.arrow,{style:b.arrow,ref:y})}));if(c){var C=t.onExit,q=t.onExiting,ne=t.onEnter,te=t.onEntering,oe=t.onEntered;D=M.createElement(c,{in:t.show,appear:!0,onExit:C,onExiting:q,onExited:A,onEnter:ne,onEntering:te,onEntered:oe},D)}return E?XS.createPortal(D,E):null});ny.displayName="Overlay";ny.propTypes={show:B.bool,placement:B.oneOf(Kv),target:B.any,container:B.any,flip:B.bool,children:B.func.isRequired,containerPadding:B.number,popperConfig:B.object,rootClose:B.bool,rootCloseEvent:B.oneOf(["click","mousedown"]),rootCloseDisabled:B.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=B.func).isRequired.apply(s,[e].concat(r))}return B.func.apply(B,[e].concat(r))},transition:B.elementType,onEnter:B.func,onEntering:B.func,onEntered:B.func,onExit:B.func,onExiting:B.func,onExited:B.func};const YF=ny;function QF(){this.__data__=[],this.size=0}var XF=QF,JF=mu;function ZF(t,e){for(var n=t.length;n--;)if(JF(t[n][0],e))return n;return-1}var Ld=ZF,ej=Ld,tj=Array.prototype,nj=tj.splice;function rj(t){var e=this.__data__,n=ej(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nj.call(e,n,1),--this.size,!0}var ij=rj,sj=Ld;function oj(t){var e=this.__data__,n=sj(e,t);return n<0?void 0:e[n][1]}var aj=oj,lj=Ld;function uj(t){return lj(this.__data__,t)>-1}var cj=uj,hj=Ld;function dj(t,e){var n=this.__data__,r=hj(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fj=dj,pj=XF,mj=ij,gj=aj,vj=cj,yj=fj;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=pj;Qo.prototype.delete=mj;Qo.prototype.get=gj;Qo.prototype.has=vj;Qo.prototype.set=yj;var $d=Qo,wj=$d;function _j(){this.__data__=new wj,this.size=0}var Ej=_j;function Tj(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Sj=Tj;function bj(t){return this.__data__.get(t)}var Ij=bj;function Aj(t){return this.__data__.has(t)}var Pj=Aj,Cj=ur,xj=Cj["__core-js_shared__"],Rj=xj,sp=Rj,M1=function(){var t=/[^.]+$/.exec(sp&&sp.keys&&sp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kj(t){return!!M1&&M1 in t}var Dj=kj,Nj=Function.prototype,Oj=Nj.toString;function Mj(t){if(t!=null){try{return Oj.call(t)}catch{}try{return t+""}catch{}}return""}var vP=Mj,Lj=zv,$j=Dj,Vj=kr,Fj=vP,jj=/[\\^$.*+?()[\]{}|]/g,Uj=/^\[object .+?Constructor\]$/,zj=Function.prototype,Bj=Object.prototype,Wj=zj.toString,Hj=Bj.hasOwnProperty,qj=RegExp("^"+Wj.call(Hj).replace(jj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gj(t){if(!Vj(t)||$j(t))return!1;var e=Lj(t)?qj:Uj;return e.test(Fj(t))}var Kj=Gj;function Yj(t,e){return t==null?void 0:t[e]}var Qj=Yj,Xj=Kj,Jj=Qj;function Zj(t,e){var n=Jj(t,e);return Xj(n)?n:void 0}var As=Zj,e6=As,t6=ur,n6=e6(t6,"Map"),ry=n6,r6=As,i6=r6(Object,"create"),Vd=i6,L1=Vd;function s6(){this.__data__=L1?L1(null):{},this.size=0}var o6=s6;function a6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var l6=a6,u6=Vd,c6="__lodash_hash_undefined__",h6=Object.prototype,d6=h6.hasOwnProperty;function f6(t){var e=this.__data__;if(u6){var n=e[t];return n===c6?void 0:n}return d6.call(e,t)?e[t]:void 0}var p6=f6,m6=Vd,g6=Object.prototype,v6=g6.hasOwnProperty;function y6(t){var e=this.__data__;return m6?e[t]!==void 0:v6.call(e,t)}var w6=y6,_6=Vd,E6="__lodash_hash_undefined__";function T6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_6&&e===void 0?E6:e,this}var S6=T6,b6=o6,I6=l6,A6=p6,P6=w6,C6=S6;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=b6;Xo.prototype.delete=I6;Xo.prototype.get=A6;Xo.prototype.has=P6;Xo.prototype.set=C6;var x6=Xo,$1=x6,R6=$d,k6=ry;function D6(){this.size=0,this.__data__={hash:new $1,map:new(k6||R6),string:new $1}}var N6=D6;function O6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var M6=O6,L6=M6;function $6(t,e){var n=t.__data__;return L6(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Fd=$6,V6=Fd;function F6(t){var e=V6(this,t).delete(t);return this.size-=e?1:0,e}var j6=F6,U6=Fd;function z6(t){return U6(this,t).get(t)}var B6=z6,W6=Fd;function H6(t){return W6(this,t).has(t)}var q6=H6,G6=Fd;function K6(t,e){var n=G6(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Y6=K6,Q6=N6,X6=j6,J6=B6,Z6=q6,eU=Y6;function Jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jo.prototype.clear=Q6;Jo.prototype.delete=X6;Jo.prototype.get=J6;Jo.prototype.has=Z6;Jo.prototype.set=eU;var iy=Jo,tU=$d,nU=ry,rU=iy,iU=200;function sU(t,e){var n=this.__data__;if(n instanceof tU){var r=n.__data__;if(!nU||r.length<iU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rU(r)}return n.set(t,e),this.size=n.size,this}var oU=sU,aU=$d,lU=Ej,uU=Sj,cU=Ij,hU=Pj,dU=oU;function Zo(t){var e=this.__data__=new aU(t);this.size=e.size}Zo.prototype.clear=lU;Zo.prototype.delete=uU;Zo.prototype.get=cU;Zo.prototype.has=hU;Zo.prototype.set=dU;var sy=Zo,fU="__lodash_hash_undefined__";function pU(t){return this.__data__.set(t,fU),this}var mU=pU;function gU(t){return this.__data__.has(t)}var vU=gU,yU=iy,wU=mU,_U=vU;function Uh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yU;++e<n;)this.add(t[e])}Uh.prototype.add=Uh.prototype.push=wU;Uh.prototype.has=_U;var EU=Uh;function TU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var SU=TU;function bU(t,e){return t.has(e)}var IU=bU,AU=EU,PU=SU,CU=IU,xU=1,RU=2;function kU(t,e,n,r,i,s){var o=n&xU,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,g=n&RU?new AU:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var _=t[d],y=e[d];if(r)var P=o?r(y,_,d,e,t,s):r(_,y,d,t,e,s);if(P!==void 0){if(P)continue;f=!1;break}if(g){if(!PU(e,function(E,v){if(!CU(g,v)&&(_===E||i(_,E,n,r,s)))return g.push(v)})){f=!1;break}}else if(!(_===y||i(_,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var yP=kU,DU=ur,NU=DU.Uint8Array,wP=NU;function OU(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var MU=OU;function LU(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $U=LU,V1=Ko,F1=wP,VU=mu,FU=yP,jU=MU,UU=$U,zU=1,BU=2,WU="[object Boolean]",HU="[object Date]",qU="[object Error]",GU="[object Map]",KU="[object Number]",YU="[object RegExp]",QU="[object Set]",XU="[object String]",JU="[object Symbol]",ZU="[object ArrayBuffer]",e5="[object DataView]",j1=V1?V1.prototype:void 0,op=j1?j1.valueOf:void 0;function t5(t,e,n,r,i,s,o){switch(n){case e5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZU:return!(t.byteLength!=e.byteLength||!s(new F1(t),new F1(e)));case WU:case HU:case KU:return VU(+t,+e);case qU:return t.name==e.name&&t.message==e.message;case YU:case XU:return t==e+"";case GU:var a=jU;case QU:var l=r&zU;if(a||(a=UU),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=BU,o.set(t,e);var h=FU(a(t),a(e),r,i,s,o);return o.delete(t),h;case JU:if(op)return op.call(t)==op.call(e)}return!1}var n5=t5;function r5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var oy=r5,i5=Array.isArray,Sn=i5,s5=oy,o5=Sn;function a5(t,e,n){var r=e(t);return o5(t)?r:s5(r,n(t))}var _P=a5;function l5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var u5=l5;function c5(){return[]}var EP=c5,h5=u5,d5=EP,f5=Object.prototype,p5=f5.propertyIsEnumerable,U1=Object.getOwnPropertySymbols,m5=U1?function(t){return t==null?[]:(t=Object(t),h5(U1(t),function(e){return p5.call(t,e)}))}:d5,ay=m5;function g5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var v5=g5,y5=Yo,w5=xi,_5="[object Arguments]";function E5(t){return w5(t)&&y5(t)==_5}var T5=E5,z1=T5,S5=xi,TP=Object.prototype,b5=TP.hasOwnProperty,I5=TP.propertyIsEnumerable,A5=z1(function(){return arguments}())?z1:function(t){return S5(t)&&b5.call(t,"callee")&&!I5.call(t,"callee")},ly=A5,zh={exports:{}};function P5(){return!1}var C5=P5;zh.exports;(function(t,e){var n=ur,r=C5,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(zh,zh.exports);var jd=zh.exports,x5=Yo,R5=Bv,k5=xi,D5="[object Arguments]",N5="[object Array]",O5="[object Boolean]",M5="[object Date]",L5="[object Error]",$5="[object Function]",V5="[object Map]",F5="[object Number]",j5="[object Object]",U5="[object RegExp]",z5="[object Set]",B5="[object String]",W5="[object WeakMap]",H5="[object ArrayBuffer]",q5="[object DataView]",G5="[object Float32Array]",K5="[object Float64Array]",Y5="[object Int8Array]",Q5="[object Int16Array]",X5="[object Int32Array]",J5="[object Uint8Array]",Z5="[object Uint8ClampedArray]",e9="[object Uint16Array]",t9="[object Uint32Array]",Ae={};Ae[G5]=Ae[K5]=Ae[Y5]=Ae[Q5]=Ae[X5]=Ae[J5]=Ae[Z5]=Ae[e9]=Ae[t9]=!0;Ae[D5]=Ae[N5]=Ae[H5]=Ae[O5]=Ae[q5]=Ae[M5]=Ae[L5]=Ae[$5]=Ae[V5]=Ae[F5]=Ae[j5]=Ae[U5]=Ae[z5]=Ae[B5]=Ae[W5]=!1;function n9(t){return k5(t)&&R5(t.length)&&!!Ae[x5(t)]}var r9=n9;function i9(t){return function(e){return t(e)}}var Ud=i9,Bh={exports:{}};Bh.exports;(function(t,e){var n=eP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Bh,Bh.exports);var uy=Bh.exports,s9=r9,o9=Ud,B1=uy,W1=B1&&B1.isTypedArray,a9=W1?o9(W1):s9,cy=a9,l9=v5,u9=ly,c9=Sn,h9=jd,d9=Wv,f9=cy,p9=Object.prototype,m9=p9.hasOwnProperty;function g9(t,e){var n=c9(t),r=!n&&u9(t),i=!n&&!r&&h9(t),s=!n&&!r&&!i&&f9(t),o=n||r||i||s,a=o?l9(t.length,String):[],l=a.length;for(var c in t)(e||m9.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||d9(c,l)))&&a.push(c);return a}var SP=g9,v9=Object.prototype;function y9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||v9;return t===n}var hy=y9;function w9(t,e){return function(n){return t(e(n))}}var bP=w9,_9=bP,E9=_9(Object.keys,Object),T9=E9,S9=hy,b9=T9,I9=Object.prototype,A9=I9.hasOwnProperty;function P9(t){if(!S9(t))return b9(t);var e=[];for(var n in Object(t))A9.call(t,n)&&n!="constructor"&&e.push(n);return e}var C9=P9,x9=SP,R9=C9,k9=gu;function D9(t){return k9(t)?x9(t):R9(t)}var Eu=D9,N9=_P,O9=ay,M9=Eu;function L9(t){return N9(t,M9,O9)}var IP=L9,H1=IP,$9=1,V9=Object.prototype,F9=V9.hasOwnProperty;function j9(t,e,n,r,i,s){var o=n&$9,a=H1(t),l=a.length,c=H1(e),h=c.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:F9.call(e,f)))return!1}var g=s.get(t),_=s.get(e);if(g&&_)return g==e&&_==t;var y=!0;s.set(t,e),s.set(e,t);for(var P=o;++d<l;){f=a[d];var E=t[f],v=e[f];if(r)var S=o?r(v,E,f,e,t,s):r(E,v,f,t,e,s);if(!(S===void 0?E===v||i(E,v,n,r,s):S)){y=!1;break}P||(P=f=="constructor")}if(y&&!P){var x=t.constructor,N=e.constructor;x!=N&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof N=="function"&&N instanceof N)&&(y=!1)}return s.delete(t),s.delete(e),y}var U9=j9,z9=As,B9=ur,W9=z9(B9,"DataView"),H9=W9,q9=As,G9=ur,K9=q9(G9,"Promise"),Y9=K9,Q9=As,X9=ur,J9=Q9(X9,"Set"),Z9=J9,ez=As,tz=ur,nz=ez(tz,"WeakMap"),rz=nz,jm=H9,Um=ry,zm=Y9,Bm=Z9,Wm=rz,AP=Yo,ea=vP,q1="[object Map]",iz="[object Object]",G1="[object Promise]",K1="[object Set]",Y1="[object WeakMap]",Q1="[object DataView]",sz=ea(jm),oz=ea(Um),az=ea(zm),lz=ea(Bm),uz=ea(Wm),ji=AP;(jm&&ji(new jm(new ArrayBuffer(1)))!=Q1||Um&&ji(new Um)!=q1||zm&&ji(zm.resolve())!=G1||Bm&&ji(new Bm)!=K1||Wm&&ji(new Wm)!=Y1)&&(ji=function(t){var e=AP(t),n=e==iz?t.constructor:void 0,r=n?ea(n):"";if(r)switch(r){case sz:return Q1;case oz:return q1;case az:return G1;case lz:return K1;case uz:return Y1}return e});var zd=ji,ap=sy,cz=yP,hz=n5,dz=U9,X1=zd,J1=Sn,Z1=jd,fz=cy,pz=1,eE="[object Arguments]",tE="[object Array]",mc="[object Object]",mz=Object.prototype,nE=mz.hasOwnProperty;function gz(t,e,n,r,i,s){var o=J1(t),a=J1(e),l=o?tE:X1(t),c=a?tE:X1(e);l=l==eE?mc:l,c=c==eE?mc:c;var h=l==mc,d=c==mc,f=l==c;if(f&&Z1(t)){if(!Z1(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new ap),o||fz(t)?cz(t,e,n,r,i,s):hz(t,e,l,n,r,i,s);if(!(n&pz)){var g=h&&nE.call(t,"__wrapped__"),_=d&&nE.call(e,"__wrapped__");if(g||_){var y=g?t.value():t,P=_?e.value():e;return s||(s=new ap),i(y,P,n,r,s)}}return f?(s||(s=new ap),dz(t,e,n,r,i,s)):!1}var vz=gz,yz=vz,rE=xi;function PP(t,e,n,r,i){return t===e?!0:t==null||e==null||!rE(t)&&!rE(e)?t!==t&&e!==e:yz(t,e,n,r,PP,i)}var dy=PP,wz=dy;function _z(t,e){return wz(t,e)}var Ez=_z;const Tz=Xt(Ez);function lp(t,e){var n=Hv(t);return n?n.innerHeight:e?t.clientHeight:Ji(t).height}function CP(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(y3(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Sz(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var bz=Sz,Iz=sy,Az=dy,Pz=1,Cz=2;function xz(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Iz;if(r)var f=r(c,h,l,t,e,d);if(!(f===void 0?Az(h,c,Pz|Cz,r,d):f))return!1}}return!0}var Rz=xz,kz=kr;function Dz(t){return t===t&&!kz(t)}var xP=Dz,Nz=xP,Oz=Eu;function Mz(t){for(var e=Oz(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nz(i)]}return e}var Lz=Mz;function $z(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var RP=$z,Vz=Rz,Fz=Lz,jz=RP;function Uz(t){var e=Fz(t);return e.length==1&&e[0][2]?jz(e[0][0],e[0][1]):function(n){return n===t||Vz(n,t,e)}}var zz=Uz,Bz=Sn,Wz=vu,Hz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qz=/^\w*$/;function Gz(t,e){if(Bz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Wz(t)?!0:qz.test(t)||!Hz.test(t)||e!=null&&t in Object(e)}var fy=Gz,kP=iy,Kz="Expected a function";function py(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Kz);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(py.Cache||kP),n}py.Cache=kP;var Yz=py,Qz=Yz,Xz=500;function Jz(t){var e=Qz(t,function(r){return n.size===Xz&&n.clear(),r}),n=e.cache;return e}var Zz=Jz,eB=Zz,tB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nB=/\\(\\)?/g,rB=eB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tB,function(n,r,i,s){e.push(i?s.replace(nB,"$1"):r||n)}),e}),iB=rB;function sB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var my=sB,iE=Ko,oB=my,aB=Sn,lB=vu,uB=1/0,sE=iE?iE.prototype:void 0,oE=sE?sE.toString:void 0;function DP(t){if(typeof t=="string")return t;if(aB(t))return oB(t,DP)+"";if(lB(t))return oE?oE.call(t):"";var e=t+"";return e=="0"&&1/t==-uB?"-0":e}var cB=DP,hB=cB;function dB(t){return t==null?"":hB(t)}var fB=dB,pB=Sn,mB=fy,gB=iB,vB=fB;function yB(t,e){return pB(t)?t:mB(t,e)?[t]:gB(vB(t))}var Bd=yB,wB=vu,_B=1/0;function EB(t){if(typeof t=="string"||wB(t))return t;var e=t+"";return e=="0"&&1/t==-_B?"-0":e}var Tu=EB,TB=Bd,SB=Tu;function bB(t,e){e=TB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[SB(e[n++])];return n&&n==r?t:void 0}var Wd=bB,IB=Wd;function AB(t,e,n){var r=t==null?void 0:IB(t,e);return r===void 0?n:r}var PB=AB;function CB(t,e){return t!=null&&e in Object(t)}var xB=CB,RB=Bd,kB=ly,DB=Sn,NB=Wv,OB=Bv,MB=Tu;function LB(t,e,n){e=RB(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=MB(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&OB(i)&&NB(o,i)&&(DB(t)||kB(t)))}var $B=LB,VB=xB,FB=$B;function jB(t,e){return t!=null&&FB(t,e,VB)}var UB=jB,zB=dy,BB=PB,WB=UB,HB=fy,qB=xP,GB=RP,KB=Tu,YB=1,QB=2;function XB(t,e){return HB(t)&&qB(e)?GB(KB(t),e):function(n){var r=BB(n,t);return r===void 0&&r===e?WB(n,t):zB(e,r,YB|QB)}}var JB=XB;function ZB(t){return t}var Hd=ZB;function eW(t){return function(e){return e==null?void 0:e[t]}}var tW=eW,nW=Wd;function rW(t){return function(e){return nW(e,t)}}var iW=rW,sW=tW,oW=iW,aW=fy,lW=Tu;function uW(t){return aW(t)?sW(lW(t)):oW(t)}var cW=uW,hW=zz,dW=JB,fW=Hd,pW=Sn,mW=cW;function gW(t){return typeof t=="function"?t:t==null?fW:typeof t=="object"?pW(t)?dW(t[0],t[1]):hW(t):mW(t)}var qd=gW,vW=bz,yW=qd,wW=rP,_W=Math.max;function EW(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:wW(n);return i<0&&(i=_W(r+i,0)),vW(t,yW(e),i)}var TW=EW;const SW=Xt(TW);var bW=Math.ceil,IW=Math.max;function AW(t,e,n,r){for(var i=-1,s=IW(bW((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var PW=AW,CW=PW,xW=Od,up=nP;function RW(t){return function(e,n,r){return r&&typeof r!="number"&&xW(e,n,r)&&(n=r=void 0),e=up(e),n===void 0?(n=e,e=0):n=up(n),r=r===void 0?e<n?1:-1:up(r),CW(e,n,r,t)}}var kW=RW,DW=kW,NW=DW(),OW=NW;const MW=Xt(OW);var aE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function LW(t,e){return!!(t===e||aE(t)&&aE(e))}function $W(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!LW(t[n],e[n]))return!1;return!0}function NP(t,e){e===void 0&&(e=$W);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}function Hm(t,e){var n=Hv(t);return n?n.innerWidth:e?t.clientWidth:Ji(t).width}var lE=Ko,VW=ly,FW=Sn,uE=lE?lE.isConcatSpreadable:void 0;function jW(t){return FW(t)||VW(t)||!!(uE&&t&&t[uE])}var UW=jW,zW=oy,BW=UW;function OP(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=BW),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?OP(a,e-1,n,r,i):zW(i,a):r||(i[i.length]=a)}return i}var MP=OP;function WW(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var HW=WW,qW=HW,GW=qW(),KW=GW,YW=KW,QW=Eu;function XW(t,e){return t&&YW(t,e,QW)}var gy=XW,JW=gu;function ZW(t,e){return function(n,r){if(n==null)return n;if(!JW(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var eH=ZW,tH=gy,nH=eH,rH=nH(tH),iH=rH,sH=iH,oH=gu;function aH(t,e){var n=-1,r=oH(t)?Array(t.length):[];return sH(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var lH=aH;function uH(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var cH=uH,cE=vu;function hH(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=cE(t),o=e!==void 0,a=e===null,l=e===e,c=cE(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var dH=hH,fH=dH;function pH(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=fH(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var mH=pH,cp=my,gH=Wd,vH=qd,yH=lH,wH=cH,_H=Ud,EH=mH,TH=Hd,SH=Sn;function bH(t,e,n){e.length?e=cp(e,function(s){return SH(s)?function(o){return gH(o,s.length===1?s[0]:s)}:s}):e=[TH];var r=-1;e=cp(e,_H(vH));var i=yH(t,function(s,o,a){var l=cp(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return wH(i,function(s,o){return EH(s,o,n)})}var IH=bH;function AH(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var PH=AH,CH=PH,hE=Math.max;function xH(t,e,n){return e=hE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=hE(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),CH(t,this,a)}}var LP=xH;function RH(t){return function(){return t}}var kH=RH,DH=As,NH=function(){try{var t=DH(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$P=NH,OH=kH,dE=$P,MH=Hd,LH=dE?function(t,e){return dE(t,"toString",{configurable:!0,enumerable:!1,value:OH(e),writable:!0})}:MH,$H=LH,VH=800,FH=16,jH=Date.now;function UH(t){var e=0,n=0;return function(){var r=jH(),i=FH-(r-n);if(n=r,i>0){if(++e>=VH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zH=UH,BH=$H,WH=zH,HH=WH(BH),VP=HH,qH=Hd,GH=LP,KH=VP;function YH(t,e){return KH(GH(t,e,qH),t+"")}var FP=YH,QH=MP,XH=IH,JH=FP,fE=Od,ZH=JH(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fE(t,e[0],e[1])?e=[]:n>2&&fE(e[0],e[1],e[2])&&(e=[e[0]]),XH(t,QH(e,1),[])}),e8=ZH;const t8=Xt(e8);function jP(t){return VA(t)||JA(t)||Fv(t)||FA()}function n8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var r8=n8,i8=kr,s8=hy,o8=r8,a8=Object.prototype,l8=a8.hasOwnProperty;function u8(t){if(!i8(t))return o8(t);var e=s8(t),n=[];for(var r in t)r=="constructor"&&(e||!l8.call(t,r))||n.push(r);return n}var c8=u8,h8=SP,d8=c8,f8=gu;function p8(t){return f8(t)?h8(t,!0):d8(t)}var Gd=p8,m8=FP,g8=mu,v8=Od,y8=Gd,UP=Object.prototype,w8=UP.hasOwnProperty,_8=m8(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&v8(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=y8(s),a=-1,l=o.length;++a<l;){var c=o[a],h=t[c];(h===void 0||g8(h,UP[c])&&!w8.call(t,c))&&(t[c]=s[c])}return t}),E8=_8;const T8=Xt(E8);var pE=$P;function S8(t,e,n){e=="__proto__"&&pE?pE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vy=S8,b8=vy,I8=gy,A8=qd;function P8(t,e){var n={};return e=A8(e),I8(t,function(r,i,s){b8(n,i,e(r,i,s))}),n}var C8=P8;const x8=Xt(C8);function R8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var zP=R8,k8=vy,D8=mu,N8=Object.prototype,O8=N8.hasOwnProperty;function M8(t,e,n){var r=t[e];(!(O8.call(t,e)&&D8(r,n))||n===void 0&&!(e in t))&&k8(t,e,n)}var BP=M8,L8=BP,$8=vy;function V8(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?$8(n,a,l):L8(n,a,l)}return n}var Su=V8,F8=Su,j8=Eu;function U8(t,e){return t&&F8(e,j8(e),t)}var z8=U8,B8=Su,W8=Gd;function H8(t,e){return t&&B8(e,W8(e),t)}var q8=H8,Wh={exports:{}};Wh.exports;(function(t,e){var n=ur,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(Wh,Wh.exports);var G8=Wh.exports;function K8(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Y8=K8,Q8=Su,X8=ay;function J8(t,e){return Q8(t,X8(t),e)}var Z8=J8,e7=bP,t7=e7(Object.getPrototypeOf,Object),Kd=t7,n7=oy,r7=Kd,i7=ay,s7=EP,o7=Object.getOwnPropertySymbols,a7=o7?function(t){for(var e=[];t;)n7(e,i7(t)),t=r7(t);return e}:s7,WP=a7,l7=Su,u7=WP;function c7(t,e){return l7(t,u7(t),e)}var h7=c7,d7=_P,f7=WP,p7=Gd;function m7(t){return d7(t,p7,f7)}var HP=m7,g7=Object.prototype,v7=g7.hasOwnProperty;function y7(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&v7.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var w7=y7,mE=wP;function _7(t){var e=new t.constructor(t.byteLength);return new mE(e).set(new mE(t)),e}var yy=_7,E7=yy;function T7(t,e){var n=e?E7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var S7=T7,b7=/\w*$/;function I7(t){var e=new t.constructor(t.source,b7.exec(t));return e.lastIndex=t.lastIndex,e}var A7=I7,gE=Ko,vE=gE?gE.prototype:void 0,yE=vE?vE.valueOf:void 0;function P7(t){return yE?Object(yE.call(t)):{}}var C7=P7,x7=yy;function R7(t,e){var n=e?x7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var k7=R7,D7=yy,N7=S7,O7=A7,M7=C7,L7=k7,$7="[object Boolean]",V7="[object Date]",F7="[object Map]",j7="[object Number]",U7="[object RegExp]",z7="[object Set]",B7="[object String]",W7="[object Symbol]",H7="[object ArrayBuffer]",q7="[object DataView]",G7="[object Float32Array]",K7="[object Float64Array]",Y7="[object Int8Array]",Q7="[object Int16Array]",X7="[object Int32Array]",J7="[object Uint8Array]",Z7="[object Uint8ClampedArray]",eq="[object Uint16Array]",tq="[object Uint32Array]";function nq(t,e,n){var r=t.constructor;switch(e){case H7:return D7(t);case $7:case V7:return new r(+t);case q7:return N7(t,n);case G7:case K7:case Y7:case Q7:case X7:case J7:case Z7:case eq:case tq:return L7(t,n);case F7:return new r;case j7:case B7:return new r(t);case U7:return O7(t);case z7:return new r;case W7:return M7(t)}}var rq=nq,iq=kr,wE=Object.create,sq=function(){function t(){}return function(e){if(!iq(e))return{};if(wE)return wE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),qP=sq,oq=qP,aq=Kd,lq=hy;function uq(t){return typeof t.constructor=="function"&&!lq(t)?oq(aq(t)):{}}var cq=uq,hq=zd,dq=xi,fq="[object Map]";function pq(t){return dq(t)&&hq(t)==fq}var mq=pq,gq=mq,vq=Ud,_E=uy,EE=_E&&_E.isMap,yq=EE?vq(EE):gq,wq=yq,_q=zd,Eq=xi,Tq="[object Set]";function Sq(t){return Eq(t)&&_q(t)==Tq}var bq=Sq,Iq=bq,Aq=Ud,TE=uy,SE=TE&&TE.isSet,Pq=SE?Aq(SE):Iq,Cq=Pq,xq=sy,Rq=zP,kq=BP,Dq=z8,Nq=q8,Oq=G8,Mq=Y8,Lq=Z8,$q=h7,Vq=IP,Fq=HP,jq=zd,Uq=w7,zq=rq,Bq=cq,Wq=Sn,Hq=jd,qq=wq,Gq=kr,Kq=Cq,Yq=Eu,Qq=Gd,Xq=1,Jq=2,Zq=4,GP="[object Arguments]",eG="[object Array]",tG="[object Boolean]",nG="[object Date]",rG="[object Error]",KP="[object Function]",iG="[object GeneratorFunction]",sG="[object Map]",oG="[object Number]",YP="[object Object]",aG="[object RegExp]",lG="[object Set]",uG="[object String]",cG="[object Symbol]",hG="[object WeakMap]",dG="[object ArrayBuffer]",fG="[object DataView]",pG="[object Float32Array]",mG="[object Float64Array]",gG="[object Int8Array]",vG="[object Int16Array]",yG="[object Int32Array]",wG="[object Uint8Array]",_G="[object Uint8ClampedArray]",EG="[object Uint16Array]",TG="[object Uint32Array]",Ee={};Ee[GP]=Ee[eG]=Ee[dG]=Ee[fG]=Ee[tG]=Ee[nG]=Ee[pG]=Ee[mG]=Ee[gG]=Ee[vG]=Ee[yG]=Ee[sG]=Ee[oG]=Ee[YP]=Ee[aG]=Ee[lG]=Ee[uG]=Ee[cG]=Ee[wG]=Ee[_G]=Ee[EG]=Ee[TG]=!0;Ee[rG]=Ee[KP]=Ee[hG]=!1;function Bc(t,e,n,r,i,s){var o,a=e&Xq,l=e&Jq,c=e&Zq;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Gq(t))return t;var h=Wq(t);if(h){if(o=Uq(t),!a)return Mq(t,o)}else{var d=jq(t),f=d==KP||d==iG;if(Hq(t))return Oq(t,a);if(d==YP||d==GP||f&&!i){if(o=l||f?{}:Bq(t),!a)return l?$q(t,Nq(o,t)):Lq(t,Dq(o,t))}else{if(!Ee[d])return i?t:{};o=zq(t,d,a)}}s||(s=new xq);var g=s.get(t);if(g)return g;s.set(t,o),Kq(t)?t.forEach(function(P){o.add(Bc(P,e,n,P,t,s))}):qq(t)&&t.forEach(function(P,E){o.set(E,Bc(P,e,n,E,t,s))});var _=c?l?Fq:Vq:l?Qq:Yq,y=h?void 0:_(t);return Rq(y||t,function(P,E){y&&(E=P,P=t[E]),kq(o,E,Bc(P,e,n,E,t,s))}),o}var SG=Bc;function bG(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var IG=bG,AG=Wd,PG=ZA;function CG(t,e){return e.length<2?t:AG(t,PG(e,0,-1))}var xG=CG,RG=Bd,kG=IG,DG=xG,NG=Tu;function OG(t,e){return e=RG(e,t),t=DG(t,e),t==null||delete t[NG(kG(e))]}var MG=OG,LG=Yo,$G=Kd,VG=xi,FG="[object Object]",jG=Function.prototype,UG=Object.prototype,QP=jG.toString,zG=UG.hasOwnProperty,BG=QP.call(Object);function WG(t){if(!VG(t)||LG(t)!=FG)return!1;var e=$G(t);if(e===null)return!0;var n=zG.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&QP.call(n)==BG}var HG=WG,qG=HG;function GG(t){return qG(t)?void 0:t}var KG=GG,YG=MP;function QG(t){var e=t==null?0:t.length;return e?YG(t,1):[]}var XG=QG,JG=XG,ZG=LP,eK=VP;function tK(t){return eK(ZG(t,void 0,JG),t+"")}var nK=tK,rK=my,iK=SG,sK=MG,oK=Bd,aK=Su,lK=KG,uK=nK,cK=HP,hK=1,dK=2,fK=4,pK=uK(function(t,e){var n={};if(t==null)return n;var r=!1;e=rK(e,function(s){return s=oK(s,t),r||(r=s.length>1),s}),aK(t,cK(t),n),r&&(n=iK(n,hK|dK|fK,lK));for(var i=e.length;i--;)sK(n,e[i]);return n}),mK=pK;const gK=Xt(mK);var vK=zP,yK=qP,wK=gy,_K=qd,EK=Kd,TK=Sn,SK=jd,bK=zv,IK=kr,AK=cy;function PK(t,e,n){var r=TK(t),i=r||SK(t)||AK(t);if(e=_K(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:IK(t)?n=bK(s)?yK(EK(t)):{}:n={}}return(i?vK:wK)(t,function(o,a,l){return e(n,o,a,l)}),n}var CK=PK;const xK=Xt(CK);var RK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),h=i(o),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(h,a):!this.isAfter(h,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(h,a):!this.isBefore(h,a))}}})})(RK);var kK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(kK);var DK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(DK);var NK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,g,_,y){var P=d.name?d:d.$locale(),E=o(P[f]),v=o(P[g]),S=E||v.map(function(N){return N.slice(0,_)});if(!y)return S;var x=P.weekStart;return S.map(function(N,O){return S[(O+(x||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,y,P){return y||P.slice(1)})}(d.formats[f.toUpperCase()])},h=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return h.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(NK);var OK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,h=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,_,y){var P=y&&y.toUpperCase();return _||f[y]||n[y]||f[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,v,S){return v||S.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,h)}}})})(OK);var MK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(h){return h}))[0];for(var c=1;c<a.length;c+=1)a[c].isValid()&&!a[c][o](l)||(l=a[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(MK);var LK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(y){var P={date:y,utc:!0,args:arguments};return new o(P)},l.utc=function(y){var P=a(this.toDate(),{locale:this.$L,utc:!0});return y?P.add(this.utcOffset(),n):P},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),c.call(this,y)};var h=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else h.call(this)};var d=l.utcOffset;l.utcOffset=function(y,P){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?d.call(this):this.$offset;if(typeof y=="string"&&(y=function(N){N===void 0&&(N="");var O=N.match(r);if(!O)return null;var b=(""+O[0]).match(i)||["-",0,0],w=b[0],T=60*+b[1]+ +b[2];return T===0?0:w==="+"?T:-T}(y),y===null))return this;var v=Math.abs(y)<=16?60*y:y;if(v===0)return this.utc(P);var S=this.clone();if(P)return S.$offset=v,S.$u=!1,S;var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(S=this.local().add(v+x,n)).$offset=v,S.$x.$localOffset=x,S};var f=l.format;l.format=function(y){var P=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,P)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var _=l.diff;l.diff=function(y,P,E){if(y&&this.$u===y.$u)return _.call(this,y,P,E);var v=this.local(),S=a(y).local();return _.call(v,S,P,E)}}})})(LK);var $K={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(gn,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})($K);function zn(t){return t.children}var Qt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Vt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},bE=Object.keys(Vt).map(function(t){return Vt[t]});B.oneOfType([B.string,B.func]);B.any;B.func;B.oneOfType([B.arrayOf(B.oneOf(bE)),B.objectOf(function(t,e){var n=bE.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return B.elementType.apply(B,[t,e].concat(i))})]);B.oneOfType([B.oneOf(["overlap","no-overlap"]),B.func]);var IE={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function XP(t,e){var n=St(t,"month");return St(n,"week",e.startOfWeek())}function JP(t,e){var n=Vh(t,"month");return Vh(n,"week",e.startOfWeek())}function VK(t,e){for(var n=XP(t,e),r=JP(t,e),i=[];qo(n,r,"day");)i.push(n),n=$n(n,1,"day");return i}function FK(t,e){var n=St(t,e);return Ho(n,t)?n:$n(n,1,e)}function jK(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];qo(r,e,n);)i.push(r),r=$n(r,1,n);return i}function UK(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=St(t,"day"),t=Hl(t,Hl(e)),t=Co(t,Co(e)),t=Wl(t,Wl(e)),Bl(t,Bl(e)))}function AE(t){return Hl(t)===0&&Co(t)===0&&Wl(t)===0&&Bl(t)===0}function zK(t,e,n,r){return n==="day"&&(n="date"),Math.abs(l1[n](t,void 0,r)-l1[n](e,void 0,r))}function wy(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+St(t,n)/IE[n]-+St(e,n)/IE[n]))}var BK=B.oneOfType([B.string,B.func]);function WK(t,e,n,r,i){var s=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return $l(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function HK(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function _y(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function qK(t,e){return wy(t,e,"minutes")+_y(t,e)}function GK(t){var e=St(t,"day");return wy(e,t,"minutes")+_y(e,t)}function KK(t,e){return Uv(t,e,"day")}function YK(t,e,n){var r=Ho(t,e,"minutes");return r?pu(e,n,"minutes"):Nd(e,n,"minutes")}function qm(t,e){return zK(t,e,"day")}function QK(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,c=+St(n,"day")-+St(o,"day"),h=qm(n,r),d=qm(o,a);return c||d-h||!!l-!!i||+n-+o||+r-+a}function XK(t){var e=t.event,n=e.start,r=e.end,i=t.range,s=i.start,o=i.end,a=St(n,"day"),l=qo(a,o,"day"),c=jv(a,r,"minutes"),h=c?Nd(r,s,"minutes"):pu(r,s,"minutes");return l&&h}function JK(t,e){return Ho(t,e,"day")}function ZK(t,e){return AE(t)&&AE(e)}var eY=at(function t(e){var n=this;ot(this,t),$l(typeof e.format=="function","date localizer `format(..)` must be a function"),$l(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||BK,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return WK.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||UK,this.inRange=e.inRange||KA,this.lt=e.lt||Uv,this.lte=e.lte||qo,this.gt=e.gt||Nd,this.gte=e.gte||pu,this.eq=e.eq||Ho,this.neq=e.neq||jv,this.startOf=e.startOf||St,this.endOf=e.endOf||Vh,this.add=e.add||$n,this.range=e.range||jK,this.diff=e.diff||wy,this.ceil=e.ceil||FK,this.min=e.min||qA,this.max=e.max||GA,this.minutes=e.minutes||Co,this.daySpan=e.daySpan||qm,this.firstVisibleDay=e.firstVisibleDay||XP,this.lastVisibleDay=e.lastVisibleDay||JP,this.visibleDays=e.visibleDays||VK,this.getSlotDate=e.getSlotDate||HK,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||_y,this.getTotalMin=e.getTotalMin||qK,this.getMinutesFromMidnight=e.getMinutesFromMidnight||GK,this.continuesPrior=e.continuesPrior||KK,this.continuesAfter=e.continuesAfter||YK,this.sortEvents=e.sortEvents||QK,this.inEventRange=e.inEventRange||XK,this.isSameDate=e.isSameDate||JK,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||ZK,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function tY(t,e,n,r){var i=_e(_e({},t.formats),n);return _e(_e({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,i[a]||a,e)}})}var nY=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return M.createElement("div",{className:"rbc-toolbar"},M.createElement("span",{className:"rbc-btn-group"},M.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qt.TODAY)},i.today),M.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qt.PREVIOUS)},i.previous),M.createElement("button",{type:"button",onClick:this.navigate.bind(null,Qt.NEXT)},i.next)),M.createElement("span",{className:"rbc-toolbar-label"},s),M.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return M.createElement("button",{type:"button",key:a,className:Ue({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(M.Component);function Ce(t,e){t&&t.apply(null,[].concat(e))}var rY={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function iY(t){return _e(_e({},rY),t)}function sY(t){var e=t.ref,n=t.callback;z.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var oY=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],ZP=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,c=r.onSelect,h=r.onDoubleClick,d=r.onKeyPress,f=r.localizer,g=r.continuesPrior,_=r.continuesAfter,y=r.accessors,P=r.getters,E=r.children,v=r.components,S=v.event,x=v.eventWrapper,N=r.slotStart,O=r.slotEnd,b=lr(r,oY);delete b.resizable;var w=y.title(o),T=y.tooltip(o),A=y.end(o),R=y.start(o),D=y.allDay(o),C=l||D||f.diff(R,f.ceil(A,"day"),"day")>1,q=P.eventProp(o,R,A,a),ne=M.createElement("div",{className:"rbc-event-content",title:T||void 0},S?M.createElement(S,{event:o,continuesPrior:g,continuesAfter:_,title:w,isAllDay:D,localizer:f,slotStart:N,slotEnd:O}):w);return M.createElement(x,Object.assign({},this.props,{type:"date"}),M.createElement("div",Object.assign({},b,{style:_e(_e({},q.style),i),className:Ue("rbc-event",s,q.className,{"rbc-selected":a,"rbc-event-allday":C,"rbc-event-continues-prior":g,"rbc-event-continues-after":_}),onClick:function(oe){return c&&c(o,oe)},onDoubleClick:function(oe){return h&&h(o,oe)},onKeyDown:function(oe){return d&&d(o,oe)}}),typeof E=="function"?E(ne):ne))}}])}(M.Component);function Yd(t,e){return!t||e==null?!1:Tz(t,e)}function eC(t,e){var n=t.right-t.left,r=n/e;return r}function tC(t,e,n,r){var i=eC(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function aY(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function lY(t,e,n,r,i){var s=-1,o=-1,a=r-1,l=eC(e,r),c=tC(e,n.x,i,r),h=e.top<n.y&&e.bottom>n.y,d=e.top<t.y&&e.bottom>t.y,f=t.y>e.bottom,g=e.top>t.y,_=n.top<e.top&&n.bottom>e.bottom;return _&&(s=0,o=a),h&&(g?(s=0,o=c):f&&(s=c,o=a)),d&&(s=o=i?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),h?c<s?s=c:o=c:t.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function uY(t){var e=t.target,n=t.offset,r=t.container,i=t.box,s=Ji(e),o=s.top,a=s.left,l=s.width,c=s.height,h=Ji(r),d=h.top,f=h.left,g=h.width,_=h.height,y=Ji(i),P=y.width,E=y.height,v=d+_,S=f+g,x=o+E,N=a+P,O=n.x,b=n.y,w=x>v?o-E-b:o+b+c,T=N>S?a+O-P+l:a+O;return{topOffset:w,leftOffset:T}}function cY(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,c=t.events,h=t.slotStart,d=t.slotEnd,f=t.onSelect,g=t.onDoubleClick,_=t.onKeyPress,y=t.handleDragStart,P=t.popperRef,E=t.target,v=t.offset;sY({ref:P,callback:l}),z.useLayoutEffect(function(){var N=uY({target:E,offset:v,container:e.current,box:P.current}),O=N.topOffset,b=N.leftOffset;P.current.style.top="".concat(O,"px"),P.current.style.left="".concat(b,"px")},[v.x,v.y,E]);var S=a.width,x={minWidth:S+S/2};return M.createElement("div",{style:x,className:"rbc-overlay",ref:P},M.createElement("div",{className:"rbc-overlay-header"},o.format(h,"dayHeaderFormat")),c.map(function(N,O){return M.createElement(ZP,{key:O,type:"popup",localizer:o,event:N,getters:r,onSelect:f,accessors:n,components:s,onDoubleClick:g,onKeyPress:_,continuesPrior:o.lt(n.end(N),h,"day"),continuesAfter:o.gte(n.start(N),d,"day"),slotStart:h,slotEnd:d,selected:Yd(N,i),draggable:!0,onDragStart:function(){return y(N)},onDragEnd:function(){return l()}})}))}var nC=M.forwardRef(function(t,e){return M.createElement(cY,Object.assign({},t,{popperRef:e}))});nC.propTypes={accessors:B.object.isRequired,getters:B.object.isRequired,selected:B.object,components:B.object.isRequired,localizer:B.object.isRequired,position:B.object.isRequired,show:B.func.isRequired,events:B.array.isRequired,slotStart:B.instanceOf(Date).isRequired,slotEnd:B.instanceOf(Date),onSelect:B.func,onDoubleClick:B.func,onKeyPress:B.func,handleDragStart:B.func,style:B.object,offset:B.shape({x:B.number,y:B.number})};function hY(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,c=t.selected,h=t.handleSelectEvent,d=t.handleDoubleClickEvent,f=t.handleKeyPressEvent,g=t.handleDragStart,_=t.onHide,y=t.overlayDisplay,P=z.useRef(null);if(!i.position)return null;var E=r;isNaN(r)||(E={x:r,y:r});var v=i.position,S=i.events,x=i.date,N=i.end;return M.createElement(YF,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:_,target:i.target},function(O){var b=O.props;return M.createElement(nC,Object.assign({},b,{containerRef:e,ref:P,target:i.target,offset:E,accessors:s,getters:l,selected:c,components:a,localizer:o,position:v,show:y,events:S,slotStart:x,slotEnd:N,onSelect:h,onDoubleClick:d,onKeyPress:f,handleDragStart:g}))})}var Ey=M.forwardRef(function(t,e){return M.createElement(hY,Object.assign({},t,{containerRef:e}))});Ey.propTypes={popupOffset:B.oneOfType([B.number,B.shape({x:B.number,y:B.number})]),overlay:B.shape({position:B.object,events:B.array,date:B.instanceOf(Date),end:B.instanceOf(Date)}),accessors:B.object.isRequired,localizer:B.object.isRequired,components:B.object.isRequired,getters:B.object.isRequired,selected:B.object,handleSelectEvent:B.func,handleDoubleClickEvent:B.func,handleKeyPressEvent:B.func,handleDragStart:B.func,onHide:B.func,overlayDisplay:B.func};function Ct(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return qa(n,t,e,{passive:!1})}function dY(t,e,n){return!t||ql(t,document.elementFromPoint(e,n))}function fY(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return CP(i,".rbc-event",t)}function pY(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return CP(i,".rbc-show-more",t)}function Hh(t,e){return!!fY(t,e)}function mY(t,e){return!!pY(t,e)}function La(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var PE=5,gY=250,rC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;ot(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ct("touchmove",function(){},window),this._removeKeyDownListener=Ct("keydown",this._keyListener),this._removeKeyUpListener=Ct("keyup",this._keyListener),this._removeDropFromOutsideListener=Ct("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ct("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return at(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:CE(r,vs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(f){s=setTimeout(function(){h(),n(f)},i.longPressThreshold),o=Ct("touchmove",function(){return h()}),a=Ct("touchend",function(){return h()})},c=Ct("touchstart",l),h=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){h(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Ct("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=Ct("mousedown",n._handleInitialEvent)}),i=Ct("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=La(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=La(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=La(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),c,h;if(!(n.which===3||n.button===2||!dY(l,i,s))){if(!this.globalMouse&&l&&!ql(l,n.target)){var d=vY(0),f=d.top,g=d.left,_=d.bottom,y=d.right;if(h=vs(l),c=CE({top:h.top-f,left:h.left-g,bottom:h.bottom+_,right:h.right+y},{top:a,left:o}),!c)return}var P=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(P!==!1)switch(n.type){case"mousedown":this._removeEndListener=Ct("mouseup",this._handleTerminatingEvent),this._onEscListener=Ct("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ct("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Ct("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ct("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||ql(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=La(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<gY?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=La(n),a=o.pageX,l=o.pageY,c=Math.abs(i-a),h=Math.abs(s-l),d=Math.min(a,i),f=Math.min(l,s),g=this.selecting,_=this.isClick(a,l);_&&!g&&!(c||h)||(!g&&!_&&this.emit("selectStart",this._initialEventData),_||(this.selecting=!0,this._selectRect={top:f,left:d,x:a,y:l,right:d+c,bottom:f+h},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=PE&&Math.abs(r-o)<=PE}}])}();function vY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ar(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function CE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=vs(t),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,c=l===void 0?i:l,h=vs(e),d=h.top,f=h.left,g=h.right,_=g===void 0?f:g,y=h.bottom,P=y===void 0?d:y;return!(c-n<d||i+n>P||a-n<f||s+n>_)}function vs(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+xE("left"),r=e.top+xE("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function xE(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var yY=function(t){function e(n,r){var i;return ot(this,e),i=Ot(this,e,[n,r]),i.state={selecting:!1},i.containerRef=z.createRef(),i}return Mt(e,t),at(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,c=r.localizer,h=this.state,d=h.selecting,f=h.startIdx,g=h.endIdx,_=s();return M.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(y,P){var E=d&&P>=f&&P<=g,v=o.dayProp(y),S=v.className,x=v.style;return M.createElement(l,{key:P,value:y,range:i},M.createElement("div",{style:x,className:Ue("rbc-day-bg",S,E&&"rbc-selected-cell",c.isSameDate(y,_)&&"rbc-today",a&&c.neq(a,y,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new rC(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Hh(i,l)&&!mY(i,l)){var h=vs(i),d=r.props,f=d.range,g=d.rtl;if(aY(h,l)){var _=tC(h,l.x,g,f.length);r._selectSlot({startIdx:_,endIdx:_,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,c=l.range,h=l.rtl,d=-1,f=-1;if(r.state.selecting||(Ce(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var g=vs(i),_=lY(r._initial,g,a,c.length,h);d=_.startIdx,f=_.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:f})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Hh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(_e(_e({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Ce(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(M.Component),cn={propTypes:{slotMetrics:B.object.isRequired,selected:B.object,isAllDay:B.bool,accessors:B.object.isRequired,localizer:B.object.isRequired,components:B.object.isRequired,getters:B.object.isRequired,onSelect:B.func,onDoubleClick:B.func,onKeyPress:B.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,h=e.slotMetrics,d=e.components,f=e.resizable,g=h.continuesPrior(n),_=h.continuesAfter(n);return M.createElement(ZP,{event:n,getters:s,localizer:c,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:g,continuesAfter:_,slotStart:h.first,slotEnd:h.last,selected:Yd(n,r),resizable:f})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/e*100+"%";return M.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},iC=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return M.createElement("div",{className:Ue(a,"rbc-row")},s.reduce(function(c,h,d){var f=h.event,g=h.left,_=h.right,y=h.span,P="_lvl_"+d,E=g-l,v=cn.renderEvent(r.props,f);return E&&c.push(cn.renderSpan(o,E,"".concat(P,"_gap"))),c.push(cn.renderSpan(o,y,P,v)),l=_+1,c},[]))}}])}(M.Component);iC.defaultProps=_e({},cn.defaultProps);function sC(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function wY(t,e,n,r){var i=sC({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(t),"day"),s),c=r.min(r.ceil(n.end(t),"day"),o),h=SW(e,function(f){return r.isSameDate(f,l)}),d=r.diff(l,c,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:t,span:d,left:h+1,right:Math.max(h+d,1)}}function Gm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<s.length&&_Y(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Yl(t,e,n,r,i){var s={start:r.start(t),end:r.end(t)},o={start:e,end:n};return i.inEventRange({event:s,range:o})}function _Y(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function EY(t,e,n){var r=Uc(t),i=[],s=[];r.forEach(function(l){var c=e.start(l),h=e.end(l);n.daySpan(c,h)>1?i.push(l):s.push(l)});var o=i.sort(function(l,c){return Km(l,c,e,n)}),a=s.sort(function(l,c){return Km(l,c,e,n)});return[].concat(Uc(o),Uc(a))}function Km(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var Ym=function(e,n){return e.left<=n&&e.right>=n},hp=function(e,n){return e.filter(function(r){return Ym(r,n)}).map(function(r){return r.event})},oC=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=Gm(i).levels[0],a=1,l=1,c=[];a<=s;){var h="_lvl_"+a,d=o.filter(function(x){return Ym(x,a)})[0]||{},f=d.event,g=d.left,_=d.right,y=d.span;if(!f){var P=this.getHiddenEventsForSlot(i,a);if(P.length>0){var E=a-l;E&&c.push(cn.renderSpan(s,E,h+"_gap")),c.push(cn.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1;continue}a++;continue}var v=Math.max(0,g-l);if(this.canRenderSlotEvent(g,y)){var S=cn.renderEvent(this.props,f);v&&c.push(cn.renderSpan(s,v,h+"_gap")),c.push(cn.renderSpan(s,y,h,S)),l=a=_+1}else v&&c.push(cn.renderSpan(s,v,h+"_gap")),c.push(cn.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1}return M.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var s=hp(r,i),o=Gm(r).levels[0],a=o.filter(function(l){return Ym(l,i)}).map(function(l){return l.event});return s.filter(function(l){return!a.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return MW(r,r+i).every(function(o){var a=hp(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,c=o.components,h=l.getEventsForSlot(i),d=hp(r,i),f=d.length;if(c!=null&&c.showMore){var g=c.showMore,_=l.getDateForSlot(i-1);return f?M.createElement(g,{localizer:a,slotDate:_,slot:i,count:f,events:h,remainingEvents:d}):!1}return f?M.createElement("button",{type:"button",key:"sm_"+i,className:Ue("rbc-button-link","rbc-show-more"),onClick:function(P){return s.showMore(i,P)}},a.messages.showMore(f,d,h)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(M.Component);oC.defaultProps=_e({},cn.defaultProps);var TY=function(e){var n=e.children;return M.createElement("div",{className:"rbc-row-content-scroll-container"},n)},SY=function(e,n){return e.left<=n&&e.right>=n},bY=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function aC(){return NP(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,s=t.accessors,o=t.localizer,a=sC({dateRange:e,localizer:o}),l=a.first,c=a.last,h=n.map(function(y){return wY(y,e,s,o)}),d=Gm(h,Math.max(r-1,1)),f=d.levels,g=d.extra,_=g.length>0?i-1:i;f.length<_;)f.push([]);return{first:l,last:c,levels:f,extra:g,range:e,slots:e.length,clone:function(P){var E=aC();return E(_e(_e({},t),P))},getDateForSlot:function(P){return e[P]},getSlotForDate:function(P){return e.find(function(E){return o.isSameDate(E,P)})},getEventsForSlot:function(P){return h.filter(function(E){return SY(E,P)}).map(function(E){return E.event})},continuesPrior:function(P){return o.continuesPrior(s.start(P),l)},continuesAfter:function(P){var E=s.start(P),v=s.end(P);return o.continuesAfter(E,v,c)}}},bY)}var Ql=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,c=a.onSelectSlot;c(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,c=l.range,h=l.onShowMore,d=n.slotMetrics(n.props),f=_3(n.containerRef.current,".rbc-row-bg")[0],g;f&&(g=f.children[o-1]);var _=d.getEventsForSlot(o);h(_,c[o-1],g,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,c=l.renderHeader,h=l.getNow,d=l.localizer;return c({date:o,key:"header_".concat(a),className:Ue("rbc-date-cell",d.isSameDate(o,h())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,c=o.renderHeader,h=o.showAllEvents;return M.createElement("div",{className:a,ref:n.containerRef},M.createElement("div",{className:Ue("rbc-row-content",h&&"rbc-row-content-scrollable")},c&&M.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),M.createElement("div",{className:"rbc-row",ref:n.eventRowRef},M.createElement("div",{className:"rbc-row-segment"},M.createElement("div",{className:"rbc-event"},M.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=z.createRef(),n.headingRowRef=z.createRef(),n.eventRowRef=z.createRef(),n.slotMetrics=aC(),n}return Mt(e,t),at(e,[{key:"getRowLimit",value:function(){var r,i=lp(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?lp(this.headingRowRef.current):0,o=lp(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,c=r.selectable,h=r.renderForMeasure,d=r.accessors,f=r.getters,g=r.components,_=r.getNow,y=r.renderHeader,P=r.onSelect,E=r.localizer,v=r.onSelectStart,S=r.onSelectEnd,x=r.onDoubleClick,N=r.onKeyPress,O=r.resourceId,b=r.longPressThreshold,w=r.isAllDay,T=r.resizable,A=r.showAllEvents;if(h)return this.renderDummy();var R=this.slotMetrics(this.props),D=R.levels,C=R.extra,q=A?TY:zn,ne=g.weekWrapper,te={selected:l,accessors:d,getters:f,localizer:E,components:g,onSelect:P,onDoubleClick:x,onKeyPress:N,resourceId:O,slotMetrics:R,resizable:T};return M.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},M.createElement(yY,{localizer:E,date:i,getNow:_,rtl:s,range:o,selectable:c,container:this.getContainer,getters:f,onSelectStart:v,onSelectEnd:S,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:b,resourceId:O}),M.createElement("div",{className:Ue("rbc-row-content",A&&"rbc-row-content-scrollable"),role:"row"},y&&M.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),M.createElement(q,null,M.createElement(ne,Object.assign({isAllDay:w},te,{rtl:this.props.rtl}),D.map(function(oe,U){return M.createElement(iC,Object.assign({key:U,segments:oe},te))}),!!C.length&&M.createElement(oC,Object.assign({segments:C,onShowMore:this.handleShowMore},te))))))}}])}(M.Component);Ql.defaultProps={minRows:0,maxRows:1/0};var Ty=function(e){var n=e.label;return M.createElement("span",{role:"columnheader","aria-sort":"none"},n)},IY=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):M.createElement("span",null,n)},AY=["date","className"],PY=function(e,n,r,i,s){return e.filter(function(o){return Yl(o,n,r,i,s)})},Qd=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,c=l.events,h=l.components,d=l.selectable,f=l.getNow,g=l.selected,_=l.date,y=l.localizer,P=l.longPressThreshold,E=l.accessors,v=l.getters,S=l.showAllEvents,x=n.state,N=x.needLimitMeasure,O=x.rowLimit,b=PY(Uc(c),o[0],o[o.length-1],E,y),w=EY(b,E,y);return M.createElement(Ql,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:f,date:_,range:o,events:w,maxRows:S?1/0:O,selected:g,selectable:d,components:h,accessors:E,getters:v,localizer:y,renderHeader:n.readerDateHeading,renderForMeasure:N,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:P,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:S})},n.readerDateHeading=function(o){var a=o.date,l=o.className,c=lr(o,AY),h=n.props,d=h.date,f=h.getDrilldownView,g=h.localizer,_=g.neq(d,a,"month"),y=g.isSameDate(a,d),P=f(a),E=g.format(a,"dateFormat"),v=n.props.components.dateHeader||IY;return M.createElement("div",Object.assign({},c,{className:Ue(l,_&&"rbc-off-range",y&&"rbc-current"),role:"cell"}),M.createElement(v,{label:E,date:a,drilldownView:P,isOffRange:_,onDrillDown:function(x){return n.handleHeadingClick(a,P,x)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),Ce(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,c,h){var d=n.props,f=d.popup,g=d.onDrillDown,_=d.onShowMore,y=d.getDrilldownView,P=d.doShowMoreDrillDown;if(n.clearSelection(),f){var E=aP(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:E,target:h}})}else P&&Ce(g,[a,y(a)||Vt.DAY]);Ce(_,[o,a,c])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=z.createRef(),n.slotRowRef=z.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Mt(e,t),at(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||lP(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=i3(a,7);return this._weekCount=l.length,M.createElement("div",{className:Ue("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},M.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],c=o.header||Ty;return s.range(a,l,"day").map(function(h,d){return M.createElement("div",{key:"header_"+d,className:"rbc-header"},M.createElement(c,{date:h,localizer:s,label:s.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,_=a.handleDragStart,y=function(){return s.setState({overlay:null})};return M.createElement(Ey,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:_,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Ce(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(M.Component);Qd.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};Qd.navigate=function(t,e,n){var r=n.localizer;switch(e){case Qt.PREVIOUS:return r.add(t,-1,"month");case Qt.NEXT:return r.add(t,1,"month");default:return t}};Qd.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var RE=function(e){var n=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function Sy(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,s=t.localizer,o=RE({start:e,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(e,n),l=s.getMinutesFromMidnight(e),c=Math.ceil((a-1)/(r*i)),h=c*i,d=new Array(c),f=new Array(h),g=0;g<c;g++){d[g]=new Array(i);for(var _=0;_<i;_++){var y=g*i+_,P=y*r;f[y]=d[g][_]=s.getSlotDate(e,l,P)}}var E=f.length*r;f.push(s.getSlotDate(e,l,E));function v(S){var x=s.diff(e,S,"minutes")+s.getDstOffset(e,S);return Math.min(x,a)}return{groups:d,update:function(x){return RE(x)!==o?Sy(x):this},dateIsInGroup:function(x,N){var O=d[N+1];return s.inRange(x,d[N][0],O?O[0]:n,"minutes")},nextSlot:function(x){var N=f[Math.min(f.findIndex(function(O){return O===x||s.eq(O,x)})+1,f.length-1)];return s.eq(N,x)&&(N=s.add(x,r,"minutes")),N},closestSlotToPosition:function(x){var N=Math.min(f.length-1,Math.max(0,Math.floor(x*h)));return f[N]},closestSlotFromPoint:function(x,N){var O=Math.abs(N.top-N.bottom);return this.closestSlotToPosition((x.y-N.top)/O)},closestSlotFromDate:function(x){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(x,e,"minutes"))return f[0];if(s.gt(x,n,"minutes"))return f[f.length-1];var O=s.diff(e,x,"minutes");return f[(O-O%r)/r+N]},startsBeforeDay:function(x){return s.lt(x,e,"day")},startsAfterDay:function(x){return s.gt(x,n,"day")},startsBefore:function(x){return s.lt(s.merge(e,x),e,"minutes")},startsAfter:function(x){return s.gt(s.merge(n,x),n,"minutes")},getRange:function(x,N,O,b){O||(x=s.min(n,s.max(e,x))),b||(N=s.min(n,s.max(e,N)));var w=v(x),T=v(N),A=T>r*h&&!s.eq(n,N)?(w-r)/(r*h)*100:w/(r*h)*100;return{top:A,height:T/(r*h)*100-A,start:v(x),startDate:x,end:v(N),endDate:N}},getCurrentTimePosition:function(x){var N=v(x),O=N/(r*h)*100;return O}}}var CY=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;ot(this,t);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,c=s.endDate,h=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+c,this.top=h,this.height=d,this.data=e}return at(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}])}();function xY(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function RY(t){for(var e=t8(t,["startMs",function(a){return-a.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];n.push(o)}break}}}return n}function lC(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=e.map(function(h){return new CY(h,{slotMetrics:r,accessors:i})}),o=RY(s),a=[],l=function(){var d=o[c],f=a.find(function(y){return y.end>d.start||Math.abs(d.start-y.start)<n});if(!f)return d.rows=[],a.push(d),1;d.container=f;for(var g=null,_=f.rows.length-1;!g&&_>=0;_--)xY(f.rows[_],d,n)&&(g=f.rows[_]);g?(g.leaves.push(d),d.row=g):(d.leaves=[],f.rows.push(d))},c=0;c<o.length;c++)l();return o.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function uC(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=uC(t.friends[r],e,n);e=e>i?e:i}return e}function kY(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=lC({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(ne,te){return ne=ne.style,te=te.style,ne.top!==te.top?ne.top>te.top?1:-1:ne.height!==te.height?ne.top+ne.height<te.top+te.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],c=l.style.top,h=l.style.top+l.style.height,d=a+1;d<s.length;++d){var f=s[d],g=f.style.top,_=f.style.top+f.style.height;(g>=c&&_<=h||_>c&&_<=h||g>=c&&g<h)&&(l.friends.push(f),f.friends.push(l))}for(var y=0;y<s.length;++y){for(var P=s[y],E=[],v=0;v<100;++v)E.push(1);for(var S=0;S<P.friends.length;++S)P.friends[S].idx!==void 0&&(E[P.friends[S].idx]=0);P.idx=E.indexOf(1)}for(var x=0;x<s.length;++x){var N=0;if(!s[x].size){var O=[],b=uC(s[x],0,O);N=100/(b+1),s[x].size=N;for(var w=0;w<O.length;++w)O[w].size=N}}for(var T=0;T<s.length;++T){var A=s[T];A.style.left=A.idx*A.size;for(var R=0,D=0;D<A.friends.length;++D){var C=A.friends[D].idx;R=R>C?R:C}R<=A.idx&&(A.size=100-A.idx*A.size);var q=A.idx===0?0:3;A.style.width="calc(".concat(A.size,"% - ").concat(q,"px)"),A.style.height="calc(".concat(A.style.height,"% - 2px)"),A.style.xOffset="calc(".concat(A.style.left,"% + ").concat(q,"px)")}return s}var kE={overlap:lC,"no-overlap":kY};function DY(t){return!!(t&&t.constructor&&t.call&&t.apply)}function NY(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in kE&&(n=kE[e]),DY(n)?n.apply(this,arguments):[]}var cC=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,c=l===void 0?{}:l,h=c.timeSlotWrapper,d=h===void 0?zn:h,f=a?a.slotGroupProp(o):{};return M.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(g,_){var y=a?a.slotProp(g,s):{};return M.createElement(d,{key:_,value:g,resource:s},M.createElement("div",Object.assign({},y,{className:Ue("rbc-time-slot",y.className)}),i&&i(g,_)))}))}}])}(z.Component);function gc(t){return typeof t=="string"?t:t+"%"}function OY(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,c=t.continuesAfter,h=t.getters,d=t.onClick,f=t.onDoubleClick,g=t.isBackgroundEvent,_=t.onKeyPress,y=t.components,P=y.event,E=y.eventWrapper,v=i.title(r),S=i.tooltip(r),x=i.end(r),N=i.start(r),O=h.eventProp(r,N,x,o),b=[M.createElement("div",{key:"1",className:"rbc-event-label"},a),M.createElement("div",{key:"2",className:"rbc-event-content"},P?M.createElement(P,{event:r,title:v}):v)],w=e.height,T=e.top,A=e.width,R=e.xOffset,D=_e(_e({},O.style),{},zi({top:gc(T),height:gc(w),width:gc(A)},s?"right":"left",gc(R)));return M.createElement(E,Object.assign({type:"time"},t),M.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:f,style:D,onKeyDown:_,title:S?(typeof a=="string"?a+": ":"")+S:void 0,className:Ue(g?"rbc-background-event":"rbc-event",n,O.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},b))}var MY=function(e){var n=e.children,r=e.className,i=e.style,s=e.innerRef;return M.createElement("div",{className:r,style:i,ref:s},n)},LY=M.forwardRef(function(t,e){return M.createElement(MY,Object.assign({},t,{innerRef:e}))}),$Y=["dayProp"],VY=["eventContainerWrapper","timeIndicatorWrapper"],hC=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,c=n.props,h=c.rtl,d=c.selected,f=c.accessors,g=c.localizer,_=c.getters,y=c.components,P=c.step,E=c.timeslots,v=c.dayLayoutAlgorithm,S=c.resizable,x=n,N=x.slotMetrics,O=g.messages,b=NY({events:a,accessors:f,slotMetrics:N,minimumStartDifference:Math.ceil(P*E/2),dayLayoutAlgorithm:v});return b.map(function(w,T){var A,R=w.event,D=w.style,C=f.end(R),q=f.start(R),ne=(A=f.eventId(R))!==null&&A!==void 0?A:"evt_"+T,te="eventTimeRangeFormat",oe,U=N.startsBeforeDay(q),Y=N.startsAfterDay(C);U?te="eventTimeRangeEndFormat":Y&&(te="eventTimeRangeStartFormat"),U&&Y?oe=O.allDay:oe=g.format({start:q,end:C},te);var X=U||N.startsBefore(q),ae=Y||N.startsAfter(C);return M.createElement(OY,{style:D,event:R,label:oe,key:ne,getters:_,rtl:h,components:y,continuesPrior:X,continuesAfter:ae,accessors:f,resource:n.props.resource,selected:Yd(R,d),onClick:function(Be){return n._select(_e(_e(_e({},R),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),Be)},onDoubleClick:function(Be){return n._doubleClick(R,Be)},isBackgroundEvent:l,onKeyPress:function(Be){return n._keyPress(R,Be)},resizable:S})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,c=a.localizer,h=n._selector=new rC(function(){return o},{longPressThreshold:l}),d=function(y){var P=n.props.onSelecting,E=n.state||{},v=f(y),S=v.startDate,x=v.endDate;P&&(c.eq(E.startDate,S,"minutes")&&c.eq(E.endDate,x,"minutes")||P({start:S,end:x,resourceId:n.props.resource})===!1)||(n.state.start!==v.start||n.state.end!==v.end||n.state.selecting!==v.selecting)&&n.setState(v)},f=function(y){var P=n.slotMetrics.closestSlotFromPoint(y,vs(o));n.state.selecting||(n._initialSlot=P);var E=n._initialSlot;c.lte(E,P)?P=n.slotMetrics.nextSlot(P):c.gt(E,P)&&(E=n.slotMetrics.nextSlot(E));var v=n.slotMetrics.getRange(c.min(E,P),c.max(E,P));return _e(_e({},v),{},{selecting:!0,top:"".concat(v.top,"%"),height:"".concat(v.height,"%")})},g=function(y,P){if(!Hh(n.containerRef.current,y)){var E=f(y),v=E.startDate,S=E.endDate;n._selectSlot({startDate:v,endDate:S,action:P,box:y})}n.setState({selecting:!1})};h.on("selecting",d),h.on("selectStart",d),h.on("beforeSelect",function(_){if(n.props.selectable==="ignoreEvents")return!Hh(n.containerRef.current,_)}),h.on("click",function(_){return g(_,"click")}),h.on("doubleClick",function(_){return g(_,"doubleClick")}),h.on("select",function(_){n.state.selecting&&(n._selectSlot(_e(_e({},n.state),{},{action:"select",bounds:_})),n.setState({selecting:!1}))}),h.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,c=o.action,h=o.bounds,d=o.box,f=a,g=[];n.props.localizer.lte(f,l);)g.push(f),f=new Date(+f+n.props.step*60*1e3);Ce(n.props.onSelectSlot,{slots:g,start:a,end:l,resourceId:n.props.resource,action:c,bounds:h,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.slotMetrics=Sy(n.props),n.containerRef=z.createRef(),n}return Mt(e,t),at(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,c=s.date,h=s.min,d=s.max,f=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||f){if(this.clearTimeIndicatorInterval(),a){var g=!f&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else a&&(l.neq(r.min,h,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,c=r.accessors,h=r.localizer,d=r.getters,f=d.dayProp,g=lr(d,$Y),_=r.components,y=_.eventContainerWrapper,P=_.timeIndicatorWrapper,E=lr(_,VY);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,S=this.state,x=S.selecting,N=S.top,O=S.height,b=S.startDate,w=S.endDate,T={start:b,end:w},A=f(s,l),R=A.className,D=A.style,C={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},q=E.dayColumnWrapper||LY;return M.createElement(q,{ref:this.containerRef,date:i,style:D,className:Ue(R,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",x&&"rbc-slot-selecting"),slotMetrics:v,resource:l},v.groups.map(function(ne,te){return M.createElement(cC,{key:te,group:ne,resource:l,getters:g,components:E})}),M.createElement(y,{localizer:h,resource:l,accessors:c,getters:g,components:E,slotMetrics:v},M.createElement("div",{className:Ue("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),x&&M.createElement("div",{className:"rbc-slot-selection",style:{top:N,height:O}},M.createElement("span",null,h.format(T,"selectRangeFormat"))),a&&this.intervalTriggered&&M.createElement(P,C,M.createElement("div",C)))}}])}(M.Component);hC.defaultProps={dragThroughEvents:!0,timeslots:2};var dC=function(e){var n=e.label;return M.createElement(M.Fragment,null,n)},FY=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ce(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,c=a.rtl,h=a.selectable,d=a.getNow,f=a.range,g=a.getters,_=a.localizer,y=a.accessors,P=a.components,E=a.resizable,v=y.resourceId(o),S=o?l.filter(function(x){return y.resource(x)===v}):l;return M.createElement(Ql,{isAllDay:!0,rtl:c,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:f,events:S,resourceId:v,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:P,accessors:y,getters:g,localizer:_,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E})},n}return Mt(e,t),at(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components.header,d=h===void 0?Ty:h,f=l();return r.map(function(g,_){var y=a(g),P=o.format(g,"dayFormat"),E=c(g),v=E.className,S=E.style,x=M.createElement(d,{date:g,label:P,localizer:o});return M.createElement("div",{key:_,style:S,className:Ue("rbc-header",v,o.isSameDate(g,f)&&"rbc-today")},y?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(O){return i.handleHeaderClick(g,y,O)}},x):M.createElement("span",null,x))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,c=i.events,h=i.getNow,d=i.accessors,f=i.selectable,g=i.components,_=i.getters,y=i.scrollRef,P=i.localizer,E=i.isOverflowing,v=i.components,S=v.timeGutterHeader,x=v.resourceHeader,N=x===void 0?dC:x,O=i.resizable,b={};E&&(b[o?"marginLeft":"marginRight"]="".concat(ty()-1,"px"));var w=a.groupEvents(c);return M.createElement("div",{style:b,ref:y,className:Ue("rbc-time-header",E&&"rbc-overflowing")},M.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},S&&M.createElement(S,null)),a.map(function(T,A){var R=cs(T,2),D=R[0],C=R[1];return M.createElement("div",{className:"rbc-time-header-content",key:D||A},C&&M.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(A)},M.createElement("div",{className:"rbc-header"},M.createElement(N,{index:A,label:d.resourceTitle(C),resource:C}))),M.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),M.createElement(Ql,{isAllDay:!0,rtl:o,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:w.get(D)||[],resourceId:C&&D,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:g,accessors:d,getters:_,localizer:P,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:O}))}))}}])}(M.Component),jY=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Ce(n.props.onDrillDown,[o,a])},n}return Mt(e,t),at(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components,d=h.header,f=d===void 0?Ty:d,g=h.resourceHeader,_=g===void 0?dC:g,y=s.resources,P=s.accessors,E=s.events,v=s.rtl,S=s.selectable,x=s.components,N=s.getters,O=s.resizable,b=l(),w=y.groupEvents(E);return r.map(function(T,A){var R=a(T),D=o.format(T,"dayFormat"),C=c(T),q=C.className,ne=C.style,te=M.createElement(f,{date:T,label:D,localizer:o});return M.createElement("div",{key:A,className:"rbc-time-header-content rbc-resource-grouping"},M.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},M.createElement("div",{style:ne,className:Ue("rbc-header",q,o.isSameDate(T,b)&&"rbc-today")},R?M.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(U){return i.handleHeaderClick(T,R,U)}},te):M.createElement("span",null,te))),M.createElement("div",{className:"rbc-row"},y.map(function(oe,U){var Y=cs(oe,2),X=Y[0],ae=Y[1];return M.createElement("div",{key:"resource_".concat(X,"_").concat(U),className:Ue("rbc-header",q,o.isSameDate(T,b)&&"rbc-today")},M.createElement(_,{index:U,label:P.resourceTitle(ae),resource:ae}))})),M.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},y.map(function(oe,U){var Y=cs(oe,2),X=Y[0],ae=Y[1],ue=(w.get(X)||[]).filter(function(Be){return o.isSameDate(Be.start,T)||o.isSameDate(Be.end,T)});return M.createElement(Ql,{key:"resource_".concat(X,"_").concat(U),isAllDay:!0,rtl:v,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[T],events:ue,resourceId:ae&&X,className:"rbc-allday-cell",selectable:S,selected:i.props.selected,components:x,accessors:P,getters:N,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:O})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,h={};return l&&(h[s?"marginLeft":"marginRight"]="".concat(ty()-1,"px")),M.createElement("div",{style:h,ref:a,className:Ue("rbc-time-header",l&&"rbc-overflowing")},M.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&M.createElement(c,null)),this.renderHeaderCells(o))}}])}(M.Component);function UY(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var zY=function(e){var n=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,c=e.components,h=e.getters,d=e.gutterRef,f=c.timeGutterWrapper,g=z.useMemo(function(){return UY({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),_=g.start,y=g.end,P=z.useState(Sy({min:_,max:y,timeslots:i,step:s,localizer:o})),E=cs(P,2),v=E[0],S=E[1];z.useEffect(function(){v&&S(v.update({min:_,max:y,timeslots:i,step:s,localizer:o}))},[_==null?void 0:_.toISOString(),y==null?void 0:y.toISOString(),i,s]);var x=z.useCallback(function(N,O){if(O)return null;var b=v.dateIsInGroup(a(),O);return M.createElement("span",{className:Ue("rbc-label",b&&"rbc-now")},o.format(N,"timeGutterFormat"))},[v,o,a]);return M.createElement(f,{slotMetrics:v},M.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},v.groups.map(function(N,O){return M.createElement(cC,{key:O,group:N,resource:l,components:c,renderSlot:x,getters:h})})))},BY=M.forwardRef(function(t,e){return M.createElement(zY,Object.assign({gutterRef:e},t))}),dp={};function WY(t,e){return{map:function(r){return t?t.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([dp,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||dp;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(dp,r),i)}}}var ta=function(t){function e(n){var r;return ot(this,e),r=Ot(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){v1(r.rafHandle),r.rafHandle=lP(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Ce(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var c=r.props,h=c.popup,d=c.onDrillDown,f=c.onShowMore,g=c.getDrilldownView,_=c.doShowMoreDrillDown;if(r.clearSelection(),h){var y=aP(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:_e(_e({},y),{},{width:"200px"}),target:l}})}else _&&Ce(d,[s,g(s)||Vt.DAY]);Ce(f,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Ce(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=NP(function(i,s){return WY(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=M.createRef(),r.contentRef=M.createRef(),r.containerRef=M.createRef(),r._scrollRatio=null,r.gutterRef=z.createRef(),r}return Mt(e,t),at(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),v1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,c,h,d,f){var g=this.props,_=g.min,y=g.max,P=(o.get(i)||[]).filter(function(v){return l.inRange(r,c.start(v),c.end(v),"day")}),E=(a.get(i)||[]).filter(function(v){return l.inRange(r,c.start(v),c.end(v),"day")});return M.createElement(hC,Object.assign({},this.props,{localizer:l,min:l.merge(r,_),max:l.merge(r,y),resource:s&&i,components:h,isNow:l.isSameDate(r,f),key:"".concat(i,"-").concat(r),date:r,events:P,backgroundEvents:E,dayLayoutAlgorithm:d}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return i.map(function(g){var _=cs(g,2),y=_[0],P=_[1];return r.map(function(E){return f.renderDayColumn(E,y,P,s,o,a,l,h,d,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return r.map(function(g){return M.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(_){var y=cs(_,2),P=y[0],E=y[1];return M.createElement("div",{style:{flex:1},key:l.resourceId(E)},f.renderDayColumn(g,P,E,s,o,a,l,h,d,c))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,c=a.localizer,h=a.resourceGroupingLayout,d=a.components,f=a.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),_=g.groupEvents(i),y=g.groupEvents(s);return h?this.renderRangeFirst(r,g,_,y,c,l,o,d,f):this.renderResourcesFirst(r,g,_,y,c,l,o,d,f)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,c=i.rtl,h=i.selected,d=i.getNow,f=i.resources,g=i.components,_=i.accessors,y=i.getters,P=i.localizer,E=i.min,v=i.max,S=i.showMultiDayTimes,x=i.longPressThreshold,N=i.resizable,O=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var b=a[0],w=a[a.length-1];this.slots=a.length;var T=[],A=[],R=[];s.forEach(function(C){if(Yl(C,b,w,_,P)){var q=_.start(C),ne=_.end(C);_.allDay(C)||P.startAndEndAreDateOnly(q,ne)||!S&&!P.isSameDate(q,ne)?T.push(C):A.push(C)}}),o.forEach(function(C){Yl(C,b,w,_,P)&&R.push(C)}),T.sort(function(C,q){return Km(C,q,_,P)});var D={range:a,events:T,width:l,rtl:c,getNow:d,localizer:P,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(f,_),selectable:this.props.selectable,accessors:_,getters:y,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:x,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:N};return M.createElement("div",{className:Ue("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&O?M.createElement(jY,D):M.createElement(FY,D),this.props.popup&&this.renderOverlay(),M.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},M.createElement(BY,{date:b,ref:this.gutterRef,localizer:P,min:P.merge(b,E),max:P.merge(b,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:y}),this.renderEvents(a,A,R,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,_=a.handleDragStart,y=function(){return s.setState({overlay:null})};return M.createElement(Ey,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:_,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Hm(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),c=a.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])}(z.Component);ta.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var HY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Xd=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,_=lr(r,HY),y=e.range(i,{localizer:s});return M.createElement(ta,Object.assign({},_,{range:y,eventOffset:10,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);Xd.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};Xd.navigate=function(t,e,n){var r=n.localizer;switch(e){case Qt.PREVIOUS:return r.add(t,-1,"day");case Qt.NEXT:return r.add(t,1,"day");default:return t}};Xd.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var qY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Si=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,_=lr(r,qY),y=e.range(i,this.props);return M.createElement(ta,Object.assign({},_,{range:y,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);Si.defaultProps=ta.defaultProps;Si.navigate=function(t,e,n){var r=n.localizer;switch(e){case Qt.PREVIOUS:return r.add(t,-1,"week");case Qt.NEXT:return r.add(t,1,"week");default:return t}};Si.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),s=n.endOf(t,"week",r);return n.range(i,s)};Si.title=function(t,e){var n=e.localizer,r=Si.range(t,{localizer:n}),i=jP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var GY=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function by(t,e){return Si.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var bu=function(t){function e(){return ot(this,e),Ot(this,e,arguments)}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,_=lr(r,GY),y=by(i,this.props);return M.createElement(ta,Object.assign({},_,{range:y,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(M.Component);bu.defaultProps=ta.defaultProps;bu.range=by;bu.navigate=Si.navigate;bu.title=function(t,e){var n=e.localizer,r=by(t,{localizer:n}),i=jP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Jd=30;function Zd(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,s=t.getters,o=t.length,a=o===void 0?Jd:o,l=t.localizer,c=t.onDoubleClickEvent,h=t.onSelectEvent,d=t.selected,f=z.useRef(null),g=z.useRef(null),_=z.useRef(null),y=z.useRef(null),P=z.useRef(null);z.useEffect(function(){S()});var E=function(w,T,A){var R=n.event,D=n.date;return T=T.filter(function(C){return Yl(C,l.startOf(w,"day"),l.endOf(w,"day"),e,l)}),T.map(function(C,q){var ne=e.title(C),te=e.end(C),oe=e.start(C),U=s.eventProp(C,oe,te,Yd(C,d)),Y=q===0&&l.format(w,"agendaDateFormat"),X=q===0?M.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},D?M.createElement(D,{day:w,label:Y}):Y):!1;return M.createElement("tr",{key:A+"_"+q,className:U.className,style:U.style},X,M.createElement("td",{className:"rbc-agenda-time-cell"},v(w,C)),M.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(ue){return h&&h(C,ue)},onDoubleClick:function(ue){return c&&c(C,ue)}},R?M.createElement(R,{event:C,title:ne}):ne))},[])},v=function(w,T){var A="",R=n.time,D=l.messages.allDay,C=e.end(T),q=e.start(T);return e.allDay(T)||(l.eq(q,C)?D=l.format(q,"agendaTimeFormat"):l.isSameDate(q,C)?D=l.format({start:q,end:C},"agendaTimeRangeFormat"):l.isSameDate(w,q)?D=l.format(q,"agendaTimeFormat"):l.isSameDate(w,C)&&(D=l.format(C,"agendaTimeFormat"))),l.gt(w,q,"day")&&(A="rbc-continues-prior"),l.lt(w,C,"day")&&(A+=" rbc-continues-after"),M.createElement("span",{className:A.trim()},R?M.createElement(R,{event:T,day:w,label:D}):D)},S=function(){if(P.current){var w=f.current,T=P.current.firstChild;if(T){var A=y.current.scrollHeight>y.current.clientHeight,R=[],D=R;R=[Hm(T.children[0]),Hm(T.children[1])],(D[0]!==R[0]||D[1]!==R[1])&&(g.current.style.width=R[0]+"px",_.current.style.width=R[1]+"px"),A?(HF(w,"rbc-header-overflowing"),w.style.marginRight=ty()+"px"):qF(w,"rbc-header-overflowing")}}},x=l.messages,N=l.add(r,a,"day"),O=l.range(r,N,"day");return i=i.filter(function(b){return Yl(b,l.startOf(r,"day"),l.endOf(N,"day"),e,l)}),i.sort(function(b,w){return+e.start(b)-+e.start(w)}),M.createElement("div",{className:"rbc-agenda-view"},i.length!==0?M.createElement(M.Fragment,null,M.createElement("table",{ref:f,className:"rbc-agenda-table"},M.createElement("thead",null,M.createElement("tr",null,M.createElement("th",{className:"rbc-header",ref:g},x.date),M.createElement("th",{className:"rbc-header",ref:_},x.time),M.createElement("th",{className:"rbc-header"},x.event)))),M.createElement("div",{className:"rbc-agenda-content",ref:y},M.createElement("table",{className:"rbc-agenda-table"},M.createElement("tbody",{ref:P},O.map(function(b,w){return E(b,i,w)}))))):M.createElement("span",{className:"rbc-agenda-empty"},x.noEventsInRange))}Zd.range=function(t,e){var n=e.length,r=n===void 0?Jd:n,i=e.localizer,s=i.add(t,r,"day");return{start:t,end:s}};Zd.navigate=function(t,e,n){var r=n.length,i=r===void 0?Jd:r,s=n.localizer;switch(e){case Qt.PREVIOUS:return s.add(t,-i,"day");case Qt.NEXT:return s.add(t,i,"day");default:return t}};Zd.title=function(t,e){var n=e.length,r=n===void 0?Jd:n,i=e.localizer,s=i.add(t,r,"day");return i.format({start:t,end:s},"agendaHeaderFormat")};var Wc=zi(zi(zi(zi(zi({},Vt.MONTH,Qd),Vt.WEEK,Si),Vt.WORK_WEEK,bu),Vt.DAY,Xd),Vt.AGENDA,Zd),KY=["action","date","today"];function YY(t,e){var n=e.action,r=e.date,i=e.today,s=lr(e,KY);switch(t=typeof t=="string"?Wc[t]:t,n){case Qt.TODAY:r=i||new Date;break;case Qt.DATE:break;default:$l(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,s)}return r}function QY(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&Ar(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var cr=function(e){return function(n){return QY(n,e)}},XY=["view","date","getNow","onNavigate"],JY=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function fC(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=cs(r[n],2),s=i[0],o=i[1];o&&e.push(s)}return e}function ZY(t,e){var n=e.views,r=fC(n);return r.indexOf(t)!==-1}var pC=function(t){function e(){var n;ot(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Ot(this,e,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?xK(o,function(a,l){return a[l]=Wc[l]},{}):Ar(o)==="object"?x8(o,function(a,l){return a===!0?Wc[l]:a}):Wc},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,c=a.drilldownView,h=a.getDrilldownView;return h?h(o,l,Object.keys(n.getViews())):c},n.handleRangeChange=function(o,a,l){var c=n.props,h=c.onRangeChange,d=c.localizer;h&&a.range&&h(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,c=l.view,h=l.date,d=l.getNow,f=l.onNavigate,g=lr(l,XY),_=n.getView(),y=d();h=YY(_,_e(_e({},g),{},{action:o,date:a||h||y,today:y})),f(h,c,o),n.handleRangeChange(h,_)},n.handleViewChange=function(o){o!==n.props.view&&ZY(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Ce(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){Ce(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(Qt.DATE,o)},n.state={context:e.getContext(n.props)},n}return Mt(e,t),at(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,h=r.className,d=r.elementProps,f=r.date,g=r.getNow,_=r.length,y=r.showMultiDayTimes,P=r.onShowMore,E=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var v=lr(r,JY);f=f||g();var S=this.getView(),x=this.state.context,N=x.accessors,O=x.components,b=x.getters,w=x.localizer,T=x.viewNames,A=O.toolbar||nY,R=S.title(f,{localizer:w,length:_});return M.createElement("div",Object.assign({},d,{className:Ue(h,"rbc-calendar",v.rtl&&"rbc-rtl"),style:c}),s&&M.createElement(A,{date:f,view:i,views:T,label:R,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:w}),M.createElement(S,Object.assign({},v,{events:o,backgroundEvents:a,date:f,getNow:g,length:_,localizer:w,getters:b,components:O,accessors:N,showMultiDayTimes:y,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:P,doShowMoreDrillDown:E,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,h=r.resourceIdAccessor,d=r.resourceTitleAccessor,f=r.eventIdAccessor,g=r.eventPropGetter,_=r.backgroundEventPropGetter,y=r.slotPropGetter,P=r.slotGroupPropGetter,E=r.dayPropGetter,v=r.view,S=r.views,x=r.localizer,N=r.culture,O=r.messages,b=O===void 0?{}:O,w=r.components,T=w===void 0?{}:w,A=r.formats,R=A===void 0?{}:A,D=fC(S),C=iY(b);return{viewNames:D,localizer:tY(x,N,R,C),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return _&&_.apply(void 0,arguments)||{}},slotProp:function(){return y&&y.apply(void 0,arguments)||{}},slotGroupProp:function(){return P&&P.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:T8(T[v]||{},gK(T,D),{eventWrapper:zn,backgroundEventWrapper:zn,eventContainerWrapper:zn,dateCellWrapper:zn,weekWrapper:zn,timeSlotWrapper:zn,timeGutterWrapper:zn,timeIndicatorWrapper:zn}),accessors:{start:cr(i),end:cr(s),allDay:cr(o),tooltip:cr(a),title:cr(l),resource:cr(c),resourceId:cr(h),resourceTitle:cr(d),eventId:cr(f)}}}}])}(M.Component);pC.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Vt.MONTH,views:[Vt.MONTH,Vt.WEEK,Vt.DAY,Vt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Vt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var eQ=WA(pC,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),tQ=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"P",n),"  ").concat(r.format(s,"P",n))},fp=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"p",n),"  ").concat(r.format(s,"p",n))},nQ=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n),"  ")},rQ=function(e,n,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",n))},iQ=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"MMMM dd",n),"  ").concat(r.format(s,Ho(i,s,"month")?"dd":"MMMM dd",n))},sQ={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:fp,eventTimeRangeFormat:fp,eventTimeRangeStartFormat:nQ,eventTimeRangeEndFormat:rQ,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:iQ,agendaHeaderFormat:tQ,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:fp},oQ=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,s=e.locales;return new eY({formats:sQ,firstOfWeek:function(a){return r(n(new Date,{locale:s[a]}))},format:function(a,l,c){return i(new Date(a),l,{locale:s[c]})}})};const mC=6048e5,aQ=864e5,lQ=6e4,uQ=36e5,cQ=1e3,DE=Symbol.for("constructDateFrom");function pt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DE in t?t[DE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ye(t,e){return pt(e||t,t)}function gC(t,e,n){const r=Ye(t,n==null?void 0:n.in);return isNaN(e)?pt((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}let hQ={};function na(){return hQ}function Cr(t,e){var a,l,c,h;const n=na(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=Ye(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function No(t,e){return Cr(t,{...e,weekStartsOn:1})}function vC(t,e){const n=Ye(t,e==null?void 0:e.in),r=n.getFullYear(),i=pt(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=No(i),o=pt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=No(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function qh(t){const e=Ye(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function dQ(t,...e){const n=pt.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function NE(t,e){const n=Ye(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function fQ(t,e,n){const[r,i]=dQ(n==null?void 0:n.in,t,e),s=NE(r),o=NE(i),a=+s-qh(s),l=+o-qh(o);return Math.round((a-l)/aQ)}function pQ(t,e){const n=vC(t,e),r=pt((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),No(r)}function mQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gQ(t){return!(!mQ(t)&&typeof t!="number"||isNaN(+Ye(t)))}function vQ(t,e){const n=Ye(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wQ=(t,e,n)=>{let r;const i=yQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ho(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _Q={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SQ={date:ho({formats:_Q,defaultWidth:"full"}),time:ho({formats:EQ,defaultWidth:"full"}),dateTime:ho({formats:TQ,defaultWidth:"full"})},bQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IQ=(t,e,n,r)=>bQ[t];function Hn(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const AQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DQ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NQ={ordinalNumber:DQ,era:Hn({values:AQ,defaultWidth:"wide"}),quarter:Hn({values:PQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hn({values:CQ,defaultWidth:"wide"}),day:Hn({values:xQ,defaultWidth:"wide"}),dayPeriod:Hn({values:RQ,defaultWidth:"wide",formattingValues:kQ,defaultFormattingWidth:"wide"})};function qn(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?MQ(a,d=>d.test(o)):OQ(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function OQ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function MQ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const LQ=/^(\d+)(th|st|nd|rd)?/i,$Q=/\d+/i,VQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FQ={any:[/^b/i,/^(a|c)/i]},jQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UQ={any:[/1/i,/2/i,/3/i,/4/i]},zQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KQ={ordinalNumber:yC({matchPattern:LQ,parsePattern:$Q,valueCallback:t=>parseInt(t,10)}),era:qn({matchPatterns:VQ,defaultMatchWidth:"wide",parsePatterns:FQ,defaultParseWidth:"any"}),quarter:qn({matchPatterns:jQ,defaultMatchWidth:"wide",parsePatterns:UQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qn({matchPatterns:zQ,defaultMatchWidth:"wide",parsePatterns:BQ,defaultParseWidth:"any"}),day:qn({matchPatterns:WQ,defaultMatchWidth:"wide",parsePatterns:HQ,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:qQ,defaultMatchWidth:"any",parsePatterns:GQ,defaultParseWidth:"any"})},wC={code:"en-US",formatDistance:wQ,formatLong:SQ,formatRelative:IQ,localize:NQ,match:KQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YQ(t,e){const n=Ye(t,e==null?void 0:e.in);return fQ(n,vQ(n))+1}function _C(t,e){const n=Ye(t,e==null?void 0:e.in),r=+No(n)-+pQ(n);return Math.round(r/mC)+1}function Iy(t,e){var h,d,f,g;const n=Ye(t,e==null?void 0:e.in),r=n.getFullYear(),i=na(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=pt((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Cr(o,e),l=pt((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Cr(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function QQ(t,e){var a,l,c,h;const n=na(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=Iy(t,e),s=pt((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Cr(s,e)}function EC(t,e){const n=Ye(t,e==null?void 0:e.in),r=+Cr(n,e)-+QQ(n,e);return Math.round(r/mC)+1}function ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ur={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ve(n+1,2)},d(t,e){return ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ve(t.getHours()%12||12,e.length)},H(t,e){return ve(t.getHours(),e.length)},m(t,e){return ve(t.getMinutes(),e.length)},s(t,e){return ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ve(i,e.length)}},Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ur.y(t,e)},Y:function(t,e,n,r){const i=Iy(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ve(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ve(s,e.length)},R:function(t,e){const n=vC(t);return ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ur.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=EC(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ve(i,e.length)},I:function(t,e,n){const r=_C(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ur.d(t,e)},D:function(t,e,n){const r=YQ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ve(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ve(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Os.noon:r===0?i=Os.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Os.evening:r>=12?i=Os.afternoon:r>=4?i=Os.morning:i=Os.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ur.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ur.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ur.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ur.s(t,e)},S:function(t,e){return Ur.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LE(r);case"XXXX":case"XX":return Ui(r);case"XXXXX":case"XXX":default:return Ui(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LE(r);case"xxxx":case"xx":return Ui(r);case"xxxxx":case"xxx":default:return Ui(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ME(r,":");case"OOOO":default:return"GMT"+Ui(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ME(r,":");case"zzzz":default:return"GMT"+Ui(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ve(r,e.length)},T:function(t,e,n){return ve(+t,e.length)}};function ME(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ve(s,2)}function LE(t,e){return t%60===0?(t>0?"-":"+")+ve(Math.abs(t)/60,2):Ui(t,e)}function Ui(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ve(Math.trunc(r/60),2),s=ve(r%60,2);return n+i+e+s}const $E=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},XQ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $E(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",$E(r,e)).replace("{{time}}",TC(i,e))},Qm={p:TC,P:XQ},JQ=/^D+$/,ZQ=/^Y+$/,eX=["D","DD","YY","YYYY"];function SC(t){return JQ.test(t)}function bC(t){return ZQ.test(t)}function Xm(t,e,n){const r=tX(t,e,n);if(console.warn(r),eX.includes(t))throw new RangeError(r)}function tX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iX=/^'([^]*?)'?$/,sX=/''/g,oX=/[a-zA-Z]/;function aX(t,e,n){var h,d,f,g,_,y,P,E;const r=na(),i=(n==null?void 0:n.locale)??r.locale??wC,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((E=(P=r.locale)==null?void 0:P.options)==null?void 0:E.weekStartsOn)??0,a=Ye(t,n==null?void 0:n.in);if(!gQ(a))throw new RangeError("Invalid time value");let l=e.match(rX).map(v=>{const S=v[0];if(S==="p"||S==="P"){const x=Qm[S];return x(v,i.formatLong)}return v}).join("").match(nX).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const S=v[0];if(S==="'")return{isToken:!1,value:lX(v)};if(OE[S])return{isToken:!0,value:v};if(S.match(oX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const S=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&bC(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&SC(S))&&Xm(S,e,String(t));const x=OE[S[0]];return x(a,S,i.localize,c)}).join("")}function lX(t){const e=t.match(iX);return e?e[1].replace(sX,"'"):t}function uX(t,e){return Ye(t,e==null?void 0:e.in).getDay()}function cX(){return Object.assign({},na())}function hX(t,e){const n=Ye(t,e==null?void 0:e.in).getDay();return n===0?7:n}function dX(t,e){const n=fX(e)?new e(0):pt(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function fX(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const pX=10;class IC{constructor(){H(this,"subPriority",0)}validate(e,n){return!0}}class mX extends IC{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class gX extends IC{constructor(n,r){super();H(this,"priority",pX);H(this,"subPriority",-1);this.context=n||(i=>pt(r,i))}set(n,r){return r.timestampIsSet?n:pt(n,dX(n,this.context))}}class me{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new mX(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class vX extends me{constructor(){super(...arguments);H(this,"priority",140);H(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(t,e){return t&&{value:e(t.value),rest:t.rest}}function Oe(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Kn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*uQ+s*lQ+o*cQ),rest:e.slice(n[0].length)}}function AC(t){return Oe(Ge.anyDigitsSigned,t)}function ze(t,e){switch(t){case 1:return Oe(Ge.singleDigit,e);case 2:return Oe(Ge.twoDigits,e);case 3:return Oe(Ge.threeDigits,e);case 4:return Oe(Ge.fourDigits,e);default:return Oe(new RegExp("^\\d{1,"+t+"}"),e)}}function Gh(t,e){switch(t){case 1:return Oe(Ge.singleDigitSigned,e);case 2:return Oe(Ge.twoDigitsSigned,e);case 3:return Oe(Ge.threeDigitsSigned,e);case 4:return Oe(Ge.fourDigitsSigned,e);default:return Oe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ay(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function PC(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function CC(t){return t%400===0||t%4===0&&t%100!==0}class yX extends me{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ke(ze(4,n),s);case"yo":return Ke(i.ordinalNumber(n,{unit:"year"}),s);default:return Ke(ze(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=PC(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class wX extends me{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ke(ze(4,n),s);case"Yo":return Ke(i.ordinalNumber(n,{unit:"year"}),s);default:return Ke(ze(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Iy(n,s);if(i.isTwoDigitYear){const l=PC(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Cr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Cr(n,s)}}class _X extends me{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Gh(r==="R"?4:r.length,n)}set(n,r,i){const s=pt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),No(s)}}class EX extends me{constructor(){super(...arguments);H(this,"priority",130);H(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Gh(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class TX extends me{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return ze(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class SX extends me{constructor(){super(...arguments);H(this,"priority",120);H(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return ze(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class bX extends me{constructor(){super(...arguments);H(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);H(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Ke(Oe(Ge.month,n),s);case"MM":return Ke(ze(2,n),s);case"Mo":return Ke(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class IX extends me{constructor(){super(...arguments);H(this,"priority",110);H(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Ke(Oe(Ge.month,n),s);case"LL":return Ke(ze(2,n),s);case"Lo":return Ke(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function AX(t,e,n){const r=Ye(t,n==null?void 0:n.in),i=EC(r,n)-e;return r.setDate(r.getDate()-i*7),Ye(r,n==null?void 0:n.in)}class PX extends me{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Oe(Ge.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Cr(AX(n,i,s),s)}}function CX(t,e,n){const r=Ye(t,n==null?void 0:n.in),i=_C(r,n)-e;return r.setDate(r.getDate()-i*7),r}class xX extends me{constructor(){super(...arguments);H(this,"priority",100);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Oe(Ge.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return No(CX(n,i))}}const RX=[31,28,31,30,31,30,31,31,30,31,30,31],kX=[31,29,31,30,31,30,31,31,30,31,30,31];class DX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"subPriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Oe(Ge.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return ze(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=CC(i),o=n.getMonth();return s?r>=1&&r<=kX[o]:r>=1&&r<=RX[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class NX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"subpriority",1);H(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Oe(Ge.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return ze(r.length,n)}}validate(n,r){const i=n.getFullYear();return CC(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Py(t,e,n){var d,f,g,_;const r=na(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,s=Ye(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,h=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return gC(s,h,n)}class OX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Py(n,i,s),n.setHours(0,0,0,0),n}}class MX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ke(ze(r.length,n),o);case"eo":return Ke(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Py(n,i,s),n.setHours(0,0,0,0),n}}class LX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ke(ze(r.length,n),o);case"co":return Ke(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Py(n,i,s),n.setHours(0,0,0,0),n}}function $X(t,e,n){const r=Ye(t,n==null?void 0:n.in),i=hX(r,n),s=e-i;return gC(r,s,n)}class VX extends me{constructor(){super(...arguments);H(this,"priority",90);H(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return ze(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ke(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ke(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ke(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ke(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=$X(n,i),n.setHours(0,0,0,0),n}}class FX extends me{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ay(i),0,0,0),n}}class jX extends me{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ay(i),0,0,0),n}}class UX extends me{constructor(){super(...arguments);H(this,"priority",80);H(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Ay(i),0,0,0),n}}class zX extends me{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Oe(Ge.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class BX extends me{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Oe(Ge.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class WX extends me{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Oe(Ge.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class HX extends me{constructor(){super(...arguments);H(this,"priority",70);H(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Oe(Ge.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return ze(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class qX extends me{constructor(){super(...arguments);H(this,"priority",60);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Oe(Ge.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class GX extends me{constructor(){super(...arguments);H(this,"priority",50);H(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Oe(Ge.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return ze(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class KX extends me{constructor(){super(...arguments);H(this,"priority",30);H(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Ke(ze(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class YX extends me{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Kn(Gn.basicOptionalMinutes,n);case"XX":return Kn(Gn.basic,n);case"XXXX":return Kn(Gn.basicOptionalSeconds,n);case"XXXXX":return Kn(Gn.extendedOptionalSeconds,n);case"XXX":default:return Kn(Gn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:pt(n,n.getTime()-qh(n)-i)}}class QX extends me{constructor(){super(...arguments);H(this,"priority",10);H(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Kn(Gn.basicOptionalMinutes,n);case"xx":return Kn(Gn.basic,n);case"xxxx":return Kn(Gn.basicOptionalSeconds,n);case"xxxxx":return Kn(Gn.extendedOptionalSeconds,n);case"xxx":default:return Kn(Gn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:pt(n,n.getTime()-qh(n)-i)}}class XX extends me{constructor(){super(...arguments);H(this,"priority",40);H(this,"incompatibleTokens","*")}parse(n){return AC(n)}set(n,r,i){return[pt(n,i*1e3),{timestampIsSet:!0}]}}class JX extends me{constructor(){super(...arguments);H(this,"priority",20);H(this,"incompatibleTokens","*")}parse(n){return AC(n)}set(n,r,i){return[pt(n,i),{timestampIsSet:!0}]}}const ZX={G:new vX,y:new yX,Y:new wX,R:new _X,u:new EX,Q:new TX,q:new SX,M:new bX,L:new IX,w:new PX,I:new xX,d:new DX,D:new NX,E:new OX,e:new MX,c:new LX,i:new VX,a:new FX,b:new jX,B:new UX,h:new zX,H:new BX,K:new WX,k:new HX,m:new qX,s:new GX,S:new KX,X:new YX,x:new QX,t:new XX,T:new JX},eJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nJ=/^'([^]*?)'?$/,rJ=/''/g,iJ=/\S/,sJ=/[a-zA-Z]/;function oJ(t,e,n,r){var P,E,v,S,x,N,O,b;const i=()=>pt((r==null?void 0:r.in)||n,NaN),s=cX(),o=(r==null?void 0:r.locale)??s.locale??wC,a=(r==null?void 0:r.firstWeekContainsDate)??((E=(P=r==null?void 0:r.locale)==null?void 0:P.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(v=s.locale)==null?void 0:v.options)==null?void 0:S.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((N=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((b=(O=s.locale)==null?void 0:O.options)==null?void 0:b.weekStartsOn)??0;if(!e)return t?i():Ye(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},h=[new gX(r==null?void 0:r.in,n)],d=e.match(tJ).map(w=>{const T=w[0];if(T in Qm){const A=Qm[T];return A(w,o.formatLong)}return w}).join("").match(eJ),f=[];for(let w of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&bC(w)&&Xm(w,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&SC(w)&&Xm(w,e,t);const T=w[0],A=ZX[T];if(A){const{incompatibleTokens:R}=A;if(Array.isArray(R)){const C=f.find(q=>R.includes(q.token)||q.token===T);if(C)throw new RangeError(`The format string mustn't contain \`${C.fullToken}\` and \`${w}\` at the same time`)}else if(A.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:T,fullToken:w});const D=A.run(t,w,o.match,c);if(!D)return i();h.push(D.setter),t=D.rest}else{if(T.match(sJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(w==="''"?w="'":T==="'"&&(w=aJ(w)),t.indexOf(w)===0)t=t.slice(w.length);else return i()}}if(t.length>0&&iJ.test(t))return i();const g=h.map(w=>w.priority).sort((w,T)=>T-w).filter((w,T,A)=>A.indexOf(w)===T).map(w=>h.filter(T=>T.priority===w).sort((T,A)=>A.subPriority-T.subPriority)).map(w=>w[0]);let _=Ye(n,r==null?void 0:r.in);if(isNaN(+_))return i();const y={};for(const w of g){if(!w.validate(_,c))return i();const T=w.set(_,y,c);Array.isArray(T)?(_=T[0],Object.assign(y,T[1])):_=T}return _}function aJ(t){return t.match(nJ)[1].replace(rJ,"'")}const lJ={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},uJ=(t,e,n)=>{let r;const i=lJ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},cJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dJ={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fJ={date:ho({formats:cJ,defaultWidth:"full"}),time:ho({formats:hJ,defaultWidth:"full"}),dateTime:ho({formats:dJ,defaultWidth:"full"})},pJ={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mJ={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},gJ=(t,e,n,r)=>e.getHours()!==1?mJ[t]:pJ[t],vJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},yJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},wJ={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},_J={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},EJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},TJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},SJ=(t,e)=>Number(t)+"",bJ={ordinalNumber:SJ,era:Hn({values:vJ,defaultWidth:"wide"}),quarter:Hn({values:yJ,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Hn({values:wJ,defaultWidth:"wide"}),day:Hn({values:_J,defaultWidth:"wide"}),dayPeriod:Hn({values:EJ,defaultWidth:"wide",formattingValues:TJ,defaultFormattingWidth:"wide"})},IJ=/^(\d+)()?/i,AJ=/\d+/i,PJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},CJ={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},xJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},RJ={any:[/1/i,/2/i,/3/i,/4/i]},kJ={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},DJ={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},NJ={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},OJ={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},MJ={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},LJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},$J={ordinalNumber:yC({matchPattern:IJ,parsePattern:AJ,valueCallback:function(t){return parseInt(t,10)}}),era:qn({matchPatterns:PJ,defaultMatchWidth:"wide",parsePatterns:CJ,defaultParseWidth:"any"}),quarter:qn({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:RJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qn({matchPatterns:kJ,defaultMatchWidth:"wide",parsePatterns:DJ,defaultParseWidth:"any"}),day:qn({matchPatterns:NJ,defaultMatchWidth:"wide",parsePatterns:OJ,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:MJ,defaultMatchWidth:"any",parsePatterns:LJ,defaultParseWidth:"any"})},VJ={code:"es",formatDistance:uJ,formatLong:fJ,formatRelative:gJ,localize:bJ,match:$J,options:{weekStartsOn:1,firstWeekContainsDate:1}};const FJ=oQ({format:aX,parse:oJ,startOfWeek:Cr,getDay:uX,locales:{es:VJ}}),xC=()=>{const[t,e]=z.useState([]),[n,r]=z.useState(!1),[i,s]=z.useState({title:"",start:new Date,end:new Date,department:""}),{userRole:o,currentUser:a}=fu();z.useEffect(()=>{(async()=>{let g;if(o===nn.SUPER_LEADER)g=await ht(qe(Pe,"events"));else{const _=await ht(Yi(qe(Pe,"users"),Qi("uid","==",a.uid)));if(!_.empty){const y=_.docs[0].data().department;g=await ht(Yi(qe(Pe,"events"),Qi("department","==",y)))}}g&&e(g.docs.map(_=>({id:_.id,..._.data(),start:_.data().start.toDate(),end:_.data().end.toDate()})))})()},[o,a]);const l=({start:f,end:g})=>{(o===nn.SUPER_LEADER||o===nn.LEADER)&&(s({...i,start:f,end:g}),r(!0))},c=async f=>{f.preventDefault();let g=i.department;if(o===nn.LEADER){const y=await ht(Yi(qe(Pe,"users"),Qi("uid","==",a.uid)));y.empty||(g=y.docs[0].data().department)}await $v(qe(Pe,"events"),{title:i.title,start:i.start,end:i.end,department:g}),r(!1),s({title:"",start:new Date,end:new Date,department:""});const _=await ht(qe(Pe,"events"));e(_.docs.map(y=>({id:y.id,...y.data(),start:y.data().start.toDate(),end:y.data().end.toDate()})))},h=async f=>{(o===nn.SUPER_LEADER||o===nn.LEADER&&f.department===a.department)&&(await Lv(xd(Pe,"events",f.id)),e(t.filter(g=>g.id!==f.id)))},d=f=>{const g=kn[f.department];return{style:{backgroundColor:g?g.color.replace("bg-","").replace("-500",""):"gray",borderRadius:"5px",opacity:.8,color:"white",border:"0px",display:"block"}}};return k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Calendario"}),k.jsx(eQ,{localizer:FJ,events:t,startAccessor:"start",endAccessor:"end",style:{height:500},onSelectSlot:l,selectable:!0,onSelectEvent:h,eventPropGetter:d}),n&&k.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center",children:k.jsxs("div",{className:"bg-white p-6 rounded shadow w-full max-w-md",children:[k.jsx("h3",{className:"text-lg font-bold mb-4",children:"Nuevo Evento"}),k.jsxs("form",{onSubmit:c,children:[k.jsx("input",{type:"text",placeholder:"Ttulo",value:i.title,onChange:f=>s({...i,title:f.target.value}),className:"w-full px-3 py-2 border rounded mb-4",required:!0}),o===nn.SUPER_LEADER&&k.jsxs("select",{value:i.department,onChange:f=>s({...i,department:f.target.value}),className:"w-full px-3 py-2 border rounded mb-4",required:!0,children:[k.jsx("option",{value:"",children:"Seleccionar Departamento"}),Object.keys(kn).map(f=>k.jsx("option",{value:f,children:kn[f].name},f))]}),k.jsxs("div",{className:"flex space-x-4",children:[k.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Crear"}),k.jsx("button",{type:"button",onClick:()=>r(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancelar"})]})]})]})})]})},RC=({title:t,userRole:e})=>{const n=async()=>{await Nb(Xi),window.location.reload()};return k.jsx("header",{className:"bg-white shadow-sm border-b border-gray-300",children:k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex justify-between items-center h-16",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("img",{src:"/logo.png",alt:"Logo Iglesia",className:"h-10 w-10"}),k.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t})]}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("span",{className:"text-gray-700 text-sm font-medium capitalize",children:e.replace("_"," ")}),k.jsx("button",{onClick:n,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition","aria-label":"Cerrar sesin",title:"Cerrar sesin",children:"Cerrar sesin"})]})]})})})},jJ=()=>{const[t,e]=z.useState("overview"),{userRole:n}=fu();return k.jsxs("div",{className:"min-h-screen bg-gray-100",children:[k.jsx(RC,{title:"Dashboard Super Lder",userRole:n||"super_leader"}),k.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[k.jsxs("nav",{className:"flex space-x-4 mb-6",children:[k.jsx("button",{onClick:()=>e("overview"),className:"text-gray-500 hover:text-gray-700",children:"Resumen"}),k.jsx("button",{onClick:()=>e("users"),className:"text-gray-500 hover:text-gray-700",children:"Usuarios"}),k.jsx("button",{onClick:()=>e("announcements"),className:"text-gray-500 hover:text-gray-700",children:"Anuncios"}),k.jsx("button",{onClick:()=>e("stats"),className:"text-gray-500 hover:text-gray-700",children:"Estadsticas"}),k.jsx("button",{onClick:()=>e("calendar"),className:"text-gray-500 hover:text-gray-700",children:"Calendario"})]}),k.jsxs(z.Suspense,{fallback:k.jsx("div",{className:"flex items-center justify-center min-h-64",children:"Cargando..."}),children:[t==="overview"&&k.jsx(UJ,{}),t==="users"&&k.jsx(IA,{}),t==="announcements"&&k.jsx(AA,{}),t==="stats"&&k.jsx(pV,{}),t==="calendar"&&k.jsx(xC,{})]})]})]})},UJ=()=>{const[t,e]=z.useState({});return z.useEffect(()=>{(async()=>{const r=await ht(qe(Pe,"users")),i=await ht(qe(Pe,"brothers")),s=await ht(qe(Pe,"events"));e({users:r.size,brothers:i.size,events:s.size})})()},[]),k.jsxs("div",{className:"space-y-8",children:[k.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8",children:[k.jsxs("div",{className:"flex items-center justify-between mb-8",children:[k.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Resumen General"}),k.jsxs("div",{className:"text-right",children:[k.jsx("p",{className:"text-sm text-gray-500",children:"ltima actualizacin"}),k.jsx("p",{className:"text-xs text-gray-400",children:new Date().toLocaleTimeString()})]})]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[k.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-blue-200 text-sm font-medium uppercase tracking-wide",children:"Usuarios Totales"}),k.jsx("p",{className:"text-4xl font-bold mt-2",children:t.users||0})]}),k.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:k.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})]})}),k.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-green-200 text-sm font-medium uppercase tracking-wide",children:"Hermanos Registrados"}),k.jsx("p",{className:"text-4xl font-bold mt-2",children:t.brothers||0})]}),k.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:k.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),k.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-purple-200 text-sm font-medium uppercase tracking-wide",children:"Eventos Totales"}),k.jsx("p",{className:"text-4xl font-bold mt-2",children:t.events||0})]}),k.jsx("div",{className:"bg-white/20 p-4 rounded-xl",children:k.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]})]}),k.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8",children:[k.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[k.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Actividad Reciente"]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("div",{className:"h-12 w-12 bg-blue-500 rounded-full flex items-center justify-center shadow-lg",children:k.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Nuevo usuario registrado en el sistema"}),k.jsx("p",{className:"text-sm text-gray-600",children:"Hace 2 horas  Departamento de Jvenes"})]}),k.jsx("div",{className:"text-right",children:k.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Usuario"})})]}),k.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("div",{className:"h-12 w-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:k.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Evento de oracin completado exitosamente"}),k.jsx("p",{className:"text-sm text-gray-600",children:"Hace 1 da  45 participantes"})]}),k.jsx("div",{className:"text-right",children:k.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Evento"})})]}),k.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border border-purple-200",children:[k.jsx("div",{className:"flex-shrink-0",children:k.jsx("div",{className:"h-12 w-12 bg-purple-500 rounded-full flex items-center justify-center shadow-lg",children:k.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Nuevo anuncio publicado"}),k.jsx("p",{className:"text-sm text-gray-600",children:"Hace 3 das  Reunin general este domingo"})]}),k.jsx("div",{className:"text-right",children:k.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Anuncio"})})]})]})]})]})},zJ=({department:t})=>{const[e,n]=z.useState([]),[r,i]=z.useState({name:"",email:"",phone:""}),[s,o]=z.useState(!1),a=z.useCallback(async()=>{if(t)try{const d=(await ht(Yi(qe(Pe,"brothers"),Qi("department","==",t)))).docs.map(f=>({id:f.id,...f.data()}));n(d),localStorage.setItem(`brothers_${t}`,JSON.stringify(d))}catch(h){console.error("Error fetching brothers:",h);const d=JSON.parse(localStorage.getItem(`brothers_${t}`)||"[]");n(d)}},[t]);z.useEffect(()=>{a()},[a]);const l=async h=>{h.preventDefault(),o(!0);try{const d={...r,department:t,registeredAt:new Date},f=await $v(qe(Pe,"brothers"),d);i({name:"",email:"",phone:""}),await a()}catch(d){console.error("Error registrando hermano:",d);const f={...r,department:t,registeredAt:new Date,id:Date.now().toString()},g=[...e,f];n(g),localStorage.setItem(`brothers_${t}`,JSON.stringify(g)),i({name:"",email:"",phone:""})}finally{o(!1)}},c=z.useMemo(()=>e.length,[e]);return k.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-6",children:k.jsx("div",{className:"max-w-4xl mx-auto",children:k.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Registro de Hermanos"}),k.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold",children:[c," Hermanos"]})]}),k.jsxs("form",{onSubmit:l,className:"mb-8",children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),k.jsx("input",{type:"text",placeholder:"Ingresa el nombre",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),k.jsx("input",{type:"email",placeholder:"correo@ejemplo.com",value:r.email,onChange:h=>i({...r,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telfono"}),k.jsx("input",{type:"tel",placeholder:"+1234567890",value:r.phone,onChange:h=>i({...r,phone:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),k.jsx("button",{type:"submit",disabled:s,className:"mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:s?k.jsxs("div",{className:"flex items-center",children:[k.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registrando..."]}):"Registrar Hermano"})]}),k.jsx("div",{className:"space-y-4",children:e.length===0?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"text-gray-400 mb-4",children:k.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),k.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay hermanos registrados"}),k.jsx("p",{className:"text-gray-500",children:"Registra el primer hermano usando el formulario arriba."})]}):k.jsx("div",{className:"grid gap-4",children:e.map(h=>{var d;return k.jsx("div",{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all duration-200",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.name}),k.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[h.email&&k.jsxs("div",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),h.email]}),h.phone&&k.jsxs("div",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),h.phone]})]})]}),k.jsxs("div",{className:"text-right",children:[k.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Registrado"}),k.jsx("div",{className:"text-sm font-medium text-gray-900",children:(d=h.registeredAt)!=null&&d.toDate?h.registeredAt.toDate().toLocaleDateString():new Date(h.registeredAt).toLocaleDateString()})]})]})},h.id)})})})]})})})},BJ=()=>{var o;const[t,e]=z.useState("overview"),{currentUser:n,userRole:r}=fu(),[i,s]=z.useState("");return z.useEffect(()=>{(async()=>{try{const l=await ht(Yi(qe(Pe,"users"),Qi("uid","==",n.uid)));l.empty||s(l.docs[0].data().department)}catch(l){console.error("Error fetching department:",l)}})()},[n]),k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[k.jsx(RC,{title:`Dashboard Lder - ${((o=kn[i])==null?void 0:o.name)||"Departamento"}`,userRole:r||"leader"}),k.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[k.jsxs("nav",{className:"flex flex-wrap gap-4 mb-8 bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[k.jsx("button",{onClick:()=>e("overview"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="overview"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`,children:" Resumen General"}),k.jsx("button",{onClick:()=>e("brothers"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="brothers"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`,children:" Registro de Hermanos"}),k.jsx("button",{onClick:()=>e("users"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="users"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`,children:" Gestin de Usuarios"}),k.jsx("button",{onClick:()=>e("calendar"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="calendar"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`,children:" Calendario de Eventos"}),k.jsx("button",{onClick:()=>e("announcements"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="announcements"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`,children:" Anuncios del Departamento"})]}),k.jsxs("div",{className:"transition-all duration-500 ease-in-out",children:[t==="overview"&&k.jsx(WJ,{department:i}),t==="brothers"&&k.jsx(zJ,{department:i}),t==="users"&&k.jsx(IA,{}),t==="calendar"&&k.jsx(xC,{}),t==="announcements"&&k.jsx(AA,{readOnly:!0})]})]})]})},WJ=({department:t})=>{const[e,n]=z.useState({brothers:0,events:0});return z.useEffect(()=>{t&&(async()=>{const i=await ht(Yi(qe(Pe,"brothers"),Qi("department","==",t))),s=await ht(Yi(qe(Pe,"events"),Qi("department","==",t)));n({brothers:i.size,events:s.size})})()},[t]),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h3",{className:"text-lg font-medium",children:"Hermanos Registrados"}),k.jsx("p",{className:"text-3xl font-bold",children:e.brothers})]}),k.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[k.jsx("h3",{className:"text-lg font-medium",children:"Eventos"}),k.jsx("p",{className:"text-3xl font-bold",children:e.events})]})]})};function HJ(){const{currentUser:t,userRole:e,loading:n}=fu();if(console.log("Current User:",t),console.log("User Role:",e),console.log("Loading:",n),n)return k.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."});if(!t)return k.jsx(X$,{});if(e===nn.SUPER_LEADER)return k.jsx(jJ,{});if(e===nn.LEADER||e===nn.ADMIN)return k.jsx(BJ,{});const r=async()=>{await Nb(Xi)};return k.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:k.jsxs("div",{className:"bg-white p-8 rounded shadow-md text-center",children:[k.jsx("div",{className:"text-red-500 text-lg font-bold mb-4",children:"No tienes permisos para acceder."}),k.jsxs("div",{className:"text-gray-700 mb-4",children:["Rol: ",e]}),k.jsx("button",{onClick:r,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Cerrar Sesin"}),k.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 ml-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Recargar Pgina"})]})})}function qJ(){return k.jsx(Q$,{children:k.jsx(HJ,{})})}pp.createRoot(document.getElementById("root")).render(k.jsx(M.StrictMode,{children:k.jsx(qJ,{})}));
