var XC=Object.defineProperty;var JC=(t,e,n)=>e in t?XC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>(JC(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L1={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),eR=Symbol.for("react.fragment"),tR=Symbol.for("react.strict_mode"),nR=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),sR=Symbol.for("react.forward_ref"),oR=Symbol.for("react.suspense"),aR=Symbol.for("react.memo"),lR=Symbol.for("react.lazy"),v0=Symbol.iterator;function uR(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V1=Object.assign,F1={};function No(t,e,n){this.props=t,this.context=e,this.refs=F1,this.updater=n||$1}No.prototype.isReactComponent={};No.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};No.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U1(){}U1.prototype=No.prototype;function Qm(t,e,n){this.props=t,this.context=e,this.refs=F1,this.updater=n||$1}var Xm=Qm.prototype=new U1;Xm.constructor=Qm;V1(Xm,No.prototype);Xm.isPureReactComponent=!0;var y0=Array.isArray,j1=Object.prototype.hasOwnProperty,Jm={current:null},z1={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j1.call(e,r)&&!z1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ql,type:t,key:s,ref:o,props:i,_owner:Jm.current}}function cR(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function hR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w0=/\/+/g;function gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hR(""+t.key):e.toString(36)}function vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case ZC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gf(o,0):r,y0(i)?(n="",t!=null&&(n=t.replace(w0,"$&/")+"/"),vc(i,e,n,"",function(c){return c})):i!=null&&(Zm(i)&&(i=cR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gf(s,a);o+=vc(s,e,n,l,i)}else if(l=uR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gf(s,a++),o+=vc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ju(t,e,n){if(t==null)return t;var r=[],i=0;return vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},yc={transition:null},fR={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Jm};function W1(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=No;ae.Fragment=eR;ae.Profiler=nR;ae.PureComponent=Qm;ae.StrictMode=tR;ae.Suspense=oR;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;ae.act=W1;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j1.call(e,l)&&!z1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ql,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:iR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rR,_context:t},t.Consumer=t};ae.createElement=B1;ae.createFactory=function(t){var e=B1.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:sR,render:t}};ae.isValidElement=Zm;ae.lazy=function(t){return{$$typeof:lR,_payload:{_status:-1,_result:t},_init:dR}};ae.memo=function(t,e){return{$$typeof:aR,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};ae.unstable_act=W1;ae.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ae.useContext=function(t){return Ft.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ae.useId=function(){return Ft.current.useId()};ae.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ae.useRef=function(t){return Ft.current.useRef(t)};ae.useState=function(t){return Ft.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ft.current.useTransition()};ae.version="18.3.1";L1.exports=ae;var j=L1.exports;const v=Qt(j);var dp={},H1={exports:{}},an={},q1={exports:{}},G1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Q=U.length;U.push(K);e:for(;0<Q;){var oe=Q-1>>>1,le=U[oe];if(0<i(le,K))U[oe]=K,U[Q]=le,Q=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Q=U.pop();if(Q!==K){U[0]=Q;e:for(var oe=0,le=U.length,ze=le>>>1;oe<ze;){var et=2*(oe+1)-1,St=U[et],pt=et+1,Xt=U[pt];if(0>i(St,Q))pt<le&&0>i(Xt,St)?(U[oe]=Xt,U[pt]=Q,oe=pt):(U[oe]=St,U[et]=Q,oe=et);else if(pt<le&&0>i(Xt,Q))U[oe]=Xt,U[pt]=Q,oe=pt;else break e}}return K}function i(U,K){var Q=U.sortIndex-K.sortIndex;return Q!==0?Q:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=U)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function k(U){if(w=!1,b(U),!E)if(n(l)!==null)E=!0,ee(N);else{var K=n(c);K!==null&&se(k,K.startTime-U)}}function N(U,K){E=!1,w&&(w=!1,T(_),_=-1),g=!0;var Q=f;try{for(b(K),d=n(l);d!==null&&(!(d.expirationTime>K)||U&&!D());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var le=oe(d.expirationTime<=K);K=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),b(K)}else r(l);d=n(l)}if(d!==null)var ze=!0;else{var et=n(c);et!==null&&se(k,et.startTime-K),ze=!1}return ze}finally{d=null,f=Q,g=!1}}var O=!1,I=null,_=-1,S=5,P=-1;function D(){return!(t.unstable_now()-P<S)}function x(){if(I!==null){var U=t.unstable_now();P=U;var K=!0;try{K=I(!0,U)}finally{K?R():(O=!1,I=null)}}else O=!1}var R;if(typeof y=="function")R=function(){y(x)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=x,R=function(){te.postMessage(null)}}else R=function(){C(x,0)};function ee(U){I=U,O||(O=!0,R())}function se(U,K){_=C(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,ee(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var Q=f;f=K;try{return U()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=f;f=U;try{return K()}finally{f=Q}},t.unstable_scheduleCallback=function(U,K,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Q+le,U={id:h++,callback:K,priorityLevel:U,startTime:Q,expirationTime:le,sortIndex:-1},Q>oe?(U.sortIndex=Q,e(c,U),n(l)===null&&U===n(c)&&(w?(T(_),_=-1):w=!0,se(k,Q-oe))):(U.sortIndex=le,e(l,U),E||g||(E=!0,ee(N))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var K=f;return function(){var Q=f;f=K;try{return U.apply(this,arguments)}finally{f=Q}}}})(G1);q1.exports=G1;var pR=q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=j,sn=pR;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K1=new Set,ul={};function vs(t,e){ho(t,e),ho(t+"Capture",e)}function ho(t,e){for(ul[t]=e,t=0;t<e.length;t++)K1.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,gR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},E0={};function vR(t){return fp.call(E0,t)?!0:fp.call(_0,t)?!1:gR.test(t)?E0[t]=!0:(_0[t]=!0,!1)}function yR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wR(t,e,n,r){if(e===null||typeof e>"u"||yR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var eg=/[\-:]([a-z])/g;function tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eg,tg);wt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eg,tg);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eg,tg);wt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function ng(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wR(e,n,i,r)&&(n=null),r||i===null?vR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),Y1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),X1=Symbol.for("react.offscreen"),T0=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=T0&&t[T0]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,vf;function La(t){if(vf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vf=e&&e[1]||""}return`
`+vf+t}var yf=!1;function wf(t,e){if(!t||yf)return"";yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function _R(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=wf(t.type,!1),t;case 11:return t=wf(t.type.render,!1),t;case 1:return t=wf(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case Fs:return"Portal";case pp:return"Profiler";case rg:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q1:return(t.displayName||"Context")+".Consumer";case Y1:return(t._context.displayName||"Context")+".Provider";case ig:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sg:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function ER(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t){var e=J1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=TR(t))}function Z1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function S0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eT(t,e){e=e.checked,e!=null&&ng(t,"checked",e,!1)}function wp(t,e){eT(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,n):e.hasOwnProperty("defaultValue")&&_p(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _p(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $a=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if($a(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function tT(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,rT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){SR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function iT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function sT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bR=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(bR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=null;function og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,Zs=null,eo=null;function P0(t){if(t=Zl(t)){if(typeof Ap!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Xh(e),Ap(t.stateNode,t.type,e))}}function oT(t){Zs?eo?eo.push(t):eo=[t]:Zs=t}function aT(){if(Zs){var t=Zs,e=eo;if(eo=Zs=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function lT(t,e){return t(e)}function uT(){}var _f=!1;function cT(t,e,n){if(_f)return t(e,n);_f=!0;try{return lT(t,e,n)}finally{_f=!1,(Zs!==null||eo!==null)&&(uT(),aT())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Pp=!1;if(vr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Pp=!1}function IR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ga=!1,Hc=null,qc=!1,Cp=null,AR={onError:function(t){Ga=!0,Hc=t}};function PR(t,e,n,r,i,s,o,a,l){Ga=!1,Hc=null,IR.apply(AR,arguments)}function CR(t,e,n,r,i,s,o,a,l){if(PR.apply(this,arguments),Ga){if(Ga){var c=Hc;Ga=!1,Hc=null}else throw Error(F(198));qc||(qc=!0,Cp=c)}}function ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C0(t){if(ys(t)!==t)throw Error(F(188))}function RR(t){var e=t.alternate;if(!e){if(e=ys(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return C0(i),t;if(s===r)return C0(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function dT(t){return t=RR(t),t!==null?fT(t):null}function fT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fT(t);if(e!==null)return e;t=t.sibling}return null}var pT=sn.unstable_scheduleCallback,R0=sn.unstable_cancelCallback,kR=sn.unstable_shouldYield,DR=sn.unstable_requestPaint,We=sn.unstable_now,xR=sn.unstable_getCurrentPriorityLevel,ag=sn.unstable_ImmediatePriority,mT=sn.unstable_UserBlockingPriority,Gc=sn.unstable_NormalPriority,NR=sn.unstable_LowPriority,gT=sn.unstable_IdlePriority,Gh=null,Kn=null;function OR(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Gh,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:$R,MR=Math.log,LR=Math.LN2;function $R(t){return t>>>=0,t===0?32:31-(MR(t)/LR|0)|0}var Hu=64,qu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Va(a):(s&=o,s!==0&&(r=Va(s)))}else o=n&~i,o!==0?r=Va(o):s!==0&&(r=Va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),i=1<<n,r|=t[n],e&=~i;return r}function VR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vT(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function UR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wT,ug,_T,ET,TT,kp=!1,Gu=[],Jr=null,Zr=null,ei=null,dl=new Map,fl=new Map,Br=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&ug(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zR(t,e,n,r,i){switch(e){case"focusin":return Jr=Aa(Jr,t,e,n,r,i),!0;case"dragenter":return Zr=Aa(Zr,t,e,n,r,i),!0;case"mouseover":return ei=Aa(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dl.set(s,Aa(dl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fl.set(s,Aa(fl.get(s)||null,t,e,n,r,i)),!0}return!1}function ST(t){var e=zi(t.target);if(e!==null){var n=ys(e);if(n!==null){if(e=n.tag,e===13){if(e=hT(n),e!==null){t.blockedOn=e,TT(t.priority,function(){_T(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ip=r,n.target.dispatchEvent(r),Ip=null}else return e=Zl(n),e!==null&&ug(e),t.blockedOn=n,!1;e.shift()}return!0}function D0(t,e,n){wc(t)&&n.delete(e)}function BR(){kp=!1,Jr!==null&&wc(Jr)&&(Jr=null),Zr!==null&&wc(Zr)&&(Zr=null),ei!==null&&wc(ei)&&(ei=null),dl.forEach(D0),fl.forEach(D0)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,kp||(kp=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,BR)))}function pl(t){function e(i){return Pa(i,t)}if(0<Gu.length){Pa(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Pa(Jr,t),Zr!==null&&Pa(Zr,t),ei!==null&&Pa(ei,t),dl.forEach(e),fl.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)ST(n),n.blockedOn===null&&Br.shift()}var to=Cr.ReactCurrentBatchConfig,Yc=!0;function WR(t,e,n,r){var i=ve,s=to.transition;to.transition=null;try{ve=1,cg(t,e,n,r)}finally{ve=i,to.transition=s}}function HR(t,e,n,r){var i=ve,s=to.transition;to.transition=null;try{ve=4,cg(t,e,n,r)}finally{ve=i,to.transition=s}}function cg(t,e,n,r){if(Yc){var i=Dp(t,e,n,r);if(i===null)Df(t,e,r,Qc,n),k0(t,r);else if(zR(i,t,e,n,r))r.stopPropagation();else if(k0(t,r),e&4&&-1<jR.indexOf(t)){for(;i!==null;){var s=Zl(i);if(s!==null&&wT(s),s=Dp(t,e,n,r),s===null&&Df(t,e,r,Qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Df(t,e,r,null,n)}}var Qc=null;function Dp(t,e,n,r){if(Qc=null,t=og(r),t=zi(t),t!==null)if(e=ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qc=t,null}function bT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xR()){case ag:return 1;case mT:return 4;case Gc:case NR:return 16;case gT:return 536870912;default:return 16}default:return 16}}var Yr=null,hg=null,_c=null;function IT(){if(_c)return _c;var t,e=hg,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _c=i.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function x0(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ku:x0,this.isPropagationStopped=x0,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=ln(Oo),Jl=Me({},Oo,{view:0,detail:0}),qR=ln(Jl),Tf,Sf,Ca,Kh=Me({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(Tf=t.screenX-Ca.screenX,Sf=t.screenY-Ca.screenY):Sf=Tf=0,Ca=t),Tf)},movementY:function(t){return"movementY"in t?t.movementY:Sf}}),N0=ln(Kh),GR=Me({},Kh,{dataTransfer:0}),KR=ln(GR),YR=Me({},Jl,{relatedTarget:0}),bf=ln(YR),QR=Me({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),XR=ln(QR),JR=Me({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZR=ln(JR),ek=Me({},Oo,{data:0}),O0=ln(ek),tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rk[t])?!!e[t]:!1}function fg(){return ik}var sk=Me({},Jl,{key:function(t){if(t.key){var e=tk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fg,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ok=ln(sk),ak=Me({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=ln(ak),lk=Me({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fg}),uk=ln(lk),ck=Me({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hk=ln(ck),dk=Me({},Kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=ln(dk),pk=[9,13,27,32],pg=vr&&"CompositionEvent"in window,Ka=null;vr&&"documentMode"in document&&(Ka=document.documentMode);var mk=vr&&"TextEvent"in window&&!Ka,AT=vr&&(!pg||Ka&&8<Ka&&11>=Ka),L0=String.fromCharCode(32),$0=!1;function PT(t,e){switch(t){case"keyup":return pk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function gk(t,e){switch(t){case"compositionend":return CT(e);case"keypress":return e.which!==32?null:($0=!0,L0);case"textInput":return t=e.data,t===L0&&$0?null:t;default:return null}}function vk(t,e){if(js)return t==="compositionend"||!pg&&PT(t,e)?(t=IT(),_c=hg=Yr=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AT&&e.locale!=="ko"?null:e.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yk[t.type]:e==="textarea"}function RT(t,e,n,r){oT(r),e=Xc(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ya=null,ml=null;function wk(t){UT(t,0)}function Yh(t){var e=Ws(t);if(Z1(e))return t}function _k(t,e){if(t==="change")return e}var kT=!1;if(vr){var If;if(vr){var Af="oninput"in document;if(!Af){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Af=typeof F0.oninput=="function"}If=Af}else If=!1;kT=If&&(!document.documentMode||9<document.documentMode)}function U0(){Ya&&(Ya.detachEvent("onpropertychange",DT),ml=Ya=null)}function DT(t){if(t.propertyName==="value"&&Yh(ml)){var e=[];RT(e,ml,t,og(t)),cT(wk,e)}}function Ek(t,e,n){t==="focusin"?(U0(),Ya=e,ml=n,Ya.attachEvent("onpropertychange",DT)):t==="focusout"&&U0()}function Tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(ml)}function Sk(t,e){if(t==="click")return Yh(e)}function bk(t,e){if(t==="input"||t==="change")return Yh(e)}function Ik(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:Ik;function gl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fp.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function j0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var n=j0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j0(n)}}function xT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NT(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ak(t){var e=NT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xT(n.ownerDocument.documentElement,n)){if(r!==null&&mg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=z0(n,s);var o=z0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pk=vr&&"documentMode"in document&&11>=document.documentMode,zs=null,xp=null,Qa=null,Np=!1;function B0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||zs==null||zs!==Wc(r)||(r=zs,"selectionStart"in r&&mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&gl(Qa,r)||(Qa=r,r=Xc(xp,"onSelect"),0<r.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zs)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bs={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Pf={},OT={};vr&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Qh(t){if(Pf[t])return Pf[t];if(!Bs[t])return t;var e=Bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OT)return Pf[t]=e[n];return t}var MT=Qh("animationend"),LT=Qh("animationiteration"),$T=Qh("animationstart"),VT=Qh("transitionend"),FT=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){FT.set(t,e),vs(e,[t])}for(var Cf=0;Cf<W0.length;Cf++){var Rf=W0[Cf],Ck=Rf.toLowerCase(),Rk=Rf[0].toUpperCase()+Rf.slice(1);Si(Ck,"on"+Rk)}Si(MT,"onAnimationEnd");Si(LT,"onAnimationIteration");Si($T,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(VT,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function H0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CR(r,e,void 0,t),t.currentTarget=null}function UT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H0(i,a,c),s=l}}}if(qc)throw t=Cp,qc=!1,Cp=null,t}function be(t,e){var n=e[Vp];n===void 0&&(n=e[Vp]=new Set);var r=t+"__bubble";n.has(r)||(jT(e,t,2,!1),n.add(r))}function kf(t,e,n){var r=0;e&&(r|=4),jT(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[Qu]){t[Qu]=!0,K1.forEach(function(n){n!=="selectionchange"&&(kk.has(n)||kf(n,!1,t),kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,kf("selectionchange",!1,e))}}function jT(t,e,n,r){switch(bT(e)){case 1:var i=WR;break;case 4:i=HR;break;default:i=cg}n=i.bind(null,e,n,t),i=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Df(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var c=s,h=og(n),d=[];e:{var f=FT.get(t);if(f!==void 0){var g=dg,E=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":g=ok;break;case"focusin":E="focus",g=bf;break;case"focusout":E="blur",g=bf;break;case"beforeblur":case"afterblur":g=bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=KR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uk;break;case MT:case LT:case $T:g=XR;break;case VT:g=hk;break;case"scroll":g=qR;break;case"wheel":g=fk;break;case"copy":case"cut":case"paste":g=ZR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=M0}var w=(e&4)!==0,C=!w&&t==="scroll",T=w?f!==null?f+"Capture":null:f;w=[];for(var y=c,b;y!==null;){b=y;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,T!==null&&(k=hl(y,T),k!=null&&w.push(yl(y,k,b)))),C)break;y=y.return}0<w.length&&(f=new g(f,E,null,n,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Ip&&(E=n.relatedTarget||n.fromElement)&&(zi(E)||E[yr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?zi(E):null,E!==null&&(C=ys(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(w=N0,k="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=M0,k="onPointerLeave",T="onPointerEnter",y="pointer"),C=g==null?f:Ws(g),b=E==null?f:Ws(E),f=new w(k,y+"leave",g,n,h),f.target=C,f.relatedTarget=b,k=null,zi(h)===c&&(w=new w(T,y+"enter",E,n,h),w.target=b,w.relatedTarget=C,k=w),C=k,g&&E)t:{for(w=g,T=E,y=0,b=w;b;b=xs(b))y++;for(b=0,k=T;k;k=xs(k))b++;for(;0<y-b;)w=xs(w),y--;for(;0<b-y;)T=xs(T),b--;for(;y--;){if(w===T||T!==null&&w===T.alternate)break t;w=xs(w),T=xs(T)}w=null}else w=null;g!==null&&q0(d,f,g,w,!1),E!==null&&C!==null&&q0(d,C,E,w,!0)}}e:{if(f=c?Ws(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=_k;else if(V0(f))if(kT)N=bk;else{N=Tk;var O=Ek}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Sk);if(N&&(N=N(t,c))){RT(d,N,n,h);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&_p(f,"number",f.value)}switch(O=c?Ws(c):window,t){case"focusin":(V0(O)||O.contentEditable==="true")&&(zs=O,xp=c,Qa=null);break;case"focusout":Qa=xp=zs=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,B0(d,n,h);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":B0(d,n,h)}var I;if(pg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else js?PT(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(AT&&n.locale!=="ko"&&(js||_!=="onCompositionStart"?_==="onCompositionEnd"&&js&&(I=IT()):(Yr=h,hg="value"in Yr?Yr.value:Yr.textContent,js=!0)),O=Xc(c,_),0<O.length&&(_=new O0(_,t,null,n,h),d.push({event:_,listeners:O}),I?_.data=I:(I=CT(n),I!==null&&(_.data=I)))),(I=mk?gk(t,n):vk(t,n))&&(c=Xc(c,"onBeforeInput"),0<c.length&&(h=new O0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}UT(d,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hl(t,n),s!=null&&r.unshift(yl(t,s,i)),s=hl(t,e),s!=null&&r.push(yl(t,s,i))),t=t.return}return r}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=hl(n,s),l!=null&&o.unshift(yl(n,l,a))):i||(l=hl(n,s),l!=null&&o.push(yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Dk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function G0(t){return(typeof t=="string"?t:""+t).replace(Dk,`
`).replace(xk,"")}function Xu(t,e,n){if(e=G0(e),G0(t)!==e&&n)throw Error(F(425))}function Jc(){}var Op=null,Mp=null;function Lp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(Mk)}:$p;function Mk(t){setTimeout(function(){throw t})}function xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Mo,wl="__reactProps$"+Mo,yr="__reactContainer$"+Mo,Vp="__reactEvents$"+Mo,Lk="__reactListeners$"+Mo,$k="__reactHandles$"+Mo;function zi(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y0(t);t!==null;){if(n=t[Bn])return n;t=Y0(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Bn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Xh(t){return t[wl]||null}var Fp=[],Hs=-1;function bi(t){return{current:t}}function Re(t){0>Hs||(t.current=Fp[Hs],Fp[Hs]=null,Hs--)}function Te(t,e){Hs++,Fp[Hs]=t.current,t.current=e}var fi={},Dt=bi(fi),Wt=bi(!1),Zi=fi;function fo(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Zc(){Re(Wt),Re(Dt)}function Q0(t,e,n){if(Dt.current!==fi)throw Error(F(168));Te(Dt,e),Te(Wt,n)}function zT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,ER(t)||"Unknown",i));return Me({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,Zi=Dt.current,Te(Dt,t),Te(Wt,Wt.current),!0}function X0(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=zT(t,e,Zi),r.__reactInternalMemoizedMergedChildContext=t,Re(Wt),Re(Dt),Te(Dt,t)):Re(Wt),Te(Wt,n)}var hr=null,Jh=!1,Nf=!1;function BT(t){hr===null?hr=[t]:hr.push(t)}function Vk(t){Jh=!0,BT(t)}function Ii(){if(!Nf&&hr!==null){Nf=!0;var t=0,e=ve;try{var n=hr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Jh=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),pT(ag,Ii),i}finally{ve=e,Nf=!1}}return null}var qs=[],Gs=0,th=null,nh=0,cn=[],hn=0,es=null,dr=1,fr="";function Li(t,e){qs[Gs++]=nh,qs[Gs++]=th,th=t,nh=e}function WT(t,e,n){cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=es,es=t;var r=dr;t=fr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-Dn(e)+i|n<<i|r,fr=s+t}else dr=1<<s|n<<i|r,fr=t}function gg(t){t.return!==null&&(Li(t,1),WT(t,1,0))}function vg(t){for(;t===th;)th=qs[--Gs],qs[Gs]=null,nh=qs[--Gs],qs[Gs]=null;for(;t===es;)es=cn[--hn],cn[hn]=null,fr=cn[--hn],cn[hn]=null,dr=cn[--hn],cn[hn]=null}var rn=null,nn=null,De=!1,Pn=null;function HT(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function Up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jp(t){if(De){var e=nn;if(e){var n=e;if(!J0(t,e)){if(Up(t))throw Error(F(418));e=ti(n.nextSibling);var r=rn;e&&J0(t,e)?HT(r,n):(t.flags=t.flags&-4097|2,De=!1,rn=t)}}else{if(Up(t))throw Error(F(418));t.flags=t.flags&-4097|2,De=!1,rn=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Ju(t){if(t!==rn)return!1;if(!De)return Z0(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lp(t.type,t.memoizedProps)),e&&(e=nn)){if(Up(t))throw qT(),Error(F(418));for(;e;)HT(t,e),e=ti(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?ti(t.stateNode.nextSibling):null;return!0}function qT(){for(var t=nn;t;)t=ti(t.nextSibling)}function po(){nn=rn=null,De=!1}function yg(t){Pn===null?Pn=[t]:Pn.push(t)}var Fk=Cr.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ew(t){var e=t._init;return e(t._payload)}function GT(t){function e(T,y){if(t){var b=T.deletions;b===null?(T.deletions=[y],T.flags|=16):b.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=si(T,y),T.index=0,T.sibling=null,T}function s(T,y,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<y?(T.flags|=2,y):b):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,y,b,k){return y===null||y.tag!==6?(y=Uf(b,T.mode,k),y.return=T,y):(y=i(y,b),y.return=T,y)}function l(T,y,b,k){var N=b.type;return N===Us?h(T,y,b.props.children,k,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jr&&ew(N)===y.type)?(k=i(y,b.props),k.ref=Ra(T,y,b),k.return=T,k):(k=Cc(b.type,b.key,b.props,null,T.mode,k),k.ref=Ra(T,y,b),k.return=T,k)}function c(T,y,b,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=jf(b,T.mode,k),y.return=T,y):(y=i(y,b.children||[]),y.return=T,y)}function h(T,y,b,k,N){return y===null||y.tag!==7?(y=Gi(b,T.mode,k,N),y.return=T,y):(y=i(y,b),y.return=T,y)}function d(T,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Uf(""+y,T.mode,b),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return b=Cc(y.type,y.key,y.props,null,T.mode,b),b.ref=Ra(T,null,y),b.return=T,b;case Fs:return y=jf(y,T.mode,b),y.return=T,y;case jr:var k=y._init;return d(T,k(y._payload),b)}if($a(y)||ba(y))return y=Gi(y,T.mode,b,null),y.return=T,y;Zu(T,y)}return null}function f(T,y,b,k){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(T,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:return b.key===N?l(T,y,b,k):null;case Fs:return b.key===N?c(T,y,b,k):null;case jr:return N=b._init,f(T,y,N(b._payload),k)}if($a(b)||ba(b))return N!==null?null:h(T,y,b,k,null);Zu(T,b)}return null}function g(T,y,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(b)||null,a(y,T,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zu:return T=T.get(k.key===null?b:k.key)||null,l(y,T,k,N);case Fs:return T=T.get(k.key===null?b:k.key)||null,c(y,T,k,N);case jr:var O=k._init;return g(T,y,b,O(k._payload),N)}if($a(k)||ba(k))return T=T.get(b)||null,h(y,T,k,N,null);Zu(y,k)}return null}function E(T,y,b,k){for(var N=null,O=null,I=y,_=y=0,S=null;I!==null&&_<b.length;_++){I.index>_?(S=I,I=null):S=I.sibling;var P=f(T,I,b[_],k);if(P===null){I===null&&(I=S);break}t&&I&&P.alternate===null&&e(T,I),y=s(P,y,_),O===null?N=P:O.sibling=P,O=P,I=S}if(_===b.length)return n(T,I),De&&Li(T,_),N;if(I===null){for(;_<b.length;_++)I=d(T,b[_],k),I!==null&&(y=s(I,y,_),O===null?N=I:O.sibling=I,O=I);return De&&Li(T,_),N}for(I=r(T,I);_<b.length;_++)S=g(I,T,_,b[_],k),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?_:S.key),y=s(S,y,_),O===null?N=S:O.sibling=S,O=S);return t&&I.forEach(function(D){return e(T,D)}),De&&Li(T,_),N}function w(T,y,b,k){var N=ba(b);if(typeof N!="function")throw Error(F(150));if(b=N.call(b),b==null)throw Error(F(151));for(var O=N=null,I=y,_=y=0,S=null,P=b.next();I!==null&&!P.done;_++,P=b.next()){I.index>_?(S=I,I=null):S=I.sibling;var D=f(T,I,P.value,k);if(D===null){I===null&&(I=S);break}t&&I&&D.alternate===null&&e(T,I),y=s(D,y,_),O===null?N=D:O.sibling=D,O=D,I=S}if(P.done)return n(T,I),De&&Li(T,_),N;if(I===null){for(;!P.done;_++,P=b.next())P=d(T,P.value,k),P!==null&&(y=s(P,y,_),O===null?N=P:O.sibling=P,O=P);return De&&Li(T,_),N}for(I=r(T,I);!P.done;_++,P=b.next())P=g(I,T,_,P.value,k),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?_:P.key),y=s(P,y,_),O===null?N=P:O.sibling=P,O=P);return t&&I.forEach(function(x){return e(T,x)}),De&&Li(T,_),N}function C(T,y,b,k){if(typeof b=="object"&&b!==null&&b.type===Us&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:e:{for(var N=b.key,O=y;O!==null;){if(O.key===N){if(N=b.type,N===Us){if(O.tag===7){n(T,O.sibling),y=i(O,b.props.children),y.return=T,T=y;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jr&&ew(N)===O.type){n(T,O.sibling),y=i(O,b.props),y.ref=Ra(T,O,b),y.return=T,T=y;break e}n(T,O);break}else e(T,O);O=O.sibling}b.type===Us?(y=Gi(b.props.children,T.mode,k,b.key),y.return=T,T=y):(k=Cc(b.type,b.key,b.props,null,T.mode,k),k.ref=Ra(T,y,b),k.return=T,T=k)}return o(T);case Fs:e:{for(O=b.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(T,y.sibling),y=i(y,b.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=jf(b,T.mode,k),y.return=T,T=y}return o(T);case jr:return O=b._init,C(T,y,O(b._payload),k)}if($a(b))return E(T,y,b,k);if(ba(b))return w(T,y,b,k);Zu(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,b),y.return=T,T=y):(n(T,y),y=Uf(b,T.mode,k),y.return=T,T=y),o(T)):n(T,y)}return C}var mo=GT(!0),KT=GT(!1),rh=bi(null),ih=null,Ks=null,wg=null;function _g(){wg=Ks=ih=null}function Eg(t){var e=rh.current;Re(rh),t._currentValue=e}function zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){ih=t,wg=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(ih===null)throw Error(F(308));Ks=t,ih.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var Bi=null;function Tg(t){Bi===null?Bi=[t]:Bi.push(t)}function YT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tg(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function Sg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tg(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}function tw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,w=a;switch(f=e,g=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){d=E.call(g,d,f);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,f=typeof E=="function"?E.call(g,d,f):E,f==null)break e;d=Me({},d,f);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=d}}function nw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var eu={},Yn=bi(eu),_l=bi(eu),El=bi(eu);function Wi(t){if(t===eu)throw Error(F(174));return t}function bg(t,e){switch(Te(El,e),Te(_l,t),Te(Yn,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}Re(Yn),Te(Yn,e)}function go(){Re(Yn),Re(_l),Re(El)}function XT(t){Wi(El.current);var e=Wi(Yn.current),n=Tp(e,t.type);e!==n&&(Te(_l,t),Te(Yn,n))}function Ig(t){_l.current===t&&(Re(Yn),Re(_l))}var xe=bi(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Of=[];function Ag(){for(var t=0;t<Of.length;t++)Of[t]._workInProgressVersionPrimary=null;Of.length=0}var Sc=Cr.ReactCurrentDispatcher,Mf=Cr.ReactCurrentBatchConfig,ts=0,Oe=null,nt=null,ut=null,ah=!1,Xa=!1,Tl=0,Uk=0;function bt(){throw Error(F(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Cg(t,e,n,r,i,s){if(ts=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sc.current=t===null||t.memoizedState===null?Wk:Hk,t=n(r,i),Xa){s=0;do{if(Xa=!1,Tl=0,25<=s)throw Error(F(301));s+=1,ut=nt=null,e.updateQueue=null,Sc.current=qk,t=n(r,i)}while(Xa)}if(Sc.current=lh,e=nt!==null&&nt.next!==null,ts=0,ut=nt=Oe=null,ah=!1,e)throw Error(F(300));return t}function Rg(){var t=Tl!==0;return Tl=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Oe.memoizedState=ut=t:ut=ut.next=t,ut}function wn(){if(nt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ut===null?Oe.memoizedState:ut.next;if(e!==null)ut=e,nt=t;else{if(t===null)throw Error(F(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Oe.memoizedState=ut=t:ut=ut.next=t}return ut}function Sl(t,e){return typeof e=="function"?e(t):e}function Lf(t){var e=wn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ts&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Oe.lanes|=h,ns|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Nn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,ns|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=wn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JT(){}function ZT(t,e){var n=Oe,r=wn(),i=e(),s=!Nn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,kg(nS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,bl(9,tS.bind(null,n,r,i,e),void 0,null),dt===null)throw Error(F(349));ts&30||eS(n,e,i)}return i}function eS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tS(t,e,n,r){e.value=n,e.getSnapshot=r,rS(e)&&iS(t)}function nS(t,e,n){return n(function(){rS(e)&&iS(t)})}function rS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function iS(t){var e=wr(t,1);e!==null&&xn(e,t,1,-1)}function rw(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=Bk.bind(null,Oe,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sS(){return wn().memoizedState}function bc(t,e,n,r){var i=Un();Oe.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Zh(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&Pg(r,o.deps)){i.memoizedState=bl(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=bl(1|e,n,s,r)}function iw(t,e){return bc(8390656,8,t,e)}function kg(t,e){return Zh(2048,8,t,e)}function oS(t,e){return Zh(4,2,t,e)}function aS(t,e){return Zh(4,4,t,e)}function lS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uS(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4,4,lS.bind(null,e,t),n)}function Dg(){}function cS(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hS(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dS(t,e,n){return ts&21?(Nn(n,e)||(n=vT(),Oe.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function jk(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Mf.transition;Mf.transition={};try{t(!1),e()}finally{ve=n,Mf.transition=r}}function fS(){return wn().memoizedState}function zk(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pS(t))mS(e,n);else if(n=YT(t,e,n,r),n!==null){var i=Vt();xn(n,t,r,i),gS(n,e,r)}}function Bk(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pS(t))mS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(i.next=i,Tg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YT(t,e,i,r),n!==null&&(i=Vt(),xn(n,t,r,i),gS(n,e,r))}}function pS(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function mS(t,e){Xa=ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}var lh={readContext:yn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Wk={readContext:yn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:iw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,lS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zk.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:Dg,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=jk.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Un();if(De){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),dt===null)throw Error(F(349));ts&30||eS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iw(nS.bind(null,r,s,t),[t]),r.flags|=2048,bl(9,tS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=dt.identifierPrefix;if(De){var n=fr,r=dr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hk={readContext:yn,useCallback:cS,useContext:yn,useEffect:kg,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:hS,useReducer:Lf,useRef:sS,useState:function(){return Lf(Sl)},useDebugValue:Dg,useDeferredValue:function(t){var e=wn();return dS(e,nt.memoizedState,t)},useTransition:function(){var t=Lf(Sl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fS,unstable_isNewReconciler:!1},qk={readContext:yn,useCallback:cS,useContext:yn,useEffect:kg,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:hS,useReducer:$f,useRef:sS,useState:function(){return $f(Sl)},useDebugValue:Dg,useDeferredValue:function(t){var e=wn();return nt===null?e.memoizedState=t:dS(e,nt.memoizedState,t)},useTransition:function(){var t=$f(Sl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fS,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=ii(t),s=gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(xn(e,t,i,r),Tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=ii(t),s=gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(xn(e,t,i,r),Tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=ii(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(xn(e,t,r,n),Tc(e,t,r))}};function sw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,s):!0}function vS(t,e,n){var r=!1,i=fi,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Ht(e)?Zi:Dt.current,r=e.contextTypes,s=(r=r!=null)?fo(t,i):fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ow(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function Wp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Ht(e)?Zi:Dt.current,i.context=fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ed.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=_R(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function yS(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ch||(ch=!0,tm=r),Hp(t,e)},n}function wS(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hp(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aD.bind(null,t,e,n),e.then(t,t))}function lw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var Kk=Cr.ReactCurrentOwner,Bt=!1;function Lt(t,e,n,r){e.child=t===null?KT(e,null,n,r):mo(e,t.child,n,r)}function cw(t,e,n,r,i){n=n.render;var s=e.ref;return no(e,i),r=Cg(t,e,n,r,s,i),n=Rg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(De&&n&&gg(e),e.flags|=1,Lt(t,e,r,i),e.child)}function hw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_S(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function _S(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gl(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return qp(t,e,n,r,i)}function ES(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Qs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Qs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Qs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(Qs,en),en|=r;return Lt(t,e,i,n),e.child}function TS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=Ht(n)?Zi:Dt.current;return s=fo(e,s),no(e,i),n=Cg(t,e,n,r,s,i),r=Rg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(De&&r&&gg(e),e.flags|=1,Lt(t,e,n,i),e.child)}function dw(t,e,n,r,i){if(Ht(n)){var s=!0;eh(e)}else s=!1;if(no(e,i),e.stateNode===null)Ic(t,e),vS(e,n,r),Wp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Ht(n)?Zi:Dt.current,c=fo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ow(e,o,r,c),zr=!1;var f=e.memoizedState;o.state=f,sh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Wt.current||zr?(typeof h=="function"&&(Bp(e,n,h,r),l=e.memoizedState),(a=zr||sw(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Ht(n)?Zi:Dt.current,l=fo(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&ow(e,o,r,l),zr=!1,f=e.memoizedState,o.state=f,sh(e,r,o,i);var E=e.memoizedState;a!==d||f!==E||Wt.current||zr?(typeof g=="function"&&(Bp(e,n,g,r),E=e.memoizedState),(c=zr||sw(e,n,c,r,f,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gp(t,e,n,r,s,i)}function Gp(t,e,n,r,i,s){TS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&X0(e,n,!1),_r(t,e,s);r=e.stateNode,Kk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mo(e,t.child,null,s),e.child=mo(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&X0(e,n,!0),e.child}function SS(t){var e=t.stateNode;e.pendingContext?Q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q0(t,e.context,!1),bg(t,e.containerInfo)}function fw(t,e,n,r,i){return po(),yg(i),e.flags|=256,Lt(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function bS(t,e,n){var r=e.pendingProps,i=xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(xe,i&1),t===null)return jp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rd(o,r,0,null),t=Gi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yp(n),e.memoizedState=Kp,t):xg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Yk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=Gi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xg(t,e){return e=rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&yg(r),mo(e,t.child,null,n),t=xg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vf(Error(F(422))),ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rd({mode:"visible",children:r.children},i,0,null),s=Gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mo(e,t.child,null,o),e.child.memoizedState=Yp(o),e.memoizedState=Kp,s);if(!(e.mode&1))return ec(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Vf(s,r,void 0),ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),xn(r,t,i,-1))}return Vg(),r=Vf(Error(F(421))),ec(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=ti(i.nextSibling),rn=e,De=!0,Pn=null,t!==null&&(cn[hn++]=dr,cn[hn++]=fr,cn[hn++]=es,dr=t.id,fr=t.overflow,es=e),e=xg(e,r.children),e.flags|=4096,e)}function pw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zp(t.return,e,n)}function Ff(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function IS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pw(t,n,e);else if(t.tag===19)pw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ff(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ff(e,!0,n,null,s);break;case"together":Ff(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qk(t,e,n){switch(e.tag){case 3:SS(e),po();break;case 5:XT(e);break;case 1:Ht(e.type)&&eh(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?bS(t,e,n):(Te(xe,xe.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Te(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,ES(t,e,n)}return _r(t,e,n)}var AS,Qp,PS,CS;AS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qp=function(){};PS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wi(Yn.current);var s=null;switch(n){case"input":i=yp(t,i),r=yp(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Ep(t,i),r=Ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Sp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ul.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ul.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};CS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ka(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xk(t,e,n){var r=e.pendingProps;switch(vg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Ht(e.type)&&Zc(),It(e),null;case 3:return r=e.stateNode,go(),Re(Wt),Re(Dt),Ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(im(Pn),Pn=null))),Qp(t,e),It(e),null;case 5:Ig(e);var i=Wi(El.current);if(n=e.type,t!==null&&e.stateNode!=null)PS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return It(e),null}if(t=Wi(Yn.current),Ju(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Bn]=e,r[wl]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Fa.length;i++)be(Fa[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":S0(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":I0(r,s),be("invalid",r)}Sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),i=["children",""+a]):ul.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Bu(r),b0(r,s,!0);break;case"textarea":Bu(r),A0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bn]=e,t[wl]=r,AS(t,e,!1,!1),e.stateNode=t;e:{switch(o=bp(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fa.length;i++)be(Fa[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":S0(t,r),i=yp(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),be("invalid",t);break;case"textarea":I0(t,r),i=Ep(t,r),be("invalid",t);break;default:i=r}Sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cl(t,l):typeof l=="number"&&cl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ul.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&ng(t,s,l,o))}switch(n){case"input":Bu(t),b0(t,r,!1);break;case"textarea":Bu(t),A0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Js(t,!!r.multiple,s,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)CS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Wi(El.current),Wi(Yn.current),Ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return It(e),null;case 13:if(Re(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&nn!==null&&e.mode&1&&!(e.flags&128))qT(),po(),e.flags|=98560,s=!1;else if(s=Ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Bn]=e}else po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else Pn!==null&&(im(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?rt===0&&(rt=3):Vg())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return go(),Qp(t,e),t===null&&vl(e.stateNode.containerInfo),It(e),null;case 10:return Eg(e.type._context),It(e),null;case 17:return Ht(e.type)&&Zc(),It(e),null;case 19:if(Re(xe),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ka(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oh(t),o!==null){for(e.flags|=128,ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(xe,xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>yo&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=oh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return It(e),null}else 2*We()-s.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=xe.current,Te(xe,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return $g(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function Jk(t,e){switch(vg(e),e.tag){case 1:return Ht(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Re(Wt),Re(Dt),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ig(e),null;case 13:if(Re(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(xe),null;case 4:return go(),null;case 10:return Eg(e.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var tc=!1,Rt=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Xp(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var mw=!1;function eD(t,e){if(Op=Yc,t=NT(),mg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:t,selectionRange:n},Yc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,C=E.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:In(e.type,w),C);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(k){Ve(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return E=mw,mw=!1,E}function Ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xp(e,n,s)}i=i.next}while(i!==r)}}function td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RS(t){var e=t.alternate;e!==null&&(t.alternate=null,RS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[wl],delete e[Vp],delete e[Lk],delete e[$k])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kS(t){return t.tag===5||t.tag===3||t.tag===4}function gw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}var mt=null,An=!1;function Vr(t,e,n){for(n=n.child;n!==null;)DS(t,e,n),n=n.sibling}function DS(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:Rt||Ys(n,e);case 6:var r=mt,i=An;mt=null,Vr(t,e,n),mt=r,An=i,mt!==null&&(An?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(An?(t=mt,n=n.stateNode,t.nodeType===8?xf(t.parentNode,n):t.nodeType===1&&xf(t,n),pl(t)):xf(mt,n.stateNode));break;case 4:r=mt,i=An,mt=n.stateNode.containerInfo,An=!0,Vr(t,e,n),mt=r,An=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xp(n,e,o),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!Rt&&(Ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Vr(t,e,n),Rt=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function vw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zk),e.forEach(function(r){var i=uD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,An=!1;break e;case 3:mt=a.stateNode.containerInfo,An=!0;break e;case 4:mt=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(mt===null)throw Error(F(160));DS(s,o,i),mt=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xS(e,t),e=e.sibling}function xS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Fn(t),r&4){try{Ja(3,t,t.return),td(3,t)}catch(w){Ve(t,t.return,w)}try{Ja(5,t,t.return)}catch(w){Ve(t,t.return,w)}}break;case 1:bn(e,t),Fn(t),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(bn(e,t),Fn(t),r&512&&n!==null&&Ys(n,n.return),t.flags&32){var i=t.stateNode;try{cl(i,"")}catch(w){Ve(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eT(i,s),bp(a,o);var c=bp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?sT(i,d):h==="dangerouslySetInnerHTML"?rT(i,d):h==="children"?cl(i,d):ng(i,h,d,c)}switch(a){case"input":wp(i,s);break;case"textarea":tT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Js(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Js(i,!!s.multiple,s.defaultValue,!0):Js(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(w){Ve(t,t.return,w)}}break;case 6:if(bn(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ve(t,t.return,w)}}break;case 3:if(bn(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(w){Ve(t,t.return,w)}break;case 4:bn(e,t),Fn(t);break;case 13:bn(e,t),Fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mg=We())),r&4&&vw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||h,bn(e,t),Rt=c):bn(e,t),Fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(d=Y=h;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ja(4,f,f.return);break;case 1:Ys(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){Ve(r,n,w)}}break;case 5:Ys(f,f.return);break;case 22:if(f.memoizedState!==null){ww(d);continue}}g!==null?(g.return=f,Y=g):ww(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iT("display",o))}catch(w){Ve(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){Ve(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bn(e,t),Fn(t),r&4&&vw(t);break;case 21:break;default:bn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kS(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var s=gw(t);em(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gw(t);Zp(t,a,o);break;default:throw Error(F(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tD(t,e,n){Y=t,NS(t)}function NS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=tc;var c=Rt;if(tc=o,(Rt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?_w(i):l!==null?(l.return=o,Y=l):_w(i);for(;s!==null;)Y=s,NS(s),s=s.sibling;Y=i,tc=a,Rt=c}yw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):yw(t)}}function yw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&pl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Rt||e.flags&512&&Jp(e)}catch(f){Ve(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function ww(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function _w(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{td(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Jp(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Jp(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var nD=Math.ceil,uh=Cr.ReactCurrentDispatcher,Ng=Cr.ReactCurrentOwner,vn=Cr.ReactCurrentBatchConfig,fe=0,dt=null,Xe=null,yt=0,en=0,Qs=bi(0),rt=0,Il=null,ns=0,nd=0,Og=0,Za=null,zt=null,Mg=0,yo=1/0,cr=null,ch=!1,tm=null,ri=null,nc=!1,Qr=null,hh=0,el=0,nm=null,Ac=-1,Pc=0;function Vt(){return fe&6?We():Ac!==-1?Ac:Ac=We()}function ii(t){return t.mode&1?fe&2&&yt!==0?yt&-yt:Fk.transition!==null?(Pc===0&&(Pc=vT()),Pc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:bT(t.type)),t):1}function xn(t,e,n,r){if(50<el)throw el=0,nm=null,Error(F(185));Xl(t,n,r),(!(fe&2)||t!==dt)&&(t===dt&&(!(fe&2)&&(nd|=n),rt===4&&Wr(t,yt)),qt(t,r),n===1&&fe===0&&!(e.mode&1)&&(yo=We()+500,Jh&&Ii()))}function qt(t,e){var n=t.callbackNode;FR(t,e);var r=Kc(t,t===dt?yt:0);if(r===0)n!==null&&R0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R0(n),e===1)t.tag===0?Vk(Ew.bind(null,t)):BT(Ew.bind(null,t)),Ok(function(){!(fe&6)&&Ii()}),n=null;else{switch(yT(r)){case 1:n=ag;break;case 4:n=mT;break;case 16:n=Gc;break;case 536870912:n=gT;break;default:n=Gc}n=jS(n,OS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OS(t,e){if(Ac=-1,Pc=0,fe&6)throw Error(F(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=Kc(t,t===dt?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dh(t,r);else{e=r;var i=fe;fe|=2;var s=LS();(dt!==t||yt!==e)&&(cr=null,yo=We()+500,qi(t,e));do try{sD();break}catch(a){MS(t,a)}while(1);_g(),uh.current=s,fe=i,Xe!==null?e=0:(dt=null,yt=0,e=rt)}if(e!==0){if(e===2&&(i=Rp(t),i!==0&&(r=i,e=rm(t,i))),e===1)throw n=Il,qi(t,0),Wr(t,r),qt(t,We()),n;if(e===6)Wr(t,r);else{if(i=t.current.alternate,!(r&30)&&!rD(i)&&(e=dh(t,r),e===2&&(s=Rp(t),s!==0&&(r=s,e=rm(t,s))),e===1))throw n=Il,qi(t,0),Wr(t,r),qt(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:$i(t,zt,cr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Mg+500-We(),10<e)){if(Kc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$p($i.bind(null,t,zt,cr),e);break}$i(t,zt,cr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nD(r/1960))-r,10<r){t.timeoutHandle=$p($i.bind(null,t,zt,cr),r);break}$i(t,zt,cr);break;case 5:$i(t,zt,cr);break;default:throw Error(F(329))}}}return qt(t,We()),t.callbackNode===n?OS.bind(null,t):null}function rm(t,e){var n=Za;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=dh(t,e),t!==2&&(e=zt,zt=n,e!==null&&im(e)),t}function im(t){zt===null?zt=t:zt.push.apply(zt,t)}function rD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Og,e&=~nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function Ew(t){if(fe&6)throw Error(F(327));ro();var e=Kc(t,0);if(!(e&1))return qt(t,We()),null;var n=dh(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=rm(t,r))}if(n===1)throw n=Il,qi(t,0),Wr(t,e),qt(t,We()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,zt,cr),qt(t,We()),null}function Lg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(yo=We()+500,Jh&&Ii())}}function rs(t){Qr!==null&&Qr.tag===0&&!(fe&6)&&ro();var e=fe;fe|=1;var n=vn.transition,r=ve;try{if(vn.transition=null,ve=1,t)return t()}finally{ve=r,vn.transition=n,fe=e,!(fe&6)&&Ii()}}function $g(){en=Qs.current,Re(Qs)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(vg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zc();break;case 3:go(),Re(Wt),Re(Dt),Ag();break;case 5:Ig(r);break;case 4:go();break;case 13:Re(xe);break;case 19:Re(xe);break;case 10:Eg(r.type._context);break;case 22:case 23:$g()}n=n.return}if(dt=t,Xe=t=si(t.current,null),yt=en=e,rt=0,Il=null,Og=nd=ns=0,zt=Za=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bi=null}return t}function MS(t,e){do{var n=Xe;try{if(_g(),Sc.current=lh,ah){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ah=!1}if(ts=0,ut=nt=Oe=null,Xa=!1,Tl=0,Ng.current=null,n===null||n.return===null){rt=1,Il=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=lw(o);if(g!==null){g.flags&=-257,uw(g,o,a,s,e),g.mode&1&&aw(s,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var w=new Set;w.add(l),e.updateQueue=w}else E.add(l);break e}else{if(!(e&1)){aw(s,c,e),Vg();break e}l=Error(F(426))}}else if(De&&a.mode&1){var C=lw(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),uw(C,o,a,s,e),yg(vo(l,a));break e}}s=l=vo(l,a),rt!==4&&(rt=2),Za===null?Za=[s]:Za.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=yS(s,l,e);tw(s,T);break e;case 1:a=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ri===null||!ri.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=wS(s,a,e);tw(s,k);break e}}s=s.return}while(s!==null)}VS(n)}catch(N){e=N,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(1)}function LS(){var t=uh.current;return uh.current=lh,t===null?lh:t}function Vg(){(rt===0||rt===3||rt===2)&&(rt=4),dt===null||!(ns&268435455)&&!(nd&268435455)||Wr(dt,yt)}function dh(t,e){var n=fe;fe|=2;var r=LS();(dt!==t||yt!==e)&&(cr=null,qi(t,e));do try{iD();break}catch(i){MS(t,i)}while(1);if(_g(),fe=n,uh.current=r,Xe!==null)throw Error(F(261));return dt=null,yt=0,rt}function iD(){for(;Xe!==null;)$S(Xe)}function sD(){for(;Xe!==null&&!kR();)$S(Xe)}function $S(t){var e=US(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?VS(t):Xe=e,Ng.current=null}function VS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jk(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Xe=null;return}}else if(n=Xk(n,e,en),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);rt===0&&(rt=5)}function $i(t,e,n){var r=ve,i=vn.transition;try{vn.transition=null,ve=1,oD(t,e,n,r)}finally{vn.transition=i,ve=r}return null}function oD(t,e,n,r){do ro();while(Qr!==null);if(fe&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UR(t,s),t===dt&&(Xe=dt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,jS(Gc,function(){return ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Ng.current=null,eD(t,n),xS(n,t),Ak(Mp),Yc=!!Op,Mp=Op=null,t.current=n,tD(n),DR(),fe=a,ve=o,vn.transition=s}else t.current=n;if(nc&&(nc=!1,Qr=t,hh=i),s=t.pendingLanes,s===0&&(ri=null),OR(n.stateNode),qt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ch)throw ch=!1,t=tm,tm=null,t;return hh&1&&t.tag!==0&&ro(),s=t.pendingLanes,s&1?t===nm?el++:(el=0,nm=t):el=0,Ii(),null}function ro(){if(Qr!==null){var t=yT(hh),e=vn.transition,n=ve;try{if(vn.transition=null,ve=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,hh=0,fe&6)throw Error(F(331));var i=fe;for(fe|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:Ja(8,h,s)}var d=h.child;if(d!==null)d.return=h,Y=d;else for(;Y!==null;){h=Y;var f=h.sibling,g=h.return;if(RS(h),h===c){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var E=s.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ja(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,Y=T;break e}Y=s.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:td(9,a)}}catch(N){Ve(a,a.return,N)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(fe=i,Ii(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Gh,t)}catch{}r=!0}return r}finally{ve=n,vn.transition=e}}return!1}function Tw(t,e,n){e=vo(n,e),e=yS(t,e,1),t=ni(t,e,1),e=Vt(),t!==null&&(Xl(t,1,e),qt(t,e))}function Ve(t,e,n){if(t.tag===3)Tw(t,t,n);else for(;e!==null;){if(e.tag===3){Tw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=vo(n,t),t=wS(e,t,1),e=ni(e,t,1),t=Vt(),e!==null&&(Xl(e,1,t),qt(e,t));break}}e=e.return}}function aD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(yt&n)===n&&(rt===4||rt===3&&(yt&130023424)===yt&&500>We()-Mg?qi(t,0):Og|=n),qt(t,e)}function FS(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var n=Vt();t=wr(t,e),t!==null&&(Xl(t,e,n),qt(t,n))}function lD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FS(t,n)}function uD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),FS(t,n)}var US;US=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,Qk(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,De&&e.flags&1048576&&WT(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=fo(e,Dt.current);no(e,n),i=Cg(null,e,r,t,i,n);var s=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sg(e),i.updater=ed,e.stateNode=i,i._reactInternals=e,Wp(e,r,t,n),e=Gp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&gg(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hD(r),t=In(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=dw(null,e,r,t,n);break e;case 11:e=cw(null,e,r,t,n);break e;case 14:e=hw(null,e,r,In(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),dw(t,e,r,i,n);case 3:e:{if(SS(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,QT(t,e),sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(F(423)),e),e=fw(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(F(424)),e),e=fw(t,e,r,n,i);break e}else for(nn=ti(e.stateNode.containerInfo.firstChild),rn=e,De=!0,Pn=null,n=KT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(po(),r===i){e=_r(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return XT(e),t===null&&jp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lp(r,i)?o=null:s!==null&&Lp(r,s)&&(e.flags|=32),TS(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&jp(e),null;case 13:return bS(t,e,n);case 4:return bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mo(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),cw(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(rh,r._currentValue),r._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!Wt.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=yn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),hw(t,e,r,i,n);case 15:return _S(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Ic(t,e),e.tag=1,Ht(r)?(t=!0,eh(e)):t=!1,no(e,n),vS(e,r,i),Wp(e,r,i,n),Gp(null,e,r,!0,t,n);case 19:return IS(t,e,n);case 22:return ES(t,e,n)}throw Error(F(156,e.tag))};function jS(t,e){return pT(t,e)}function cD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new cD(t,e,n,r)}function Fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hD(t){if(typeof t=="function")return Fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ig)return 11;if(t===sg)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return Gi(n.children,i,s,e);case rg:o=8,i|=8;break;case pp:return t=gn(12,n,e,i|2),t.elementType=pp,t.lanes=s,t;case mp:return t=gn(13,n,e,i),t.elementType=mp,t.lanes=s,t;case gp:return t=gn(19,n,e,i),t.elementType=gp,t.lanes=s,t;case X1:return rd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y1:o=10;break e;case Q1:o=9;break e;case ig:o=11;break e;case sg:o=14;break e;case jr:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Gi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function rd(t,e,n,r){return t=gn(22,t,r,e),t.elementType=X1,t.lanes=n,t.stateNode={isHidden:!1},t}function Uf(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function jf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ug(t,e,n,r,i,s,o,a,l){return t=new dD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sg(s),t}function fD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zS(t){if(!t)return fi;t=t._reactInternals;e:{if(ys(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Ht(n))return zT(t,n,e)}return e}function BS(t,e,n,r,i,s,o,a,l){return t=Ug(n,r,!0,t,i,s,o,a,l),t.context=zS(null),n=t.current,r=Vt(),i=ii(n),s=gr(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,Xl(t,i,r),qt(t,r),t}function id(t,e,n,r){var i=e.current,s=Vt(),o=ii(i);return n=zS(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(xn(t,i,o,s),Tc(t,i,o)),o}function fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jg(t,e){Sw(t,e),(t=t.alternate)&&Sw(t,e)}function pD(){return null}var WS=typeof reportError=="function"?reportError:function(t){console.error(t)};function zg(t){this._internalRoot=t}sd.prototype.render=zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));id(t,e,null,null)};sd.prototype.unmount=zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){id(null,t,null,null)}),e[yr]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ET();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&ST(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function mD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fh(o);s.call(c)}}var o=BS(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[yr]=o.current,vl(t.nodeType===8?t.parentNode:t),rs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fh(l);a.call(c)}}var l=Ug(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=l,t[yr]=l.current,vl(t.nodeType===8?t.parentNode:t),rs(function(){id(e,l,n,r)}),l}function ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fh(o);a.call(l)}}id(e,o,t,i)}else o=mD(n,e,t,i,r);return fh(o)}wT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Va(e.pendingLanes);n!==0&&(lg(e,n|1),qt(e,We()),!(fe&6)&&(yo=We()+500,Ii()))}break;case 13:rs(function(){var r=wr(t,1);if(r!==null){var i=Vt();xn(r,t,1,i)}}),jg(t,1)}};ug=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Vt();xn(e,t,134217728,n)}jg(t,134217728)}};_T=function(t){if(t.tag===13){var e=ii(t),n=wr(t,e);if(n!==null){var r=Vt();xn(n,t,e,r)}jg(t,e)}};ET=function(){return ve};TT=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Ap=function(t,e,n){switch(e){case"input":if(wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xh(r);if(!i)throw Error(F(90));Z1(r),wp(r,i)}}}break;case"textarea":tT(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};lT=Lg;uT=rs;var gD={usingClientEntryPoint:!1,Events:[Zl,Ws,Xh,oT,aT,Lg]},Da={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vD={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dT(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||pD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Gh=rc.inject(vD),Kn=rc}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(F(200));return fD(t,e,null,n)};an.createRoot=function(t,e){if(!Bg(t))throw Error(F(299));var n=!1,r="",i=WS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ug(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,vl(t.nodeType===8?t.parentNode:t),new zg(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=dT(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return rs(t)};an.hydrate=function(t,e,n){if(!od(e))throw Error(F(200));return ad(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BS(e,null,t,1,n??null,i,!1,s,o),t[yr]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sd(e)};an.render=function(t,e,n){if(!od(e))throw Error(F(200));return ad(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!od(t))throw Error(F(40));return t._reactRootContainer?(rs(function(){ad(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};an.unstable_batchedUpdates=Lg;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!od(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return ad(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function HS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HS)}catch(t){console.error(t)}}HS(),H1.exports=an;var qS=H1.exports;const GS=Qt(qS);var Iw=qS;dp.createRoot=Iw.createRoot,dp.hydrateRoot=Iw.hydrateRoot;const yD=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new _D;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(t){const e=KS(t);return YS.encodeByteArray(e,!0)},ph=function(t){return ED(t).replace(/\./g,"")},QS=function(t){try{return YS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=()=>TD().__FIREBASE_DEFAULTS__,bD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ID=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QS(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return yD()||SD()||bD()||ID()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XS=t=>{var e,n;return(n=(e=ld())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JS=t=>{const e=XS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZS=()=>{var t;return(t=ld())==null?void 0:t.config},eb=t=>{var e;return(e=ld())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[ph(JSON.stringify(n)),ph(JSON.stringify(o)),a].join(".")}const tl={};function CD(){const t={prod:[],emulator:[]};for(const e of Object.keys(tl))tl[e]?t.emulator.push(e):t.prod.push(e);return t}function RD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Aw=!1;function Hg(t,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||tl[t]===e||tl[t]||Aw)return;tl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=CD().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Aw=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=RD(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),T=n("preprendIcon"),y=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;a(b),h(C,w);const k=c();l(y,T),b.append(y,E,C,k),document.body.appendChild(b)}s?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function DD(){var e;const t=(e=ld())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ND(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MD(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LD(){return!DD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $D(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FD,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function UD(t,e){return t.replace(jD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jD=/\{\$([^}]+)}/g;function zD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function is(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pw(s)&&Pw(o)){if(!is(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BD(t,e){const n=new WD(t,e);return n.subscribe.bind(n)}class WD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zf),i.error===void 0&&(i.error=zf),i.complete===void 0&&(i.complete=zf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GD(t){return t===Vi?void 0:t}function KD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const QD={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},XD=ue.INFO,JD={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},ZD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qg{constructor(e){this.name=e,this._logLevel=XD,this._logHandler=ZD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const ex=(t,e)=>e.some(n=>t instanceof n);let Cw,Rw;function tx(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,sm=new WeakMap,nb=new WeakMap,Bf=new WeakMap,Gg=new WeakMap;function rx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tb.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function ix(t){if(sm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sm.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sx(t){om=t(om)}function ox(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wf(this),e,...n);return nb.set(r,e.sort?e.sort():[e]),oi(r)}:nx().includes(t)?function(...e){return t.apply(Wf(this),e),oi(tb.get(this))}:function(...e){return oi(t.apply(Wf(this),e))}}function ax(t){return typeof t=="function"?ox(t):(t instanceof IDBTransaction&&ix(t),ex(t,tx())?new Proxy(t,om):t)}function oi(t){if(t instanceof IDBRequest)return rx(t);if(Bf.has(t))return Bf.get(t);const e=ax(t);return e!==t&&(Bf.set(t,e),Gg.set(e,t)),e}const Wf=t=>Gg.get(t);function lx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oi(o.result),l.oldVersion,l.newVersion,oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],Hf=new Map;function kw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hf.get(e))return Hf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ux.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Hf.set(e,s),s}sx(t=>({...t,get:(e,n,r)=>kw(e,n)||t.get(e,n,r),has:(e,n)=>!!kw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",Dw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new qg("@firebase/app"),fx="@firebase/app-compat",px="@firebase/analytics-compat",mx="@firebase/analytics",gx="@firebase/app-check-compat",vx="@firebase/app-check",yx="@firebase/auth",wx="@firebase/auth-compat",_x="@firebase/database",Ex="@firebase/data-connect",Tx="@firebase/database-compat",Sx="@firebase/functions",bx="@firebase/functions-compat",Ix="@firebase/installations",Ax="@firebase/installations-compat",Px="@firebase/messaging",Cx="@firebase/messaging-compat",Rx="@firebase/performance",kx="@firebase/performance-compat",Dx="@firebase/remote-config",xx="@firebase/remote-config-compat",Nx="@firebase/storage",Ox="@firebase/storage-compat",Mx="@firebase/firestore",Lx="@firebase/ai",$x="@firebase/firestore-compat",Vx="firebase",Fx="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",Ux={[am]:"fire-core",[fx]:"fire-core-compat",[mx]:"fire-analytics",[px]:"fire-analytics-compat",[vx]:"fire-app-check",[gx]:"fire-app-check-compat",[yx]:"fire-auth",[wx]:"fire-auth-compat",[_x]:"fire-rtdb",[Ex]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Sx]:"fire-fn",[bx]:"fire-fn-compat",[Ix]:"fire-iid",[Ax]:"fire-iid-compat",[Px]:"fire-fcm",[Cx]:"fire-fcm-compat",[Rx]:"fire-perf",[kx]:"fire-perf-compat",[Dx]:"fire-rc",[xx]:"fire-rc-compat",[Nx]:"fire-gcs",[Ox]:"fire-gcs-compat",[Mx]:"fire-fst",[$x]:"fire-fst-compat",[Lx]:"fire-vertex","fire-js":"fire-js",[Vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,jx=new Map,um=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ss(t){const e=t.name;if(um.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of mh.values())xw(n,t);for(const n of jx.values())xw(n,t);return!0}function ud(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new tu("app","Firebase",zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=Fx;function rb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=ZS()),!n)throw ai.create("no-options");const s=mh.get(i);if(s){if(is(n,s.options)&&is(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const o=new YD(i);for(const l of um.values())o.addComponent(l);const a=new Bx(n,r,o);return mh.set(i,a),a}function Kg(t=lm){const e=mh.get(t);if(!e&&t===lm&&ZS())return rb();if(!e)throw ai.create("no-app",{appName:t});return e}function Qn(t,e,n){let r=Ux[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(o.join(" "));return}ss(new pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebase-heartbeat-database",Hx=1,Al="firebase-heartbeat-store";let qf=null;function ib(){return qf||(qf=lx(Wx,Hx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),qf}async function qx(t){try{const n=(await ib()).transaction(Al),r=await n.objectStore(Al).get(sb(t));return await n.done,r}catch(e){if(e instanceof Rr)Er.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function Nw(t,e){try{const r=(await ib()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,sb(t)),await r.done}catch(n){if(n instanceof Rr)Er.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(r.message)}}}function sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=1024,Kx=30;class Yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ow();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Kx){const o=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ow(),{heartbeatsToSend:r,unsentEntries:i}=Qx(this._heartbeatsCache.heartbeats),s=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Er.warn(n),""}}}function Ow(){return new Date().toISOString().substring(0,10)}function Qx(t,e=Gx){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $D()?VD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function Jx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){ss(new pi("platform-logger",e=>new hx(e),"PRIVATE")),ss(new pi("heartbeat",e=>new Yx(e),"PRIVATE")),Qn(am,Dw,t),Qn(am,Dw,"esm2020"),Qn("fire-js","")}Zx("");function ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=ob,ab=new tu("auth","Firebase",ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new qg("@firebase/auth");function tN(t,...e){gh.logLevel<=ue.WARN&&gh.warn(`Auth (${Lo}): ${t}`,...e)}function Rc(t,...e){gh.logLevel<=ue.ERROR&&gh.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw Yg(t,...e)}function Xn(t,...e){return Yg(t,...e)}function lb(t,e,n){const r={...eN(),[e]:n};return new tu("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return lb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ab.create(t,...e)}function J(t,e,...n){if(!t)throw Yg(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function Tr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nN(){return Lw()==="http:"||Lw()==="https:"}function Lw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||ND()||"connection"in navigator)?navigator.onLine:!0}function iN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=kD()||OD()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){Tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aN=new ru(3e4,6e4);function _s(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ai(t,e,n,r,i={}){return cb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return xD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ws(t.emulatorConfig.host)&&(c.credentials="include"),ub.fetch()(await hb(t,t.config.apiHost,n,a),c)})}async function cb(t,e,n){t._canInitEmulator=!1;const r={...sN,...e};try{const i=new uN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ic(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lb(t,h,c);On(t,h)}}catch(i){if(i instanceof Rr)throw i;On(t,"network-request-failed",{message:String(i)})}}async function cd(t,e,n,r,i={}){const s=await Ai(t,e,n,r,i);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function hb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Qg(t.config,i):`${t.config.apiScheme}://${i}`;return oN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function lN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),aN.get())})}}function ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function $w(t){return t!==void 0&&t.enterprise!==void 0}class cN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hN(t,e){return Ai(t,"GET","/v2/recaptchaConfig",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){return Ai(t,"POST","/v1/accounts:delete",e)}async function vh(t,e){return Ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fN(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Xg(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nl(Gf(i.auth_time)),issuedAtTime:nl(Gf(i.iat)),expirationTime:nl(Gf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Gf(t){return Number(t)*1e3}function Xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=QS(n);return i?JSON.parse(i):(Rc("Failed to decode base64 JWT payload"),null)}catch(i){return Rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Vw(t){const e=Xg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&pN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Pl(t,vh(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?db(i.providerUserInfo):[],o=vN(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function gN(t){const e=_t(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function db(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){const n=await cb(t,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await hb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ws(t.emulatorConfig.host)&&(l.credentials="include"),ub.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wN(t,e){return Ai(t,"POST","/v2/accounts:revokeToken",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new io;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fN(this,e)}reload(){return gN(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Pl(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:g,providerData:E,stsTokenManager:w}=n;J(d&&w,e,"internal-error");const C=io.fromJSON(this.name,w);J(typeof d=="string",e,"internal-error"),Fr(r,e.name),Fr(i,e.name),J(typeof f=="boolean",e,"internal-error"),J(typeof g=="boolean",e,"internal-error"),Fr(s,e.name),Fr(o,e.name),Fr(a,e.name),Fr(l,e.name),Fr(c,e.name),Fr(h,e.name);const T=new Cn({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:c,lastLoginAt:h});return E&&Array.isArray(E)&&(T.providerData=E.map(y=>({...y}))),l&&(T._redirectEventId=l),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new io;i.updateFromServerResponse(n);const s=new Cn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?db(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new io;a.updateFromIdToken(r);const l=new Cn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function mr(t){Tr(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fb.type="NONE";const Uw=fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kc(this.userKey,i.apiKey,s),this.fullPersistenceKey=kc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(mr(Uw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||mr(Uw);const o=kc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await vh(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Cn._fromGetAccountInfoResponse(e,f,h)}else d=Cn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new so(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new so(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(_b(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pb(t=xt()){return/firefox\//i.test(t)}function mb(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(t=xt()){return/crios\//i.test(t)}function vb(t=xt()){return/iemobile/i.test(t)}function yb(t=xt()){return/android/i.test(t)}function wb(t=xt()){return/blackberry/i.test(t)}function _b(t=xt()){return/webos/i.test(t)}function Jg(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _N(t=xt()){var e;return Jg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function EN(){return MD()&&document.documentMode===10}function Eb(t=xt()){return Jg(t)||yb(t)||_b(t)||wb(t)||/windows phone/i.test(t)||vb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e=[]){let n;switch(t){case"Browser":n=jw(xt());break;case"Worker":n=`${jw(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e={}){return Ai(t,"GET","/v2/passwordPolicy",_s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class IN{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zw(this),this.idTokenSubscription=new zw(this),this.beforeStateQueue=new TN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(li(this));const n=e?_t(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SN(this),n=new IN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&tN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $o(t){return _t(t)}class zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(t){hd=t}function Sb(t){return hd.loadJS(t)}function CN(){return hd.recaptchaEnterpriseScript}function RN(){return hd.gapiScript}function kN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new xN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NN="recaptcha-enterprise",bb="NO_RECAPTCHA";class ON{constructor(e){this.type=NN,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new cN(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$w(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(bb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$w(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CN();l.length!==0&&(l+=a),Sb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function xa(t,e,n,r=!1,i=!1){const s=new ON(t);let o;if(i)o=bb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bw(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await xa(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await xa(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await xa(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await xa(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const a=await xa(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e){const n=ud(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(is(s,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function LN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $N(t,e,n){const r=$o(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ib(e),{host:o,port:a}=VN(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(is(c,r.config.emulator)&&is(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ws(o)?(Wg(`${s}//${o}${l}`),Hg("Auth",!0)):i||FN()}function Ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VN(t){const e=Ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ww(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ww(o)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function UN(t,e){return Ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}async function BN(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Zg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,n,"signInWithPassword",jN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zN(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,r,"signUpPassword",UN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return BN(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class os extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new os(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qN(t){const e=Ua(ja(t)).link,n=e?Ua(ja(e)).deep_link_id:null,r=Ua(ja(t)).deep_link_id;return(r?Ua(ja(r)).link:null)||r||n||e||t}class ev{constructor(e){const n=Ua(ja(e)),r=n.apiKey??null,i=n.oobCode??null,s=HN(n.mode??null);J(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qN(e);try{return new ev(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return Cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ev.parseLink(n);return J(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends iu{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends iu{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends iu{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cn._fromIdTokenResponse(e,r,i),o=Hw(r);return new wo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hw(r);return new wo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends Rr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wh(e,n,r,i)}}function Pb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(t,s,e,r):s})}async function GN(t,e,n=!1){const r=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e,n=!1){const{auth:r}=t;if(dn(r.app))return Promise.reject(li(r));const i="reauthenticate";try{const s=await Pl(t,Pb(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Xg(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),wo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&On(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(t,e,n=!1){if(dn(t.app))return Promise.reject(li(t));const r="signIn",i=await Pb(t,r,e),s=await wo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function YN(t,e){return Cb($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function XN(t,e,n){return dn(t.app)?Promise.reject(li(t)):YN(_t(t),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QN(t),r})}function JN(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function ZN(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function eO(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function Rb(t){return _t(t).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1e3,nO=10;class Db extends kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const rO=Db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Nb=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await iO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=tv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function oO(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function aO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uO(){return Ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebaseLocalStorageDb",cO=1,Eh="firebaseLocalStorage",Lb="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function hO(){const t=indexedDB.deleteDatabase(Mb);return new su(t).toPromise()}function dm(){const t=indexedDB.open(Mb,cO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eh,{keyPath:Lb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await hO(),e(await dm()))})})}async function qw(t,e,n){const r=fd(t,!0).put({[Lb]:e,value:n});return new su(r).toPromise()}async function dO(t,e){const n=fd(t,!1).get(e),r=await new su(n).toPromise();return r===void 0?null:r.value}function Gw(t,e){const n=fd(t,!0).delete(e);return new su(n).toPromise()}const fO=800,pO=3;class $b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(uO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await aO(),!this.activeServiceWorker)return;this.sender=new sO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await qw(e,_h,"1"),await Gw(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fd(i,!1).getAll();return new su(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$b.type="LOCAL";const mO=$b;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){return e?mr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vO(t){return Cb(t.auth,new nv(t),t.bypassAuthState)}function yO(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),KN(n,new nv(t),t.bypassAuthState)}async function wO(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),GN(n,new nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vO;case"linkViaPopup":case"linkViaRedirect":return wO;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:On(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new ru(2e3,1e4);class Xs extends Vb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_O.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="pendingRedirect",Dc=new Map;class TO extends Vb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(t,e){const n=AO(e),r=IO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bO(t,e){Dc.set(t._key(),e)}function IO(t){return mr(t._redirectPersistence)}function AO(t){return kc(EO,t.config.apiKey,t.name)}async function PO(t,e,n=!1){if(dn(t.app))return Promise.reject(li(t));const r=$o(t),i=gO(r,e),o=await new TO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=10*60*1e3;class RO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Fb(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Fb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e={}){return Ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NO=/^https?/;async function OO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DO(t);for(const n of e)try{if(MO(n))return}catch{}On(t,"unauthorized-domain")}function MO(t){const e=cm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NO.test(n))return!1;if(xO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new ru(3e4,6e4);function Yw(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $O(t){return new Promise((e,n)=>{var i,s,o;function r(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(Xn(t,"network-request-failed"))},timeout:LO.get()})}if((s=(i=Jn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Jn().gapi)!=null&&o.load)r();else{const a=kN("iframefcb");return Jn()[a]=()=>{gapi.load?r():n(Xn(t,"network-request-failed"))},Sb(`${RN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xc=null,e})}let xc=null;function VO(t){return xc=xc||$O(t),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new ru(5e3,15e3),UO="__/auth/iframe",jO="emulator/auth/iframe",zO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qg(e,jO):`https://${t.config.authDomain}/${UO}`,r={apiKey:e.apiKey,appName:t.name,v:Lo},i=BO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nu(r).slice(1)}`}async function HO(t){const e=await VO(t),n=Jn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:WO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=Jn().setTimeout(()=>{s(o)},FO.get());function l(){Jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GO=500,KO=600,YO="_blank",QO="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XO(t,e,n,r=GO,i=KO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...qO,width:r.toString(),height:i.toString(),top:s,left:o},c=xt().toLowerCase();n&&(a=gb(c)?YO:n),pb(c)&&(e=e||QO,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,E])=>`${f}${g}=${E},`,"");if(_N(c)&&a!=="_self")return JO(e||"",a),new Qw(null);const d=window.open(e||"",a,h);J(d,t,"popup-blocked");try{d.focus()}catch{}return new Qw(d)}function JO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="__/auth/handler",e2="emulator/auth/handler",t2=encodeURIComponent("fac");async function Xw(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lo,eventId:i};if(e instanceof Ab){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof iu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${t2}=${encodeURIComponent(l)}`:"";return`${n2(t)}?${nu(a).slice(1)}${c}`}function n2({config:t}){return t.emulator?Qg(t,e2):`https://${t.authDomain}/${ZO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=PO,this._overrideRedirectResult=bO}async _openPopup(e,n,r,i){var o;Tr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Xw(e,n,r,cm(),i);return XO(e,s,tv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Xw(e,n,r,cm(),i);return oO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await HO(e),r=new RO(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kf,{type:Kf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Kf];s!==void 0&&n(!!s),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eb()||mb()||Jg()}}const i2=r2;var Jw="@firebase/auth",Zw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(t){ss(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tb(t)},c=new AN(r,i,s,l);return LN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ss(new pi("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new s2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(Jw,Zw,o2(t)),Qn(Jw,Zw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=5*60,u2=eb("authIdTokenMaxAge")||l2;let e_=null;const c2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u2)return;const i=n==null?void 0:n.token;e_!==i&&(e_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h2(t=Kg()){const e=ud(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MN(t,{popupRedirectResolver:i2,persistence:[mO,rO,Nb]}),r=eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=c2(s.toString());ZN(n,o,()=>o(n.currentUser)),JN(n,a=>o(a))}}const i=XS("auth");return i&&$N(n,`http://${i}`),n}function d2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}PN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",d2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var f2="firebase",p2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(f2,p2,"app");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,Ub;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function S(){}S.prototype=_.prototype,I.F=_.prototype,I.prototype=new S,I.prototype.constructor=I,I.D=function(P,D,x){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return _.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,S){S||(S=0);const P=Array(16);if(typeof _=="string")for(var D=0;D<16;++D)P[D]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(D=0;D<16;++D)P[D]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=I.g[0],S=I.g[1],D=I.g[2];let x=I.g[3],R;R=_+(x^S&(D^x))+P[0]+3614090360&4294967295,_=S+(R<<7&4294967295|R>>>25),R=x+(D^_&(S^D))+P[1]+3905402710&4294967295,x=_+(R<<12&4294967295|R>>>20),R=D+(S^x&(_^S))+P[2]+606105819&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(_^D&(x^_))+P[3]+3250441966&4294967295,S=D+(R<<22&4294967295|R>>>10),R=_+(x^S&(D^x))+P[4]+4118548399&4294967295,_=S+(R<<7&4294967295|R>>>25),R=x+(D^_&(S^D))+P[5]+1200080426&4294967295,x=_+(R<<12&4294967295|R>>>20),R=D+(S^x&(_^S))+P[6]+2821735955&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(_^D&(x^_))+P[7]+4249261313&4294967295,S=D+(R<<22&4294967295|R>>>10),R=_+(x^S&(D^x))+P[8]+1770035416&4294967295,_=S+(R<<7&4294967295|R>>>25),R=x+(D^_&(S^D))+P[9]+2336552879&4294967295,x=_+(R<<12&4294967295|R>>>20),R=D+(S^x&(_^S))+P[10]+4294925233&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(_^D&(x^_))+P[11]+2304563134&4294967295,S=D+(R<<22&4294967295|R>>>10),R=_+(x^S&(D^x))+P[12]+1804603682&4294967295,_=S+(R<<7&4294967295|R>>>25),R=x+(D^_&(S^D))+P[13]+4254626195&4294967295,x=_+(R<<12&4294967295|R>>>20),R=D+(S^x&(_^S))+P[14]+2792965006&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(_^D&(x^_))+P[15]+1236535329&4294967295,S=D+(R<<22&4294967295|R>>>10),R=_+(D^x&(S^D))+P[1]+4129170786&4294967295,_=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(_^S))+P[6]+3225465664&4294967295,x=_+(R<<9&4294967295|R>>>23),R=D+(_^S&(x^_))+P[11]+643717713&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^_&(D^x))+P[0]+3921069994&4294967295,S=D+(R<<20&4294967295|R>>>12),R=_+(D^x&(S^D))+P[5]+3593408605&4294967295,_=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(_^S))+P[10]+38016083&4294967295,x=_+(R<<9&4294967295|R>>>23),R=D+(_^S&(x^_))+P[15]+3634488961&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^_&(D^x))+P[4]+3889429448&4294967295,S=D+(R<<20&4294967295|R>>>12),R=_+(D^x&(S^D))+P[9]+568446438&4294967295,_=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(_^S))+P[14]+3275163606&4294967295,x=_+(R<<9&4294967295|R>>>23),R=D+(_^S&(x^_))+P[3]+4107603335&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^_&(D^x))+P[8]+1163531501&4294967295,S=D+(R<<20&4294967295|R>>>12),R=_+(D^x&(S^D))+P[13]+2850285829&4294967295,_=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(_^S))+P[2]+4243563512&4294967295,x=_+(R<<9&4294967295|R>>>23),R=D+(_^S&(x^_))+P[7]+1735328473&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^_&(D^x))+P[12]+2368359562&4294967295,S=D+(R<<20&4294967295|R>>>12),R=_+(S^D^x)+P[5]+4294588738&4294967295,_=S+(R<<4&4294967295|R>>>28),R=x+(_^S^D)+P[8]+2272392833&4294967295,x=_+(R<<11&4294967295|R>>>21),R=D+(x^_^S)+P[11]+1839030562&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^_)+P[14]+4259657740&4294967295,S=D+(R<<23&4294967295|R>>>9),R=_+(S^D^x)+P[1]+2763975236&4294967295,_=S+(R<<4&4294967295|R>>>28),R=x+(_^S^D)+P[4]+1272893353&4294967295,x=_+(R<<11&4294967295|R>>>21),R=D+(x^_^S)+P[7]+4139469664&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^_)+P[10]+3200236656&4294967295,S=D+(R<<23&4294967295|R>>>9),R=_+(S^D^x)+P[13]+681279174&4294967295,_=S+(R<<4&4294967295|R>>>28),R=x+(_^S^D)+P[0]+3936430074&4294967295,x=_+(R<<11&4294967295|R>>>21),R=D+(x^_^S)+P[3]+3572445317&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^_)+P[6]+76029189&4294967295,S=D+(R<<23&4294967295|R>>>9),R=_+(S^D^x)+P[9]+3654602809&4294967295,_=S+(R<<4&4294967295|R>>>28),R=x+(_^S^D)+P[12]+3873151461&4294967295,x=_+(R<<11&4294967295|R>>>21),R=D+(x^_^S)+P[15]+530742520&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^_)+P[2]+3299628645&4294967295,S=D+(R<<23&4294967295|R>>>9),R=_+(D^(S|~x))+P[0]+4096336452&4294967295,_=S+(R<<6&4294967295|R>>>26),R=x+(S^(_|~D))+P[7]+1126891415&4294967295,x=_+(R<<10&4294967295|R>>>22),R=D+(_^(x|~S))+P[14]+2878612391&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~_))+P[5]+4237533241&4294967295,S=D+(R<<21&4294967295|R>>>11),R=_+(D^(S|~x))+P[12]+1700485571&4294967295,_=S+(R<<6&4294967295|R>>>26),R=x+(S^(_|~D))+P[3]+2399980690&4294967295,x=_+(R<<10&4294967295|R>>>22),R=D+(_^(x|~S))+P[10]+4293915773&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~_))+P[1]+2240044497&4294967295,S=D+(R<<21&4294967295|R>>>11),R=_+(D^(S|~x))+P[8]+1873313359&4294967295,_=S+(R<<6&4294967295|R>>>26),R=x+(S^(_|~D))+P[15]+4264355552&4294967295,x=_+(R<<10&4294967295|R>>>22),R=D+(_^(x|~S))+P[6]+2734768916&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~_))+P[13]+1309151649&4294967295,S=D+(R<<21&4294967295|R>>>11),R=_+(D^(S|~x))+P[4]+4149444226&4294967295,_=S+(R<<6&4294967295|R>>>26),R=x+(S^(_|~D))+P[11]+3174756917&4294967295,x=_+(R<<10&4294967295|R>>>22),R=D+(_^(x|~S))+P[2]+718787259&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~_))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+x&4294967295}r.prototype.v=function(I,_){_===void 0&&(_=I.length);const S=_-this.blockSize,P=this.C;let D=this.h,x=0;for(;x<_;){if(D==0)for(;x<=S;)i(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<_;)if(P[D++]=I.charCodeAt(x++),D==this.blockSize){i(this,P),D=0;break}}else for(;x<_;)if(P[D++]=I[x++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=_},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;_=this.o*8;for(var S=I.length-8;S<I.length;++S)I[S]=_&255,_/=256;for(this.v(I),I=Array(16),_=0,S=0;S<4;++S)for(let P=0;P<32;P+=8)I[_++]=this.g[S]>>>P&255;return I};function s(I,_){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=_(I)}function o(I,_){this.h=_;const S=[];let P=!0;for(let D=I.length-1;D>=0;D--){const x=I[D]|0;P&&x==_||(S[D]=x,P=!1)}this.g=S}var a={};function l(I){return-128<=I&&I<128?s(I,function(_){return new o([_|0],_<0?-1:0)}):new o([I|0],I<0?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return C(c(-I));const _=[];let S=1;for(let P=0;I>=S;P++)_[P]=I/S|0,S*=4294967296;return new o(_,0)}function h(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return C(h(I.substring(1),_));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(_,8));let P=d;for(let x=0;x<I.length;x+=8){var D=Math.min(8,I.length-x);const R=parseInt(I.substring(x,x+D),_);D<8?(D=c(Math.pow(_,D)),P=P.j(D).add(c(R))):(P=P.j(S),P=P.add(c(R)))}return P}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-C(this).m();let I=0,_=1;for(let S=0;S<this.g.length;S++){const P=this.i(S);I+=(P>=0?P:4294967296+P)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(w(this))return"-"+C(this).toString(I);const _=c(Math.pow(I,6));var S=this;let P="";for(;;){const D=k(S,_).g;S=T(S,D.j(_));let x=((S.g.length>0?S.g[0]:S.h)>>>0).toString(I);if(S=D,E(S))return x+P;for(;x.length<6;)x="0"+x;P=x+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=T(this,I),w(I)?-1:E(I)?0:1};function C(I){const _=I.g.length,S=[];for(let P=0;P<_;P++)S[P]=~I.g[P];return new o(S,~I.h).add(f)}t.abs=function(){return w(this)?C(this):this},t.add=function(I){const _=Math.max(this.g.length,I.g.length),S=[];let P=0;for(let D=0;D<=_;D++){let x=P+(this.i(D)&65535)+(I.i(D)&65535),R=(x>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);P=R>>>16,x&=65535,R&=65535,S[D]=R<<16|x}return new o(S,S[S.length-1]&-2147483648?-1:0)};function T(I,_){return I.add(C(_))}t.j=function(I){if(E(this)||E(I))return d;if(w(this))return w(I)?C(this).j(C(I)):C(C(this).j(I));if(w(I))return C(this.j(C(I)));if(this.l(g)<0&&I.l(g)<0)return c(this.m()*I.m());const _=this.g.length+I.g.length,S=[];for(var P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<I.g.length;D++){const x=this.i(P)>>>16,R=this.i(P)&65535,H=I.i(D)>>>16,te=I.i(D)&65535;S[2*P+2*D]+=R*te,y(S,2*P+2*D),S[2*P+2*D+1]+=x*te,y(S,2*P+2*D+1),S[2*P+2*D+1]+=R*H,y(S,2*P+2*D+1),S[2*P+2*D+2]+=x*H,y(S,2*P+2*D+2)}for(I=0;I<_;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=_;I<2*_;I++)S[I]=0;return new o(S,0)};function y(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function b(I,_){this.g=I,this.h=_}function k(I,_){if(E(_))throw Error("division by zero");if(E(I))return new b(d,d);if(w(I))return _=k(C(I),_),new b(C(_.g),C(_.h));if(w(_))return _=k(I,C(_)),new b(C(_.g),_.h);if(I.g.length>30){if(w(I)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;P.l(I)<=0;)S=N(S),P=N(P);var D=O(S,1),x=O(P,1);for(P=O(P,2),S=O(S,2);!E(P);){var R=x.add(P);R.l(I)<=0&&(D=D.add(S),x=R),P=O(P,1),S=O(S,1)}return _=T(I,D.j(_)),new b(D,_)}for(D=d;I.l(_)>=0;){for(S=Math.max(1,Math.floor(I.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),x=c(S),R=x.j(_);w(R)||R.l(I)>0;)S-=P,x=c(S),R=x.j(_);E(x)&&(x=f),D=D.add(x),I=T(I,R)}return new b(D,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const _=Math.max(this.g.length,I.g.length),S=[];for(let P=0;P<_;P++)S[P]=this.i(P)&I.i(P);return new o(S,this.h&I.h)},t.or=function(I){const _=Math.max(this.g.length,I.g.length),S=[];for(let P=0;P<_;P++)S[P]=this.i(P)|I.i(P);return new o(S,this.h|I.h)},t.xor=function(I){const _=Math.max(this.g.length,I.g.length),S=[];for(let P=0;P<_;P++)S[P]=this.i(P)^I.i(P);return new o(S,this.h^I.h)};function N(I){const _=I.g.length+1,S=[];for(let P=0;P<_;P++)S[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(S,I.h)}function O(I,_){const S=_>>5;_%=32;const P=I.g.length-S,D=[];for(let x=0;x<P;x++)D[x]=_>0?I.i(x+S)>>>_|I.i(x+S+1)<<32-_:I.i(x+S);return new o(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ub=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ui=o}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jb,za,zb,Nc,fm,Bb,Wb,Hb;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var M=u[A];if(!(M in m))break e;m=m[M]}u=u[u.length-1],A=m[u],p=p(A),p!=A&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(p){var m=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&m.push([A,p[A]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,m){return u.call.apply(u.bind,arguments)}function c(u,p,m){return c=l,c.apply(null,arguments)}function h(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function d(u,p){function m(){}m.prototype=p.prototype,u.Z=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Ob=function(A,M,L){for(var B=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)B[ie-2]=arguments[ie];return p.prototype[M].apply(A,B)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function g(u){const p=u.length;if(p>0){const m=Array(p);for(let A=0;A<p;A++)m[A]=u[A];return m}return[]}function E(u,p){for(let A=1;A<arguments.length;A++){const M=arguments[A];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=u.length||0;const L=M.length||0;u.length=m+L;for(let B=0;B<L;B++)u[m+B]=M[B]}else u.push(M)}}class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function C(u){o.setTimeout(()=>{throw u},0)}function T(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class y{constructor(){this.h=this.g=null}add(p,m){const A=b.get();A.set(p,m),this.h?this.h.next=A:this.g=A,this.h=A}}var b=new w(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,I=new y,_=()=>{const u=Promise.resolve(void 0);N=()=>{u.then(S)}};function S(){for(var u;u=T();){try{u.h.call(u.g)}catch(m){C(m)}var p=b;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}O=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};o.addEventListener("test",m,p),o.removeEventListener("test",m,p)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function H(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}d(H,D),H.prototype.init=function(u,p){const m=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),ee=0;function se(u,p,m,A,M){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!A,this.ha=M,this.key=++ee,this.da=this.fa=!1}function U(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function K(u,p,m){for(const A in u)p.call(m,u[A],A,u)}function Q(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function oe(u){const p={};for(const m in u)p[m]=u[m];return p}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ze(u,p){let m,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(m in A)u[m]=A[m];for(let L=0;L<le.length;L++)m=le[L],Object.prototype.hasOwnProperty.call(A,m)&&(u[m]=A[m])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,p,m,A,M){const L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);const B=pt(u,p,A,M);return B>-1?(p=u[B],m||(p.fa=!1)):(p=new se(p,this.src,L,!!A,M),p.fa=m,u.push(p)),p};function St(u,p){const m=p.type;if(m in u.g){var A=u.g[m],M=Array.prototype.indexOf.call(A,p,void 0),L;(L=M>=0)&&Array.prototype.splice.call(A,M,1),L&&(U(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function pt(u,p,m,A){for(let M=0;M<u.length;++M){const L=u[M];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==A)return M}return-1}var Xt="closure_lm_"+(Math.random()*1e6|0),Sn={};function As(u,p,m,A,M){if(A&&A.once)return Iu(u,p,m,A,M);if(Array.isArray(p)){for(let L=0;L<p.length;L++)As(u,p[L],m,A,M);return null}return m=oa(m),u&&u[te]?u.J(p,m,a(A)?!!A.capture:!!A,M):bu(u,p,m,!1,A,M)}function bu(u,p,m,A,M,L){if(!p)throw Error("Invalid event type");const B=a(M)?!!M.capture:!!M;let ie=Ps(u);if(ie||(u[Xt]=ie=new et(u)),m=ie.add(p,m,A,B,L),m.proxy)return m;if(A=na(),m.proxy=A,A.src=u,A.listener=m,u.addEventListener)x||(M=B),M===void 0&&(M=!1),u.addEventListener(p.toString(),A,M);else if(u.attachEvent)u.attachEvent(Au(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function na(){function u(m){return p.call(u.src,u.listener,m)}const p=Pu;return u}function Iu(u,p,m,A,M){if(Array.isArray(p)){for(let L=0;L<p.length;L++)Iu(u,p[L],m,A,M);return null}return m=oa(m),u&&u[te]?u.K(p,m,a(A)?!!A.capture:!!A,M):bu(u,p,m,!0,A,M)}function ra(u,p,m,A,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)ra(u,p[L],m,A,M);else A=a(A)?!!A.capture:!!A,m=oa(m),u&&u[te]?(u=u.i,L=String(p).toString(),L in u.g&&(p=u.g[L],m=pt(p,m,A,M),m>-1&&(U(p[m]),Array.prototype.splice.call(p,m,1),p.length==0&&(delete u.g[L],u.h--)))):u&&(u=Ps(u))&&(p=u.g[p.toString()],u=-1,p&&(u=pt(p,m,A,M)),(m=u>-1?p[u]:null)&&ia(m))}function ia(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[te])St(p.i,u);else{var m=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(m,A,u.capture):p.detachEvent?p.detachEvent(Au(m),A):p.addListener&&p.removeListener&&p.removeListener(A),(m=Ps(p))?(St(m,u),m.h==0&&(m.src=null,p[Xt]=null)):U(u)}}}function Au(u){return u in Sn?Sn[u]:Sn[u]="on"+u}function Pu(u,p){if(u.da)u=!0;else{p=new H(p,this);const m=u.listener,A=u.ha||u.src;u.fa&&ia(u),u=m.call(A,p)}return u}function Ps(u){return u=u[Xt],u instanceof et?u:null}var sa="__closure_events_fn_"+(Math.random()*1e9>>>0);function oa(u){return typeof u=="function"?u:(u[sa]||(u[sa]=function(p){return u.handleEvent(p)}),u[sa])}function ke(){P.call(this),this.i=new et(this),this.M=this,this.G=null}d(ke,P),ke.prototype[te]=!0,ke.prototype.removeEventListener=function(u,p,m,A){ra(this,u,p,m,A)};function Ye(u,p){var m,A=u.G;if(A)for(m=[];A;A=A.G)m.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var M=p;p=new D(A,u),ze(p,M)}M=!0;let L,B;if(m)for(B=m.length-1;B>=0;B--)L=p.g=m[B],M=ki(L,A,!0,p)&&M;if(L=p.g=u,M=ki(L,A,!0,p)&&M,M=ki(L,A,!1,p)&&M,m)for(B=0;B<m.length;B++)L=p.g=m[B],M=ki(L,A,!1,p)&&M}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const m=u.g[p];for(let A=0;A<m.length;A++)U(m[A]);delete u.g[p],u.h--}}this.G=null},ke.prototype.J=function(u,p,m,A){return this.i.add(String(u),p,!1,m,A)},ke.prototype.K=function(u,p,m,A){return this.i.add(String(u),p,!0,m,A)};function ki(u,p,m,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let L=0;L<p.length;++L){const B=p[L];if(B&&!B.da&&B.capture==m){const ie=B.listener,tt=B.ha||B.src;B.fa&&St(u.i,B),M=ie.call(tt,A)!==!1&&M}}return M&&!A.defaultPrevented}function Cu(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function Cs(u){u.g=Cu(()=>{u.g=null,u.i&&(u.i=!1,Cs(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ru extends P{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){P.call(this),this.h=u,this.g={}}d(Dr,P);var aa=[];function la(u){K(u.g,function(p,m){this.g.hasOwnProperty(m)&&ia(p)},u),u.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),la(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jd=o.JSON.stringify,PC=o.JSON.parse,CC=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ay(){}function Py(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zd(){D.call(this,"d")}d(Zd,D);function ef(){D.call(this,"c")}d(ef,D);var Di={},Cy=null;function ku(){return Cy=Cy||new ke}Di.Ia="serverreachability";function Ry(u){D.call(this,Di.Ia,u)}d(Ry,D);function ca(u){const p=ku();Ye(p,new Ry(p))}Di.STAT_EVENT="statevent";function ky(u,p){D.call(this,Di.STAT_EVENT,u),this.stat=p}d(ky,D);function Mt(u){const p=ku();Ye(p,new ky(p,u))}Di.Ja="timingevent";function Dy(u,p){D.call(this,Di.Ja,u),this.size=p}d(Dy,D);function ha(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function da(){this.g=!0}da.prototype.ua=function(){this.g=!1};function RC(u,p,m,A,M,L){u.info(function(){if(u.g)if(L){var B="",ie=L.split("&");for(let ye=0;ye<ie.length;ye++){var tt=ie[ye].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const Vn=at.split("_");B=Vn.length>=2&&Vn[1]=="type"?B+(at+"="+tt+"&"):B+(at+"=redacted&")}}}else B=null;else B=L;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+p+`
`+m+`
`+B})}function kC(u,p,m,A,M,L,B){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+p+`
`+m+`
`+L+" "+B})}function Rs(u,p,m,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+xC(u,m)+(A?" "+A:"")})}function DC(u,p){u.info(function(){return"TIMEOUT: "+p})}da.prototype.info=function(){};function xC(u,p){if(!u.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(u=0;u<L.length;u++)if(Array.isArray(L[u])){var m=L[u];if(!(m.length<2)){var A=m[1];if(Array.isArray(A)&&!(A.length<1)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(let B=1;B<A.length;B++)A[B]=""}}}}return Jd(L)}catch{return p}}var Du={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ny;function tf(){}d(tf,Ay),tf.prototype.g=function(){return new XMLHttpRequest},Ny=new tf;function fa(u){return encodeURIComponent(String(u))}function NC(u){var p=1;u=u.split(":");const m=[];for(;p>0&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function xr(u,p,m,A){this.j=u,this.i=p,this.l=m,this.S=A||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oy}function Oy(){this.i=null,this.g="",this.h=!1}var My={},nf={};function rf(u,p,m){u.M=1,u.A=Nu($n(p)),u.u=m,u.R=!0,Ly(u,null)}function Ly(u,p){u.F=Date.now(),xu(u),u.B=$n(u.A);var m=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Yy(m.i,"t",A),u.C=0,m=u.j.L,u.h=new Oy,u.g=f0(u.j,m?p:null,!u.u),u.P>0&&(u.O=new Ru(c(u.Y,u,u.g),u.P)),p=u.V,m=u.g,A=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(aa[0]=M.toString()),M=aa);for(let L=0;L<M.length;L++){const B=As(m,M[L],A||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=u.J?oe(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),ca(),RC(u.i,u.v,u.B,u.l,u.S,u.u)}xr.prototype.ba=function(u){u=u.target;const p=this.O;p&&Mr(u)==3?p.j():this.Y(u)},xr.prototype.Y=function(u){try{if(u==this.g)e:{const ie=Mr(this.g),tt=this.g.ya(),ye=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||n0(this.g)))){this.K||ie!=4||tt==7||(tt==8||ye<=0?ca(3):ca(2)),sf(this);var p=this.g.ca();this.X=p;var m=OC(this);if(this.o=p==200,kC(this.i,this.v,this.B,this.l,this.S,ie,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,M=this.g;if((A=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var L=A;break t}}L=null}if(u=L)Rs(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,of(this,u);else{this.o=!1,this.m=3,Mt(12),xi(this),pa(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<m.length;)if(at=MC(this,m),at==nf){ie==4&&(this.m=4,Mt(14),u=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(at==My){this.m=4,Mt(15),Rs(this.i,this.l,m,"[Invalid Chunk]"),u=!1;break}else Rs(this.i,this.l,at,null),of(this,at);if($y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||m.length!=0||this.h.h||(this.m=1,Mt(16),u=!1),this.o=this.o&&u,!u)Rs(this.i,this.l,m,"[Invalid Chunked Response]"),xi(this),pa(this);else if(m.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),pf(B),B.P=!0,Mt(11))}}else Rs(this.i,this.l,m,null),of(this,m);ie==4&&xi(this),this.o&&!this.K&&(ie==4?u0(this.j,this):(this.o=!1,xu(this)))}else YC(this.g),p==400&&m.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),xi(this),pa(this)}}}catch{}finally{}};function OC(u){if(!$y(u))return u.g.la();const p=n0(u.g);if(p==="")return"";let m="";const A=p.length,M=Mr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xi(u),pa(u),"";u.h.i=new o.TextDecoder}for(let L=0;L<A;L++)u.h.h=!0,m+=u.h.i.decode(p[L],{stream:!(M&&L==A-1)});return p.length=0,u.h.g+=m,u.C=0,u.h.g}function $y(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function MC(u,p){var m=u.C,A=p.indexOf(`
`,m);return A==-1?nf:(m=Number(p.substring(m,A)),isNaN(m)?My:(A+=1,A+m>p.length?nf:(p=p.slice(A,A+m),u.C=A+m,p)))}xr.prototype.cancel=function(){this.K=!0,xi(this)};function xu(u){u.T=Date.now()+u.H,Vy(u,u.H)}function Vy(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ha(c(u.aa,u),p)}function sf(u){u.D&&(o.clearTimeout(u.D),u.D=null)}xr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(DC(this.i,this.B),this.M!=2&&(ca(),Mt(17)),xi(this),this.m=2,pa(this)):Vy(this,this.T-u)};function pa(u){u.j.I==0||u.K||u0(u.j,u)}function xi(u){sf(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,la(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function of(u,p){try{var m=u.j;if(m.I!=0&&(m.g==u||af(m.h,u))){if(!u.L&&af(m.h,u)&&m.I==3){try{var A=m.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<u.F)Vu(m),Lu(m);else break e;ff(m),Mt(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ha(c(m.Va,m),6e3));jy(m.h)<=1&&m.ta&&(m.ta=void 0)}else Oi(m,11)}else if((u.L||m.g==u)&&Vu(m),!R(p))for(M=m.Ba.g.parse(p),p=0;p<M.length;p++){let ye=M[p];const at=ye[0];if(!(at<=m.K))if(m.K=at,ye=ye[1],m.I==2)if(ye[0]=="c"){m.M=ye[1],m.ba=ye[2];const Vn=ye[3];Vn!=null&&(m.ka=Vn,m.j.info("VER="+m.ka));const Mi=ye[4];Mi!=null&&(m.za=Mi,m.j.info("SVER="+m.za));const Lr=ye[5];Lr!=null&&typeof Lr=="number"&&Lr>0&&(A=1.5*Lr,m.O=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const $r=u.g;if($r){const Uu=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var L=A.h;L.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(lf(L,L.h),L.h=null))}if(A.G){const mf=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;mf&&(A.wa=mf,Se(A.J,A.G,mf))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-u.F,m.j.info("Handshake RTT: "+m.T+"ms")),A=m;var B=u;if(A.na=d0(A,A.L?A.ba:null,A.W),B.L){zy(A.h,B);var ie=B,tt=A.O;tt&&(ie.H=tt),ie.D&&(sf(ie),xu(ie)),A.g=B}else a0(A);m.i.length>0&&$u(m)}else ye[0]!="stop"&&ye[0]!="close"||Oi(m,7);else m.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Oi(m,7):df(m):ye[0]!="noop"&&m.l&&m.l.qa(ye),m.A=0)}}ca(4)}catch{}}var LC=class{constructor(u,p){this.g=u,this.map=p}};function Fy(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jy(u){return u.h?1:u.g?u.g.size:0}function af(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function lf(u,p){u.g?u.g.add(p):u.h=p}function zy(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Fy.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function By(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.G);return p}return g(u.i)}var Wy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $C(u,p){if(u){u=u.split("&");for(let m=0;m<u.length;m++){const A=u[m].indexOf("=");let M,L=null;A>=0?(M=u[m].substring(0,A),L=u[m].substring(A+1)):M=u[m],p(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Nr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Nr?(this.l=u.l,ma(this,u.j),this.o=u.o,this.g=u.g,ga(this,u.u),this.h=u.h,uf(this,Qy(u.i)),this.m=u.m):u&&(p=String(u).match(Wy))?(this.l=!1,ma(this,p[1]||"",!0),this.o=va(p[2]||""),this.g=va(p[3]||"",!0),ga(this,p[4]),this.h=va(p[5]||"",!0),uf(this,p[6]||"",!0),this.m=va(p[7]||"")):(this.l=!1,this.i=new wa(null,this.l))}Nr.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(ya(p,Hy,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ya(p,Hy,!0),"@"),u.push(fa(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&u.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ya(m,m.charAt(0)=="/"?UC:FC,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ya(m,zC)),u.join("")},Nr.prototype.resolve=function(u){const p=$n(this);let m=!!u.j;m?ma(p,u.j):m=!!u.o,m?p.o=u.o:m=!!u.g,m?p.g=u.g:m=u.u!=null;var A=u.h;if(m)ga(p,u.u);else if(m=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var M=p.h.lastIndexOf("/");M!=-1&&(A=p.h.slice(0,M+1)+A)}if(M=A,M==".."||M==".")A="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){A=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let B=0;B<M.length;){const ie=M[B++];ie=="."?A&&B==M.length&&L.push(""):ie==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),A&&B==M.length&&L.push("")):(L.push(ie),A=!0)}A=L.join("/")}else A=M}return m?p.h=A:m=u.i.toString()!=="",m?uf(p,Qy(u.i)):m=!!u.m,m&&(p.m=u.m),p};function $n(u){return new Nr(u)}function ma(u,p,m){u.j=m?va(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ga(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function uf(u,p,m){p instanceof wa?(u.i=p,BC(u.i,u.l)):(m||(p=ya(p,jC)),u.i=new wa(p,u.l))}function Se(u,p,m){u.i.set(p,m)}function Nu(u){return Se(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function va(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,VC),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function VC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hy=/[#\/\?@]/g,FC=/[#\?:]/g,UC=/[#\?]/g,jC=/[#\?@]/g,zC=/#/g;function wa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ni(u){u.g||(u.g=new Map,u.h=0,u.i&&$C(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=wa.prototype,t.add=function(u,p){Ni(this),this.i=null,u=ks(this,u);let m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function qy(u,p){Ni(u),p=ks(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Gy(u,p){return Ni(u),p=ks(u,p),u.g.has(p)}t.forEach=function(u,p){Ni(this),this.g.forEach(function(m,A){m.forEach(function(M){u.call(p,M,A,this)},this)},this)};function Ky(u,p){Ni(u);let m=[];if(typeof p=="string")Gy(u,p)&&(m=m.concat(u.g.get(ks(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)m=m.concat(u[p]);return m}t.set=function(u,p){return Ni(this),this.i=null,u=ks(this,u),Gy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Ky(this,u),u.length>0?String(u[0]):p):p};function Yy(u,p,m){qy(u,p),m.length>0&&(u.i=null,u.g.set(ks(u,p),g(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var m=p[A];const M=fa(m);m=Ky(this,m);for(let L=0;L<m.length;L++){let B=M;m[L]!==""&&(B+="="+fa(m[L])),u.push(B)}}return this.i=u.join("&")};function Qy(u){const p=new wa;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function ks(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function BC(u,p){p&&!u.j&&(Ni(u),u.i=null,u.g.forEach(function(m,A){const M=A.toLowerCase();A!=M&&(qy(this,A),Yy(this,M,m))},u)),u.j=p}function WC(u,p){const m=new da;if(o.Image){const A=new Image;A.onload=h(Or,m,"TestLoadImage: loaded",!0,p,A),A.onerror=h(Or,m,"TestLoadImage: error",!1,p,A),A.onabort=h(Or,m,"TestLoadImage: abort",!1,p,A),A.ontimeout=h(Or,m,"TestLoadImage: timeout",!1,p,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function HC(u,p){const m=new da,A=new AbortController,M=setTimeout(()=>{A.abort(),Or(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(L=>{clearTimeout(M),L.ok?Or(m,"TestPingServer: ok",!0,p):Or(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Or(m,"TestPingServer: error",!1,p)})}function Or(u,p,m,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(m)}catch{}}function qC(){this.g=new CC}function cf(u){this.i=u.Sb||null,this.h=u.ab||!1}d(cf,Ay),cf.prototype.g=function(){return new Ou(this.i,this.h)};function Ou(u,p){ke.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Ou,ke),t=Ou.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Ea(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xy(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xy(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?_a(this):Ea(this),this.readyState==3&&Xy(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,_a(this))},t.Na=function(u){this.g&&(this.response=u,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ea(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jy(u){let p="";return K(u,function(m,A){p+=A,p+=":",p+=m,p+=`\r
`}),p}function hf(u,p,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=Jy(m),typeof u=="string"?m!=null&&fa(m):Se(u,p,m))}function $e(u){ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,ke);var GC=/^https?$/i,KC=["POST","PUT"];t=$e.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ny.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){Zy(this,L);return}if(u=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)m.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())m.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(KC,p,void 0)>=0)||A||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of m)this.g.setRequestHeader(L,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(L){Zy(this,L)}};function Zy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,e0(u),Mu(u)}function e0(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ye(this,"complete"),Ye(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?t0(this):this.Xa())},t.Xa=function(){t0(this)};function t0(u){if(u.h&&typeof s<"u"){if(u.v&&Mr(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ye(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const L=u.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var A;if(A=L===0){let B=String(u.D).match(Wy)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),A=!GC.test(B?B.toLowerCase():"")}m=A}if(m)Ye(u,"complete"),Ye(u,"success");else{u.o=6;try{var M=Mr(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",e0(u)}}finally{Mu(u)}}}}function Mu(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const m=u.g;u.g=null,p||Ye(u,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Mr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),PC(p)}};function n0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function YC(u){const p={};u=(u.g&&Mr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var m=NC(u[A]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[M]||[];p[M]=L,L.push(m)}Q(p,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function r0(u){this.za=0,this.i=[],this.j=new da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,u),this.Za=Ta("retryDelaySeedMs",1e4,u),this.Ta=Ta("forwardChannelMaxRetries",2,u),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fy(u&&u.concurrentRequestLimit),this.Ba=new qC,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=r0.prototype,t.ka=8,t.I=1,t.connect=function(u,p,m,A){Mt(0),this.W=u,this.H=p||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.J=d0(this,null,this.W),$u(this)};function df(u){if(i0(u),u.I==3){var p=u.V++,m=$n(u.J);if(Se(m,"SID",u.M),Se(m,"RID",p),Se(m,"TYPE","terminate"),Sa(u,m),p=new xr(u,u.j,p),p.M=2,p.A=Nu($n(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=p.A,m=!0),m||(p.g=f0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),xu(p)}h0(u)}function Lu(u){u.g&&(pf(u),u.g.cancel(),u.g=null)}function i0(u){Lu(u),u.v&&(o.clearTimeout(u.v),u.v=null),Vu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function $u(u){if(!Uy(u.h)&&!u.m){u.m=!0;var p=u.Ea;N||_(),O||(N(),O=!0),I.add(p,u),u.D=0}}function QC(u,p){return jy(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ha(c(u.Ea,u,p),c0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new xr(this,this.j,u);let L=this.o;if(this.U&&(L?(L=oe(L),ze(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=o0(this,M,p),m=$n(this.J),Se(m,"RID",u),Se(m,"CVER",22),this.G&&Se(m,"X-HTTP-Session-Id",this.G),Sa(this,m),L&&(this.R?p="headers="+fa(Jy(L))+"&"+p:this.u&&hf(m,this.u,L)),lf(this.h,M),this.Ra&&Se(m,"TYPE","init"),this.S?(Se(m,"$req",p),Se(m,"SID","null"),M.U=!0,rf(M,m,null)):rf(M,m,p),this.I=2}}else this.I==3&&(u?s0(this,u):this.i.length==0||Uy(this.h)||s0(this))};function s0(u,p){var m;p?m=p.l:m=u.V++;const A=$n(u.J);Se(A,"SID",u.M),Se(A,"RID",m),Se(A,"AID",u.K),Sa(u,A),u.u&&u.o&&hf(A,u.u,u.o),m=new xr(u,u.j,m,u.D+1),u.u===null&&(m.J=u.o),p&&(u.i=p.G.concat(u.i)),p=o0(u,m,1e3),m.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),lf(u.h,m),rf(m,A,p)}function Sa(u,p){u.H&&K(u.H,function(m,A){Se(p,A,m)}),u.l&&K({},function(m,A){Se(p,A,m)})}function o0(u,p,m){m=Math.min(u.i.length,m);const A=u.l?c(u.l.Ka,u.l,u):null;e:{var M=u.i;let ie=-1;for(;;){const tt=["count="+m];ie==-1?m>0?(ie=M[0].g,tt.push("ofs="+ie)):ie=0:tt.push("ofs="+ie);let ye=!0;for(let at=0;at<m;at++){var L=M[at].g;const Vn=M[at].map;if(L-=ie,L<0)ie=Math.max(0,M[at].g-100),ye=!1;else try{L="req"+L+"_"||"";try{var B=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Mi,Lr]of B){let $r=Lr;a(Lr)&&($r=Jd(Lr)),tt.push(L+Mi+"="+encodeURIComponent($r))}}catch(Mi){throw tt.push(L+"type="+encodeURIComponent("_badmap")),Mi}}catch{A&&A(Vn)}}if(ye){B=tt.join("&");break e}}B=void 0}return u=u.i.splice(0,m),p.G=u,B}function a0(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;N||_(),O||(N(),O=!0),I.add(p,u),u.A=0}}function ff(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ha(c(u.Da,u),c0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,l0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ha(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Lu(this),l0(this))};function pf(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function l0(u){u.g=new xr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=$n(u.na);Se(p,"RID","rpc"),Se(p,"SID",u.M),Se(p,"AID",u.K),Se(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Se(p,"TO",u.ia),Se(p,"TYPE","xmlhttp"),Sa(u,p),u.u&&u.o&&hf(p,u.u,u.o),u.O&&(u.g.H=u.O);var m=u.g;u=u.ba,m.M=1,m.A=Nu($n(p)),m.u=null,m.R=!0,Ly(m,u)}t.Va=function(){this.C!=null&&(this.C=null,Lu(this),ff(this),Mt(19))};function Vu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function u0(u,p){var m=null;if(u.g==p){Vu(u),pf(u),u.g=null;var A=2}else if(af(u.h,p))m=p.G,zy(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){m=p.u?p.u.length:0,p=Date.now()-p.F;var M=u.D;A=ku(),Ye(A,new Dy(A,m)),$u(u)}else a0(u);else if(M=p.m,M==3||M==0&&p.X>0||!(A==1&&QC(u,p)||A==2&&ff(u)))switch(m&&m.length>0&&(p=u.h,p.i=p.i.concat(m)),M){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function c0(u,p){let m=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(m*=2),m*p}function Oi(u,p){if(u.j.info("Error code "+p),p==2){var m=c(u.bb,u),A=u.Ua;const M=!A;A=new Nr(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ma(A,"https"),Nu(A),M?WC(A.toString(),m):HC(A.toString(),m)}else Mt(2);u.I=0,u.l&&u.l.pa(p),h0(u),i0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function h0(u){if(u.I=0,u.ja=[],u.l){const p=By(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ja,p),E(u.ja,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.oa()}}function d0(u,p,m){var A=m instanceof Nr?$n(m):new Nr(m);if(A.g!="")p&&(A.g=p+"."+A.g),ga(A,A.u);else{var M=o.location;A=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const L=new Nr(null);A&&ma(L,A),p&&(L.g=p),M&&ga(L,M),m&&(L.h=m),A=L}return m=u.G,p=u.wa,m&&p&&Se(A,m,p),Se(A,"VER",u.ka),Sa(u,A),A}function f0(u,p,m){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new $e(new cf({ab:m})):new $e(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p0(){}t=p0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fu(){}Fu.prototype.g=function(u,p){return new Jt(u,p)};function Jt(u,p){ke.call(this),this.g=new r0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ds(this)}d(Jt,ke),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){df(this.g)},Jt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.v&&(m={},m.__data__=Jd(u),u=m);p.i.push(new LC(p.Ya++,u)),p.I==3&&$u(p)},Jt.prototype.N=function(){this.g.l=null,delete this.j,df(this.g),delete this.g,Jt.Z.N.call(this)};function m0(u){Zd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}d(m0,Zd);function g0(){ef.call(this),this.status=1}d(g0,ef);function Ds(u){this.g=u}d(Ds,p0),Ds.prototype.ra=function(){Ye(this.g,"a")},Ds.prototype.qa=function(u){Ye(this.g,new m0(u))},Ds.prototype.pa=function(u){Ye(this.g,new g0)},Ds.prototype.oa=function(){Ye(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Hb=function(){return new Fu},Wb=function(){return ku()},Bb=Di,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Du.NO_ERROR=0,Du.TIMEOUT=8,Du.HTTP_ERROR=6,Nc=Du,xy.COMPLETE="complete",zb=xy,Py.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",ke.prototype.listen=ke.prototype.J,za=Py,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,jb=$e}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",r_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new qg("@firebase/firestore");function Os(){return as.logLevel}function q(t,...e){if(as.logLevel<=ue.DEBUG){const n=e.map(rv);as.debug(`Firestore (${Fo}): ${t}`,...n)}}function Sr(t,...e){if(as.logLevel<=ue.ERROR){const n=e.map(rv);as.error(`Firestore (${Fo}): ${t}`,...n)}}function _o(t,...e){if(as.logLevel<=ue.WARN){const n=e.map(rv);as.warn(`Firestore (${Fo}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qb(t,r,n)}function qb(t,e,n){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qb(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class g2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v2{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Gb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class y2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function pm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Yf(i)===Yf(s)?ce(i,s):Yf(i)?1:-1}return ce(t.length,e.length)}const T2=55296,S2=57343;function Yf(t){const e=t.charCodeAt(0);return e>=T2&&e<=S2}function Eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),i=zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zn.extractNumericId(e).compare(zn.extractNumericId(n)):pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Ee extends zn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends zn{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new vt([s_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Ee.fromString(e))}static fromName(e){return new X(Ee.fromString(e).popFirst(5))}static empty(){return new X(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e,n){if(!n)throw new G($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I2(t,e,n,r){if(e===!0&&r===!0)throw new G($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o_(t){if(!X.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a_(t){if(X.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pd(t);throw new G($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function ou(t,e){if(!Yb(t))throw new G($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*u_);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l_)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Ze("string",Ce._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ce(0,0))}static max(){return new ne(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function A2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new mi(i,X.empty(),e)}function P2(t){return new mi(t.readTime,t.key,kl)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ne.min(),X.empty(),kl)}static max(){return new mi(ne.max(),X.empty(),kl)}}function C2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==R2)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function D2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function gd(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function x2(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="";function N2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c_(e)),e=O2(t.get(n),e);return c_(e)}function O2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Qb:n+="";break;default:n+=s}}return n}function c_(t){return t+Qb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new it(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jb("Invalid base64 string: "+s):s}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=M2.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="server_timestamp",eI="__type__",tI="__previous_value__",nI="__local_write_time__";function ov(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eI])==null?void 0:r.stringValue)===Zb}function vd(t){const e=t.mapValue.fields[tI];return ov(e)?vd(e):e}function Dl(t){const e=gi(t.mapValue.fields[nI].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Sh="(default)";class xl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__type__",iI="__max__",ac={mapValue:{fields:{__type__:{stringValue:iI}}}},sI="__vector__",bh="value";function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:V2(t)?9007199254740991:$2(t)?10:11:Z(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vi(i.bytesValue).isEqual(vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(h_(o)!==h_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!or(o[l],a[l])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Nl(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function To(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return f_(t.timestampValue,e.timestampValue);case 4:return f_(Dl(t),Dl(e));case 5:return pm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vi(s),l=vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ce(a[c],l[c]);if(h!==0)return h}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ce(Be(s.latitude),Be(o.latitude));return a!==0?a:ce(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return p_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,g,E,w;const a=s.fields||{},l=o.fields||{},c=(f=a[bh])==null?void 0:f.arrayValue,h=(g=l[bh])==null?void 0:g.arrayValue,d=ce(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return d!==0?d:p_(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ac.mapValue&&o===ac.mapValue)return 0;if(s===ac.mapValue)return 1;if(o===ac.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=pm(l[d],h[d]);if(f!==0)return f;const g=To(a[l[d]],c[h[d]]);if(g!==0)return g}return ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function f_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=gi(t),r=gi(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function p_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=To(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function So(t){return mm(t)}function mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mm(n.fields[o])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function Oc(t){switch(yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Oc(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Oc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Es(r.fields,(s,o)=>{i+=s.length+Oc(o)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function m_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gm(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function g_(t){return!!t&&"nullValue"in t}function v_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mc(t){return!!t&&"mapValue"in t}function $2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rI])==null?void 0:r.stringValue)===sI}function rl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return{...t}}function V2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(rl(this.value))}}function oI(t){const e=[];return Es(t.fields,(n,r)=>{const i=new vt([n]);if(Mc(r)){const s=oI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ne.min(),ne.min(),ne.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ne.min(),ne.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ne.min(),ne.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function y_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=To(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function w_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function F2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{}class Je extends aI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j2(e,n,r):n==="array-contains"?new W2(e,r):n==="in"?new H2(e,r):n==="not-in"?new q2(e,r):n==="array-contains-any"?new G2(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z2(e,r):new B2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends aI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mn(e,n)}matches(e){return lI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lI(t){return t.op==="and"}function uI(t){return U2(t)&&lI(t)}function U2(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function vm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+So(t.value);if(uI(t))return t.filters.map(e=>vm(e)).join(",");{const e=t.filters.map(n=>vm(n)).join(",");return`${t.op}(${e})`}}function cI(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cI(o,i.filters[a]),!0):!1}(t,e):void Z(19439)}function hI(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(hI).join(" ,")+"}"}(t):"Filter"}class j2 extends Je{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class z2 extends Je{constructor(e,n){super(e,"in",n),this.keys=dI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B2 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=dI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class W2 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&Nl(n.arrayValue,this.value)}}class H2 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class q2 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class G2 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function __(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K2(t,e,n,r,i,s,o)}function lv(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>So(r)).join(",")),e.Te=n}return e.Te}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w_(t.startAt,e.startAt)&&w_(t.endAt,e.endAt)}function ym(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y2(t,e,n,r,i,s,o,a){return new au(t,e,n,r,i,s,o,a)}function fI(t){return new au(t)}function E_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pI(t){return t.collectionGroup!==null}function il(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ah(s,r))}),n.has(vt.keyField().canonicalString())||e.Ie.push(new Ah(vt.keyField(),r))}return e.Ie}function Zn(t){const e=re(t);return e.Ee||(e.Ee=Q2(e,il(t))),e.Ee}function Q2(t,e){if(t.limitType==="F")return __(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ah(i.field,s)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return __(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wm(t,e){const n=t.filters.concat([e]);return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _m(t,e,n){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return uv(Zn(t),Zn(e))&&t.limitType===e.limitType}function mI(t){return`${lv(Zn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hI(i)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>So(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>So(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=y_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,il(r),i)||r.endAt&&!function(o,a,l){const c=y_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,il(r),i))}(t,e)}function X2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gI(t){return(e,n)=>{let r=!1;for(const i of il(t)){const s=J2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J2(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?To(l,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Xb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Le(X.comparator);function br(){return Z2}const vI=new Le(X.comparator);function Ba(...t){let e=vI;for(const n of t)e=e.insert(n.key,n);return e}function yI(t){let e=vI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return sl()}function wI(){return sl()}function sl(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const eM=new Le(X.comparator),tM=new it(X.comparator);function he(...t){let e=tM;for(const n of t)e=e.add(n);return e}const nM=new it(ce);function rM(){return nM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function _I(t){return{integerValue:""+t}}function iM(t,e){return x2(e)?_I(e):cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function sM(t,e,n){return t instanceof Ph?function(i,s){const o={fields:{[eI]:{stringValue:Zb},[nI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ov(s)&&(s=vd(s)),s&&(o.fields[tI]=s),{mapValue:o}}(n,e):t instanceof Ol?TI(t,e):t instanceof Ml?SI(t,e):function(i,s){const o=EI(i,s),a=T_(o)+T_(i.Ae);return gm(o)&&gm(i.Ae)?_I(a):cv(i.serializer,a)}(t,e)}function oM(t,e,n){return t instanceof Ol?TI(t,e):t instanceof Ml?SI(t,e):n}function EI(t,e){return t instanceof Ch?function(r){return gm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ph extends _d{}class Ol extends _d{constructor(e){super(),this.elements=e}}function TI(t,e){const n=bI(e);for(const r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends _d{constructor(e){super(),this.elements=e}}function SI(t,e){let n=bI(e);for(const r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}class Ch extends _d{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T_(t){return Be(t.integerValue||t.doubleValue)}function bI(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof Ml&&i instanceof Ml?Eo(r.elements,i.elements,or):r instanceof Ch&&i instanceof Ch?or(r.Ae,i.Ae):r instanceof Ph&&i instanceof Ph}(t.transform,e.transform)}class lM{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function II(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hv(t.key,er.none()):new lu(t.key,t.data,er.none());{const n=t.data,r=fn.empty();let i=new it(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ss(t.key,r,new Rn(i.toArray()),er.none())}}function uM(t,e,n){t instanceof lu?function(i,s,o){const a=i.value.clone(),l=b_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(i,s,o){if(!Lc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=b_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(AI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,r){return t instanceof lu?function(s,o,a,l){if(!Lc(s.precondition,o))return a;const c=s.value.clone(),h=I_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(s,o,a,l){if(!Lc(s.precondition,o))return a;const c=I_(s.fieldTransforms,l,o),h=o.data;return h.setAll(AI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Lc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function cM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EI(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function S_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(s,o)=>aM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends Ed{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Ed{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function b_(t,e,n){const r=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oM(o,a,n[i]))}return r}function I_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sM(s,o,e))}return r}class hv extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hM extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=II(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>S_(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>S_(n,r))}}class dv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return eM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function mM(t){switch(t){case $.OK:return Z(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function PI(t){if(t===void 0)return Sr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return Z(39323,{code:t})}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new ui([4294967295,4294967295],0);function A_(t){const e=gM().encode(t),n=new Ub;return n.update(e),new Uint8Array(n.digest())}function P_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ui([n,r],0),new ui([i,s],0)]}class fv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wa(`Invalid padding: ${n}`);if(r<0)throw new Wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ui.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ui.fromNumber(r)));return i.compare(vM)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A_(e),[r,i]=P_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=A_(e),[r,i]=P_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(ne.min(),i,new Le(ce),br(),he())}}class uu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class CI{constructor(e,n){this.targetId=e,this.Ce=n}}class RI{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C_{constructor(){this.ve=0,this.Fe=R_(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),n=he(),r=he();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new uu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yM{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=lc(),this.He=lc(),this.Ye=new Le(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ym(s))if(r===0){const o=new X(s.path);this.et(n,o,kt.newNoDocument(o,ne.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(l){if(l instanceof Jb)return _o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fv(o,i,s)}catch(l){return _o(l instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ym(a.target)){const l=new X(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,kt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=he();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Td(e,n,this.Ye,this.je,r);return this.je=br(),this.Je=lc(),this.He=lc(),this.Ye=new Le(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new it(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new it(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lc(){return new Le(X.comparator)}function R_(){return new Le(X.comparator)}const wM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_M=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EM=(()=>({and:"AND",or:"OR"}))();class TM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SM(t,e){return Rh(t,e.toTimestamp())}function tr(t){return me(!!t,49232),ne.fromTimestamp(function(n){const r=gi(n);return new Ce(r.seconds,r.nanos)}(t))}function pv(t,e){return Tm(t,e).canonicalString()}function Tm(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DI(t){const e=Ee.fromString(t);return me(LI(e),10190,{key:e.toString()}),e}function Sm(t,e){return pv(t.databaseId,e.path)}function Qf(t,e){const n=DI(e);if(n.get(1)!==t.databaseId.projectId)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(NI(n))}function xI(t,e){return pv(t.databaseId,e)}function bM(t){const e=DI(t);return e.length===4?Ee.emptyPath():NI(e)}function bm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NI(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k_(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function IM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(me(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:PI(c.code);return new G(h,c.message||"")}(o);n=new RI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qf(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):ne.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new $c(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qf(t,r.document),s=r.readTime?tr(r.readTime):ne.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qf(t,r.document),s=r.removedTargetIds||[];n=new $c([],s,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new pM(i,s),a=r.targetId;n=new CI(a,o)}}return n}function AM(t,e){let n;if(e instanceof lu)n={update:k_(t,e.key,e.value)};else if(e instanceof hv)n={delete:Sm(t,e.key)};else if(e instanceof Ss)n={update:k_(t,e.key,e.data),updateMask:MM(e.fieldMask)};else{if(!(e instanceof hM))return Z(16599,{Vt:e.type});n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(t,e.precondition)),n}function PM(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(ne.min())&&(o=tr(s)),new lM(o,i.transformResults||[])}(n,e))):[]}function CM(t,e){return{documents:[xI(t,e.path)]}}function RM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xI(t,i);const s=function(c){if(c.length!==0)return MI(Mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Ls(f.field),direction:xM(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function kM(t){let e=bM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=OI(d);return f instanceof Mn&&uI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(E){return new Ah($s(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,gd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Ih(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new Ih(g,f)}(n.endAt)),Y2(e,i,o,s,a,"F",l,c)}function DM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$s(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$s(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create($s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>OI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function xM(t){return wM[t]}function NM(t){return _M[t]}function OM(t){return EM[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function $s(t){return vt.fromServerFormat(t.fieldPath)}function MI(t){return t instanceof Je?function(n){if(n.op==="=="){if(v_(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v_(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:NM(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>MI(i));return r.length===1?r[0]:{compositeFilter:{op:OM(n.op),filters:r}}}(t):Z(54877,{filter:t})}function MM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.yt=e}}function $M(t){const e=kM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.Cn=new FM}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(mi.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class FM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$I=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt($I,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",UM=1048576;function N_([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class jM{constructor(e){this.Ir=e,this.buffer=new it(N_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();N_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(x_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?q(x_,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)})}}class BM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(md.ce);const r=new jM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(D_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Os()<=ue.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function WM(t,e){return new BM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ol(r.mutation,i,Rn.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ba();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=br();const o=sl(),a=function(){return sl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ss)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ol(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new qM(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new Le((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=wI();h.forEach(f=>{if(!s.has(f)){const g=II(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Hi());let a=kl,l=s;return o.next(c=>V.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,he())).next(h=>({batchId:a,changes:yI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const c=function(d,f){return new au(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,kt.newInvalidDocument(h)))});let a=Ba();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&ol(h.mutation,c,Rn.empty(),Ce.now()),wd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:$M(i.bundledQuery),readTime:tr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.overlays=new Le(X.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hi();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Hi(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Hi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Hi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return V.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fM(n,r));let s=this.qr.get(n);s===void 0&&(s=he(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Qr=new it(lt.$r),this.Ur=new it(lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new Ee([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new Ee([])),r=new lt(n,e),i=new lt(n,e+1);let s=he();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new it(lt.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?sv:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ce);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new lt(new X(s),0);let a=new it(ce);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),V.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new lt(n,0),i=this.Zr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.ri=e,this.docs=function(){return new Le(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=br();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C2(P2(h),r)<=0||(i.has(h.key)||wd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZM(this)}getSize(e){return V.resolve(this.size)}}class ZM extends HM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.persistence=e,this.si=new Ts(n=>lv(n),uv),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new mv,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new QM,this.referenceDelegate=e(this),this.Pi=new eL(this),this.indexManager=new VM,this.remoteDocumentCache=function(i){return new JM(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new LM(n),this.Ii=new KM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new tL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tL extends k2{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Ri=new mv,this.Vi=null}static mi(e){return new gv(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.pi=new Ts(r=>N2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=WM(this,n)}static mi(e,n){return new kh(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ne.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}br(e,n,r){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LD()?8:D2(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Os()<=ue.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(Os()<=ue.DEBUG&&q("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Os()<=ue.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):V.resolve())}ys(e,n){if(E_(n))return V.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_m(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,_m(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return E_(n)||i.isEqual(ne.min())?V.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?V.resolve(null):(Os()<=ue.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.vs(e,o,n,A2(i,kl)).next(a=>a))})}Ds(e,n){let r=new it(gI(e));return n.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Os()<=ue.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LocalStore",iL=3e8;class sL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Le(ce),this.xs=new Ts(s=>lv(s),uv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oL(t,e,n,r){return new sL(t,e,n,r)}async function FI(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function aL(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=V.resolve();return f.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(w=>{const C=c.docVersions.get(E);me(C!==null,48541),w.version.compareTo(C)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UI(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lL(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Et.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(w,C,T){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=iL?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,g,h)&&a.push(n.Pi.updateTargetData(s,g))});let l=br(),c=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(uL(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ne.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function uL(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=br();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(yv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function cL(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hL(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Im(t,e,n){const r=re(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jo(o))throw o;q(yv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function O_(t,e,n){const r=re(t);let i=ne.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=re(l),f=d.xs.get(h);return f!==void 0?V.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:he())).next(a=>(dL(r,X2(e),a),{documents:a,Qs:s})))}function dL(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class M_{constructor(){this.activeTargetIds=rM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fL{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class $_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(L_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Am(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="RestConnection",mL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Am(),a=this.zo(e,n.toUriEncodedString());q(Xf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=ws(c);return this.Jo(e,a,l,r,h).then(d=>(q(Xf,`Received RPC '${e}' ${o}: `,d),d),d=>{throw _o(Xf,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=mL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class yL extends gL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Am();return new Promise((a,l)=>{const c=new jb;c.setWithCredentials(!0),c.listenOnce(zb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nc.NO_ERROR:const d=c.getResponseJson();q(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Nc.TIMEOUT:q(At,`RPC '${e}' ${o} timed out`),l(new G($.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const f=c.getStatus();if(q(At,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const w=function(T){const y=T.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(E.status);l(new G(w,E.message))}else l(new G($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new G($.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(At,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);q(At,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Am(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hb(),a=Wb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");q(At,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,g=!1;const E=new vL({Yo:C=>{g?q(At,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(q(At,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(At,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},Zo:()=>d.close()}),w=(C,T,y)=>{C.listen(T,b=>{try{y(b)}catch(k){setTimeout(()=>{throw k},0)}})};return w(d,za.EventType.OPEN,()=>{g||(q(At,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),w(d,za.EventType.CLOSE,()=>{g||(g=!0,q(At,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(d))}),w(d,za.EventType.ERROR,C=>{g||(g=!0,_o(At,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),E.a_(new G($.UNAVAILABLE,"The operation could not be completed")))}),w(d,za.EventType.MESSAGE,C=>{var T;if(!g){const y=C.data[0];me(!!y,16349);const b=y,k=(b==null?void 0:b.error)||((T=b[0])==null?void 0:T.error);if(k){q(At,`RPC '${e}' stream ${i} received error:`,k);const N=k.status;let O=function(S){const P=Qe[S];if(P!==void 0)return PI(P)}(N),I=k.message;O===void 0&&(O=$.INTERNAL,I="Unknown error status: "+N+" with message "+k.message),g=!0,E.a_(new G(O,I)),d.close()}else q(At,`RPC '${e}' stream ${i} received:`,y),E.u_(y)}}),w(a,Bb.STAT_EVENT,C=>{C.stat===fm.PROXY?q(At,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===fm.NOPROXY&&q(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new TM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class zI{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wL extends zI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?tr(o.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ym(l)?{documents:CM(s,l)}:{query:RM(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kI(s,o.resumeToken);const c=Em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Rh(s,o.snapshotVersion.toTimestamp());const c=Em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.q_(n)}}class _L extends zI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PM(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>AM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{}class TL extends EL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Tm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G($.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Tm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class SL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class bL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{bs(this)&&(q(ls,"Restarting streams for network reachability change."),await async function(l){const c=re(l);c.Ea.add(4),await cu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await bd(c)}(this))})}),this.Ra=new SL(r,i)}}async function bd(t){if(bs(t))for(const e of t.da)await e(!0)}async function cu(t){for(const e of t.da)await e(!1)}function BI(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tv(n)?Ev(n):zo(n).O_()&&_v(n,e))}function wv(t,e){const n=re(t),r=zo(n);n.Ia.delete(e),r.O_()&&WI(n,e),n.Ia.size===0&&(r.O_()?r.L_():bs(n)&&n.Ra.set("Unknown"))}function _v(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).Y_(e)}function WI(t,e){t.Va.Ue(e),zo(t).Z_(e)}function Ev(t){t.Va=new yM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.Ra.ua()}function Tv(t){return bs(t)&&!zo(t).x_()&&t.Ia.size>0}function bs(t){return re(t).Ea.size===0}function HI(t){t.Va=void 0}async function IL(t){t.Ra.set("Online")}async function AL(t){t.Ia.forEach((e,n)=>{_v(t,e)})}async function PL(t,e){HI(t),Tv(t)?(t.Ra.ha(e),Ev(t)):t.Ra.set("Unknown")}async function CL(t,e,n){if(t.Ra.set("Online"),e instanceof RI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){q(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof $c?t.Va.Ze(e):e instanceof CI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await UI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),WI(s,l);const d=new Xr(h.target,l,c,h.sequenceNumber);_v(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(ls,"Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!jo(e))throw e;t.Ea.add(1),await cu(t),t.Ra.set("Offline"),n||(n=()=>UI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ls,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)})}function qI(t,e){return e().catch(n=>Dh(t,n,e))}async function Id(t){const e=re(t),n=wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sv;for(;RL(e);)try{const i=await cL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,kL(e,i)}catch(i){await Dh(e,i)}GI(e)&&KI(e)}function RL(t){return bs(t)&&t.Ta.length<10}function kL(t,e){t.Ta.push(e);const n=wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GI(t){return bs(t)&&!wi(t).x_()&&t.Ta.length>0}function KI(t){wi(t).start()}async function DL(t){wi(t).ra()}async function xL(t){const e=wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function NL(t,e,n){const r=t.Ta.shift(),i=dv.from(r,e,n);await qI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Id(t)}async function OL(t,e){e&&wi(t).X_&&await async function(r,i){if(function(o){return mM(o)&&o!==$.ABORTED}(i.code)){const s=r.Ta.shift();wi(r).B_(),await qI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Id(r)}}(t,e),GI(t)&&KI(t)}async function F_(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),q(ls,"RemoteStore received new credentials");const r=bs(n);n.Ea.add(3),await cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function ML(t,e){const n=re(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await cu(n),n.Ra.set("Unknown"))}function zo(t){return t.ma||(t.ma=function(n,r,i){const s=re(n);return s.sa(),new wL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:IL.bind(null,t),t_:AL.bind(null,t),r_:PL.bind(null,t),H_:CL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Tv(t)?Ev(t):t.Ra.set("Unknown")):(await t.ma.stop(),HI(t))})),t.ma}function wi(t){return t.fa||(t.fa=function(n,r,i){const s=re(n);return s.sa(),new _L(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:DL.bind(null,t),r_:OL.bind(null,t),ta:xL.bind(null,t),na:NL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(q(ls,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Sv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),jo(t))return new G($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Ba(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.ga=new Le(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Io(e,n,ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $L{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),s=i.queries;i.queries=j_(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new G($.ABORTED,"Firestore shutting down"))}}function j_(){return new Ts(t=>mI(t),yd)}async function VL(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new LL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=bv(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Iv(n)}async function FL(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UL(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Iv(n)}function jL(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Iv(t){t.Ca.forEach(e=>{e.next()})}var Pm,z_;(z_=Pm||(Pm={})).Ma="default",z_.Cache="cache";class zL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.key=e}}class QI{constructor(e){this.key=e}}class BL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=gI(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new U_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),g=wd(this.query,d)?d:null,E=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?E!==w&&(r.track({type:3,doc:g}),C=!0):this.su(f,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.eu(g,l)>0||c&&this.eu(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),C=!0):f&&!g&&(r.track({type:1,doc:f}),C=!0,(l||c)&&(a=!0)),C&&(g?(o=o.add(g),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(g,E){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:C})}};return w(g)-w(E)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Io(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new QI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=he();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Av="SyncEngine";class WL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HL{constructor(e){this.key=e,this.hu=!1}}class qL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ts(a=>mI(a),yd),this.Iu=new Map,this.Eu=new Set,this.du=new Le(X.comparator),this.Au=new Map,this.Ru=new mv,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GL(t,e,n=!0){const r=nA(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await XI(r,e,n,!0),i}async function KL(t,e){const n=nA(t);await XI(n,e,!0,!1)}async function XI(t,e,n,r){const i=await hL(t.localStore,Zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await YL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BI(t.remoteStore,i),a}async function YL(t,e,n,r,i){t.pu=(d,f,g)=>async function(w,C,T,y){let b=C.view.ru(T);b.Cs&&(b=await O_(w.localStore,C.query,!1).then(({documents:I})=>C.view.ru(I,b)));const k=y&&y.targetChanges.get(C.targetId),N=y&&y.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(b,w.isPrimaryClient,k,N);return W_(w,C.targetId,O.au),O.snapshot}(t,d,f,g);const s=await O_(t.localStore,e,!0),o=new BL(e,s.Qs),a=o.ru(s.documents),l=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);W_(t,n,c.au);const h=new WL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function QL(t,e,n){const r=re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!yd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wv(r.remoteStore,i.targetId),Cm(r,i.targetId)}).catch(Uo)):(Cm(r,i.targetId),await Im(r.localStore,i.targetId,!0))}async function XL(t,e){const n=re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))}async function JL(t,e,n){const r=s$(t);try{const i=await function(o,a){const l=re(o),c=Ce.now(),h=a.reduce((g,E)=>g.add(E.key),he());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=br(),w=he();return l.Ns.getEntries(g,h).next(C=>{E=C,E.forEach((T,y)=>{y.isValidDocument()||(w=w.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(C=>{d=C;const T=[];for(const y of a){const b=cM(y,d.get(y.key).overlayedDocument);b!=null&&T.push(new Ss(y.key,b,oI(b.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,T,a)}).next(C=>{f=C;const T=C.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(g,C.batchId,T)})}).then(()=>({batchId:f.batchId,changes:yI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Le(ce)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await hu(r,i.changes),await Id(r.remoteStore)}catch(i){const s=bv(i,"Failed to persist write");n.reject(s)}}async function JI(t,e){const n=re(t);try{const r=await lL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?me(o.hu,14607):i.removedDocuments.size>0&&(me(o.hu,42227),o.hu=!1))}),await hu(n,r,e)}catch(r){await Uo(r)}}function B_(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&Iv(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZL(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Le(X.comparator);o=o.insert(s,kt.newNoDocument(s,ne.min()));const a=he().add(s),l=new Td(ne.min(),new Map,new Le(ce),o,a);await JI(r,l),r.du=r.du.remove(s),r.Au.delete(e),Pv(r)}else await Im(r.localStore,e,!1).then(()=>Cm(r,e,n)).catch(Uo)}async function e$(t,e){const n=re(t),r=e.batch.batchId;try{const i=await aL(n.localStore,e);eA(n,r,null),ZI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,i)}catch(i){await Uo(i)}}async function t$(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(me(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);eA(r,e,n),ZI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,i)}catch(i){await Uo(i)}}function ZI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eA(t,e,n){const r=re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||tA(t,r)})}function tA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pv(t))}function W_(t,e,n){for(const r of n)r instanceof YI?(t.Ru.addReference(r.key,e),n$(t,r)):r instanceof QI?(q(Av,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tA(t,r.key)):Z(19791,{wu:r})}function n$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(Av,"New document in limbo: "+n),t.Eu.add(r),Pv(t))}function Pv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new HL(n)),t.du=t.du.insert(n,r),BI(t.remoteStore,new Xr(Zn(fI(n.path)),r,"TargetPurposeLimboResolution",md.ce))}}async function hu(t,e,n){const r=re(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=vv.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=re(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(c,f=>V.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>V.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!jo(d))throw d;q(yv,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.Ms.get(f),E=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(f,w)}}}(r.localStore,s))}async function r$(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){q(Av,"User change. New user:",e.toKey());const r=await FI(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new G($.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ls)}}function i$(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return he().add(r.key);{let i=he();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function nA(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZL.bind(null,e),e.Pu.H_=UL.bind(null,e.eventManager),e.Pu.yu=jL.bind(null,e.eventManager),e}function s$(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t$.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oL(this.persistence,new rL,e.initialUser,this.serializer)}Cu(e){return new VI(gv.mi,this.serializer)}Du(e){return new fL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class o$ extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new VI(r=>kh.mi(r,n),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r$.bind(null,this.syncEngine),await ML(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $L}()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=function(s){return new yL(s)}(e.databaseInfo);return function(s,o,a,l){return new TL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new bL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>B_(this.syncEngine,n,0),function(){return $_.v()?new $_:new pL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new qL(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=re(i);q(ls,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="FirestoreClient";class l${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=iv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(_i,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(_i,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zf(t,e){t.asyncQueue.verifyOperationInProgress(),q(_i,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u$(t);q(_i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F_(e.remoteStore,i)),t._onlineComponents=e}async function u$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(_i,"Using user provided OfflineComponentProvider");try{await Zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Zf(t,new xh)}}else q(_i,"Using default OfflineComponentProvider"),await Zf(t,new o$(void 0));return t._offlineComponents}async function rA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(_i,"Using user provided OnlineComponentProvider"),await H_(t,t._uninitializedComponentsProvider._online)):(q(_i,"Using default OnlineComponentProvider"),await H_(t,new Rm))),t._onlineComponents}function c$(t){return rA(t).then(e=>e.syncEngine)}async function h$(t){const e=await rA(t),n=e.eventManager;return n.onListen=GL.bind(null,e.syncEngine),n.onUnlisten=QL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XL.bind(null,e.syncEngine),n}function d$(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new a$({next:f=>{h.Nu(),o.enqueueAndForget(()=>FL(s,d)),f.fromCache&&l.source==="server"?c.reject(new G($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new zL(a,h,{includeMetadataChanges:!0,qa:!0});return VL(s,d)}(await h$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firestore.googleapis.com",G_=!0;class K_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sA,this.ssl=G_}else this.host=e.host,this.ssl=e.ssl??G_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UM)throw new G($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m2;switch(r.type){case"firstParty":return new w2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q_.get(n);r&&(q("ComponentProvider","Removing Datastore"),q_.delete(n),r.terminate())}(this),Promise.resolve()}}function oA(t,e,n,r={}){var c;t=Rl(t,Ad);const i=ws(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Wg(`https://${a}`),Hg("Firestore",!0)),s.host!==sA&&s.host!==a&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!is(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Ct.MOCK_USER;else{h=PD(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ct(f)}t._authCredentials=new g2(new Gb(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ou(n,ht._jsonSchema))return new ht(e,r||null,new X(Ee.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Ze("string",ht._jsonSchemaVersion),referencePath:Ze("string")};class hi extends Bo{constructor(e,n,r){super(e,n,fI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new X(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function He(t,e,...n){if(t=_t(t),Kb("collection","path",e),t instanceof Ad){const r=Ee.fromString(e,...n);return a_(r),new hi(t,null,r)}{if(!(t instanceof ht||t instanceof hi))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return a_(r),new hi(t.firestore,null,r)}}function Pd(t,e,...n){if(t=_t(t),arguments.length===1&&(e=iv.newId()),Kb("doc","path",e),t instanceof Ad){const r=Ee.fromString(e,...n);return o_(r),new ht(t,null,new X(r))}{if(!(t instanceof ht||t instanceof hi))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return o_(r),new ht(t.firestore,t instanceof hi?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jI(this,"async_queue_retry"),this._c=()=>{const r=Jf();r&&q(Y_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ci;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;q(Y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",X_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Sv.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:X_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function X_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Cd extends Ad{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Q_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function f$(t,e){const n=typeof t=="object"?t:Kg(),r=typeof t=="string"?t:e||Sh,i=ud(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JS("firestore");s&&oA(i,...s)}return i}function aA(t){if(t._terminated)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p$(t),t._firestoreClient}function p$(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new L2(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(Et.fromBase64String(e))}catch(n){throw new G($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Ze("string",pn._jsonSchemaVersion),bytes:Ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ze("string",nr._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new rr(e.vectorValues);throw new G($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Ze("string",rr._jsonSchemaVersion),vectorValues:Ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=/^__.*__$/;class g${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class Rv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uA(this.Ac)&&m$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Cc(e,n,r,i=!1){return new Rv({Ac:e,methodName:n,Dc:r,path:vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cA(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new v$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y$(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);fA("Data must be an object, but it was:",o,r);const a=hA(r,o);let l,c;if(s.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=_$(e,d,n);if(!o.contains(f))throw new G($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);T$(h,f)||h.push(f)}l=new Rn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new g$(new fn(a),l,c)}function w$(t,e,n,r=!1){return kv(n,t.Cc(r?4:3,e))}function kv(t,e){if(dA(t=_t(t)))return fA("Unsupported field value:",e,t),hA(t,e);if(t instanceof lA)return function(r,i){if(!uA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kv(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:Rh(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,s)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:kI(i.serializer,r._byteString)};if(r instanceof ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rr)return function(o,a){return{mapValue:{fields:{[rI]:{stringValue:sI},[bh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return cv(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${pd(r)}`)}(t,e)}function hA(t,e){const n={};return Xb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{const s=kv(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof nr||t instanceof pn||t instanceof ht||t instanceof lA||t instanceof rr)}function fA(t,e,n){if(!dA(n)||!Yb(n)){const r=pd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _$(t,e,n){if((e=_t(e))instanceof Cv)return e._internalPath;if(typeof e=="string")return pA(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const E$=new RegExp("[~\\*/\\[\\]]");function pA(t,e,n){if(e.search(E$)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cv(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G($.INVALID_ARGUMENT,a+t+l)}function T$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S$ extends mA{data(){return super.data()}}function Dv(t,e){return typeof e=="string"?pA(t,e):e instanceof Cv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}class I$ extends xv{}function Ki(t,e,...n){let r=[];e instanceof xv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Nv).length,a=s.filter(l=>l instanceof Rd).length;if(o>1||o>0&&a>0)throw new G($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rd extends I${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rd(e,n,r)}_apply(e){const n=this._parse(e);return gA(e._query,n),new Bo(e.firestore,e.converter,wm(e._query,n))}_parse(e){const n=cA(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Z_(d,h);const E=[];for(const w of d)E.push(J_(l,s,w));f={arrayValue:{values:E}}}else f=J_(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Z_(d,h),f=w$(a,o,d,h==="in"||h==="not-in");return Je.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yi(t,e,n){const r=e,i=Dv("where",t);return Rd._create(i,r,n)}class Nv extends xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gA(o,l),o=wm(o,l)}(e._query,n),new Bo(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function J_(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new G($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pI(e)&&n.indexOf("/")!==-1)throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!X.isDocumentKey(r))throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m_(t,new X(r))}if(n instanceof ht)return m_(t,n._key);throw new G($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(n)}.`)}function Z_(t,e){if(!Array.isArray(t)||t.length===0)throw new G($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class A${convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[bh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Be(o.doubleValue));return new rr(n)}convertGeoPoint(e){return new nr(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);me(LI(r),9688,{name:e});const i=new xl(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||Sr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends mA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ze("string",lo._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Vc extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vc(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:C$(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ze("string",uo._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class R$ extends A${constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function ct(t){t=Rl(t,Bo);const e=Rl(t.firestore,Cd),n=aA(e),r=new R$(e);return b$(t._query),d$(n,t._query).then(i=>new uo(e,r,t,i))}function Ov(t){return vA(Rl(t.firestore,Cd),[new hv(t._key,er.none())])}function Mv(t,e){const n=Rl(t.firestore,Cd),r=Pd(t),i=P$(t.converter,e);return vA(n,[y$(cA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function vA(t,e){return function(r,i){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>JL(await c$(r),i,s)),s.promise}(aA(t),e)}(function(e,n=!0){(function(i){Fo=i})(Lo),ss(new pi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Cd(new v2(r.getProvider("auth-internal")),new _2(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qn(n_,r_,e),Qn(n_,r_,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="us-central1";class D${constructor(e,n,r,i,s=km,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new k$(e,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=km}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function x$(t,e,n){const r=ws(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Wg(t.emulatorOrigin+"/backends"),Hg("Functions",!0))}const eE="@firebase/functions",tE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="auth-internal",O$="app-check-internal",M$="messaging-internal";function L$(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(N$),o=n.getProvider(M$),a=n.getProvider(O$);return new D$(i,s,o,a,r)};ss(new pi(yA,e,"PUBLIC").setMultipleInstances(!0)),Qn(eE,tE,t),Qn(eE,tE,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t=Kg(),e=km){const r=ud(_t(t),yA).getImmediate({identifier:e}),i=JS("functions");return i&&wA(r,...i),r}function wA(t,e,n){x$(_t(t),e,n)}L$();const V$={apiKey:"AIzaSyCYaR5diu-Y7_ji3wu4bNxuH14uT1wOUYw",authDomain:"iepp-67678.firebaseapp.com",databaseURL:"https://iepp-67678-default-rtdb.firebaseio.com",projectId:"iepp-67678",storageBucket:"iepp-67678.firebasestorage.app",messagingSenderId:"1077203592518",appId:"1:1077203592518:web:a8d034e3ad841106f8b147",measurementId:"G-SR7Y043NMM"},Lv=rb(V$),Qi=h2(Lv),Ae=f$(Lv),F$=$$(Lv);window.location.hostname==="localhost"&&(wA(F$,"localhost",5002),oA(Ae,"localhost",8080));const _A=j.createContext(),du=()=>j.useContext(_A),U$=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(null),[s,o]=j.useState(!0);j.useEffect(()=>eO(Qi,async c=>{if(c){n(c);try{const h=await c.getIdTokenResult();i(h.claims.role||null)}catch(h){console.error("Error getting user role:",h),i(null)}}else n(null),i(null);o(!1)}),[]);const a={currentUser:e,userRole:r,loading:s};return v.createElement(_A.Provider,{value:a},!s&&t)},j$=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,a]=j.useState(!1),{currentUser:l}=du(),c=async h=>{h.preventDefault(),a(!0),s("");try{await XN(Qi,t,n)}catch{s("Credenciales incorrectas. Verifica tu email y contrasea.")}finally{a(!1)}};return l?v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),v.createElement("p",{className:"text-gray-600"},"Redirigiendo..."))):v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4"},v.createElement("div",{className:"bg-white/80 backdrop-blur-lg p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/20"},v.createElement("div",{className:"flex justify-center mb-8"},v.createElement("div",{className:"relative"},v.createElement("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-full blur-lg opacity-30 animate-pulse"}),v.createElement("img",{src:"/logo.png",alt:"Logo Iglesia",className:"relative h-20 w-20 rounded-full border-4 border-white shadow-lg"}))),v.createElement("div",{className:"text-center mb-8"},v.createElement("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2"},"Bienvenido"),v.createElement("p",{className:"text-gray-600"},"Ingresa tus credenciales para continuar")),i&&v.createElement("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl"},v.createElement("div",{className:"flex items-center"},v.createElement("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},v.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})),v.createElement("p",{className:"text-red-700 text-sm"},i))),v.createElement("form",{onSubmit:c,className:"space-y-6"},v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Correo Electrnico"),v.createElement("div",{className:"relative"},v.createElement("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"tu@email.com",required:!0,disabled:o}),v.createElement("svg",{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})))),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Contrasea"),v.createElement("div",{className:"relative"},v.createElement("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"",required:!0,disabled:o}),v.createElement("svg",{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})))),v.createElement("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},o?v.createElement("div",{className:"flex items-center justify-center"},v.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Iniciando Sesin..."):v.createElement("div",{className:"flex items-center justify-center"},v.createElement("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})),"Iniciar Sesin"))),v.createElement("div",{className:"mt-8 text-center"},v.createElement("p",{className:"text-sm text-gray-500"},"Plataforma de Gestin para Iglesias"),v.createElement("div",{className:"flex justify-center mt-4 space-x-1"},v.createElement("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),v.createElement("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),v.createElement("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})))))},kn={"ministerio-ninos":{name:"Ministerio de Nios",color:"bg-blue-500"},"ministerio-damas":{name:"Ministerio de Damas",color:"bg-pink-500"},"ministerio-varones":{name:"Ministerio de Varones",color:"bg-green-500"},"ministerio-jovenes":{name:"Ministerio de Jvenes",color:"bg-yellow-500"},"departamento-musica":{name:"Departamento de Msica",color:"bg-purple-500"},"departamento-educacion":{name:"Departamento de Educacin Cristiana",color:"bg-red-500"},"departamento-diaconos":{name:"Departamento de Diconos",color:"bg-indigo-500"},"departamento-publicidad":{name:"Departamento de Publicidad",color:"bg-orange-500"}},tn={SUPER_LEADER:"super_leader",ADMIN:"admin",LEADER:"leader"},EA=()=>{const[t,e]=j.useState([]),[n,r]=j.useState({email:"",password:"",role:"",department:"",nombre:"",apellidos:""}),[i,s]=j.useState(!1),[o,a]=j.useState(null),l=j.useCallback(async()=>{try{const f=(await ct(He(Ae,"users"))).docs.map(g=>({id:g.id,...g.data()}));e(f),localStorage.setItem("users",JSON.stringify(f))}catch(d){console.error("Error fetching users:",d);const f=JSON.parse(localStorage.getItem("users")||"[]");e(f)}},[]);j.useEffect(()=>{l()},[l]);const c=async d=>{d.preventDefault(),s(!0);try{if(console.log("Current user:",Qi.currentUser),!Qi.currentUser)throw new Error("No hay usuario autenticado");const g=window.location.hostname==="localhost"?"http://localhost:5001/iepp-67678/us-central1/createUser":"https://us-central1-iepp-67678.cloudfunctions.net/createUser",E=await Qi.currentUser.getIdToken();console.log("ID Token obtained:",E?"Yes":"No");const w=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({email:n.email,password:n.password,role:n.role,department:n.department,nombre:n.nombre,apellidos:n.apellidos})});if(!w.ok){const T=await w.json();throw new Error(T.error||`HTTP error! status: ${w.status}`)}const C=await w.json();r({email:"",password:"",role:"",nombre:"",apellidos:""}),await l()}catch(f){console.error("Error creando usuario:",f);const g={...n,id:Date.now().toString(),createdAt:new Date},E=[...t,g];e(E),localStorage.setItem("users",JSON.stringify(E)),r({email:"",password:"",role:"",nombre:"",apellidos:""})}finally{s(!1)}},h=async d=>{a(d);try{await Ov(Pd(Ae,"users",d));const f=t.filter(g=>g.id!==d);e(f),localStorage.setItem("users",JSON.stringify(f))}catch(f){console.error("Error eliminando usuario:",f);const g=t.filter(E=>E.id!==d);e(g),localStorage.setItem("users",JSON.stringify(g))}finally{a(null)}};return v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h2",{className:"text-2xl font-bold mb-6"},"Gestin de Usuarios"),v.createElement("form",{onSubmit:c,className:"mb-6"},v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},v.createElement("input",{type:"email",placeholder:"Correo",value:n.email,onChange:d=>r({...n,email:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),v.createElement("input",{type:"password",placeholder:"Contrasea",value:n.password,onChange:d=>r({...n,password:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),v.createElement("select",{value:n.role,onChange:d=>r({...n,role:d.target.value}),className:"px-3 py-2 border rounded",required:!0},v.createElement("option",{value:""},"Seleccionar Rol"),v.createElement("option",{value:tn.SUPER_LEADER},"Super Lder"),v.createElement("option",{value:tn.ADMIN},"Admin"),v.createElement("option",{value:tn.LEADER},"Lder"),v.createElement("option",{value:"member"},"Miembro (sin acceso)")),v.createElement("select",{value:n.department,onChange:d=>r({...n,department:d.target.value}),className:"px-3 py-2 border rounded",required:!0},v.createElement("option",{value:""},"Seleccionar Departamento"),Object.keys(kn).map(d=>v.createElement("option",{key:d,value:d},kn[d].name))),v.createElement("input",{type:"text",placeholder:"Nombre",value:n.nombre,onChange:d=>r({...n,nombre:d.target.value}),className:"px-3 py-2 border rounded",required:!0}),v.createElement("input",{type:"text",placeholder:"Apellidos",value:n.apellidos,onChange:d=>r({...n,apellidos:d.target.value}),className:"px-3 py-2 border rounded",required:!0})),v.createElement("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Crear Usuario")),v.createElement("div",{className:"space-y-4"},t.map(d=>{var f;return v.createElement("div",{key:d.id,className:"border p-4 rounded flex justify-between items-center"},v.createElement("div",null,v.createElement("p",null,d.email),v.createElement("p",{className:"text-sm text-gray-500"},d.role," - ",(f=kn[d.department])==null?void 0:f.name)),v.createElement("button",{onClick:()=>h(d.id),className:"text-red-500 hover:text-red-700"},"Eliminar"))})))},TA=()=>{const[t,e]=j.useState([]),[n,r]=j.useState("");j.useEffect(()=>{(async()=>{const a=await ct(He(Ae,"announcements"));e(a.docs.map(l=>({id:l.id,...l.data()})))})()},[]);const i=async o=>{o.preventDefault(),await Mv(He(Ae,"announcements"),{text:n,timestamp:new Date}),r("");const a=await ct(He(Ae,"announcements"));e(a.docs.map(l=>({id:l.id,...l.data()})))},s=async o=>{await Ov(Pd(Ae,"announcements",o)),e(t.filter(a=>a.id!==o))};return v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h2",{className:"text-2xl font-bold mb-6"},"Anuncios"),v.createElement("form",{onSubmit:i,className:"mb-6"},v.createElement("textarea",{placeholder:"Nuevo anuncio",value:n,onChange:o=>r(o.target.value),className:"w-full px-3 py-2 border rounded",rows:"4",required:!0}),v.createElement("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Crear Anuncio")),v.createElement("div",{className:"space-y-4"},t.map(o=>v.createElement("div",{key:o.id,className:"border p-4 rounded"},v.createElement("p",null,o.text),v.createElement("p",{className:"text-sm text-gray-500"},o.timestamp.toDate().toLocaleString()),v.createElement("button",{onClick:()=>s(o.id),className:"text-red-500 hover:text-red-700 mt-2"},"Eliminar")))))},z$=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),SA=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),B$=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),W$=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),H$=(t,e)=>{e=e||W$(t);let n=e,r=e;SA(e)&&(n=e.map(s=>s.label),r=e.map(s=>s.key));const i=t.map(s=>r.map(o=>q$(o,s)));return[n,...i]},q$=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,i,s,o){const a=r[i];if(a==null)o.splice(1);else return a},e);return n===void 0?t in e?e[t]:"":n},G$=t=>typeof t>"u"||t===null?"":t,bA=(t,e=",",n='"')=>t.filter(r=>r).map(r=>r.map(i=>G$(i)).map(i=>`${n}${i}${n}`).join(e)).join(`
`),K$=(t,e,n,r)=>bA(e?[e,...t]:t,n,r),Y$=(t,e,n,r)=>bA(H$(t,e),n,r),Q$=(t,e,n,r)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),IA=(t,e,n,r)=>{if(SA(t))return Y$(t,e,n,r);if(B$(t))return K$(t,e,n,r);if(typeof t=="string")return Q$(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},AA=(t,e,n,r,i)=>{const s=IA(t,n,r,i),o=z$()?"application/csv":"text/csv",a=new Blob([e?"\uFEFF":"",s],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${s}`,c=window.URL||window.webkitURL;return typeof c.createObjectURL>"u"?l:c.createObjectURL(a)};var PA={exports:{}},X$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J$=X$,Z$=J$;function CA(){}function RA(){}RA.resetWarningCache=CA;var eV=function(){function t(r,i,s,o,a,l){if(l!==Z$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RA,resetWarningCache:CA};return n.PropTypes=n,n};PA.exports=eV();var Zt=PA.exports;const z=Qt(Zt),kA={data:Zt.oneOfType([Zt.string,Zt.array,Zt.func]).isRequired,headers:Zt.array,target:Zt.string,separator:Zt.string,filename:Zt.string,uFEFF:Zt.bool,onClick:Zt.func,asyncOnClick:Zt.bool,enclosingCharacter:Zt.string},DA={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},tV={target:"_blank"};class nE extends v.Component{constructor(e){super(e),this.state={}}buildURI(){return AA(...arguments)}componentDidMount(){const{data:e,headers:n,separator:r,enclosingCharacter:i,uFEFF:s,target:o,specs:a,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,s,n,r,i),o,a,l)}getWindow(){return this.state.page}render(){return null}}W(nE,"defaultProps",Object.assign(DA,tV)),W(nE,"propTypes",kA);var gc;let nV=(gc=class extends v.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return AA(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:i,separator:s,filename:o,enclosingCharacter:a,uFEFF:l}=this.props,c=n&&typeof r=="function"?r():r;let h=new Blob([l?"\uFEFF":"",IA(c,i,s,a)]);return window.navigator.msSaveBlob(h,o),!1}}handleAsyncClick(e){const n=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:r,filename:i,uFEFF:s,children:o,onClick:a,asyncOnClick:l,enclosingCharacter:c,...h}=this.props,f=typeof window>"u"?"":this.buildURI(e,s,n,r,c);return v.createElement("a",{download:i,...h,ref:g=>this.link=g,target:"_self",href:f,onClick:this.handleClick()},o)}},W(gc,"defaultProps",DA),W(gc,"propTypes",kA),gc);const rV=nV,iV=()=>{const[t,e]=j.useState({}),[n,r]=j.useState([]);return j.useEffect(()=>{(async()=>{const s=await ct(He(Ae,"brothers")),o=await ct(He(Ae,"events")),a=await ct(He(Ae,"users")),l={};Object.keys(kn).forEach(h=>{l[h]={brothers:0,events:0,users:0}}),s.forEach(h=>{const d=h.data();l[d.department]&&l[d.department].brothers++}),o.forEach(h=>{const d=h.data();l[d.department]&&l[d.department].events++}),a.forEach(h=>{const d=h.data();d.role==="leader"&&l[d.department]&&l[d.department].users++}),e(l);const c=[];c.push(["Departamento","Hermanos","Eventos","Usuarios"]),Object.keys(l).forEach(h=>{c.push([kn[h].name,l[h].brothers,l[h].events,l[h].users])}),r(c)})()},[]),v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h2",{className:"text-2xl font-bold mb-6"},"Estadsticas"),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6"},Object.keys(t).map(i=>v.createElement("div",{key:i,className:`p-4 rounded text-white ${kn[i].color}`},v.createElement("h3",{className:"text-lg font-medium"},kn[i].name),v.createElement("p",null,"Hermanos: ",t[i].brothers),v.createElement("p",null,"Eventos: ",t[i].events),v.createElement("p",null,"Usuarios: ",t[i].users)))),v.createElement(rV,{data:n,filename:"estadisticas.csv",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Descargar CSV"))};function Ir(t){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(t)}function sV(t,e){if(Ir(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ir(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xA(t){var e=sV(t,"string");return Ir(e)=="symbol"?e:e+""}function ji(t,e,n){return(e=xA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kd(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ar(t,e){if(t==null)return{};var n,r,i=kd(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xA(r.key),r)}}function ot(t,e,n){return e&&iE(t.prototype,e),n&&iE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function NA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NA=function(){return!!t})()}function oV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(t,e){if(e&&(Ir(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oV(t)}function Nt(t,e,n){return e=Oh(e),aV(t,NA()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function Mh(t,e){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Mh(t,e)}function Ot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mh(t,e)}function OA(t){if(Array.isArray(t))return t}function lV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Dm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $v(t,e){if(t){if(typeof t=="string")return Dm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dm(t,e):void 0}}function MA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function us(t,e){return OA(t)||lV(t,e)||$v(t,e)||MA()}function LA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=LA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ue(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=LA(t))&&(r&&(r+=" "),r+=e);return r}function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fe.apply(null,arguments)}var uV=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},cV=uV;const Ll=Qt(cV);var hV=function(){};function dV(t,e){var n={};return Object.keys(t).forEach(function(r){n[Fc(r)]=hV}),n}function sE(t,e){return t[e]!==void 0}function Fc(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function fV(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function pV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Mh(t,e)}function $A(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function VA(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function FA(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}$A.__suppressDeprecationWarning=!0;VA.__suppressDeprecationWarning=!0;FA.__suppressDeprecationWarning=!0;function mV(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=$A,e.componentWillReceiveProps=VA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=FA;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,h,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,c,h,f)}}return t}var gV="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function UA(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=fV(t),s=Object.keys(e),o=s.map(Fc);i||!n.length||Ll(!1);var a=function(c){pV(h,c);function h(){for(var f,g=arguments.length,E=new Array(g),w=0;w<g;w++)E[w]=arguments[w];f=c.call.apply(c,[this].concat(E))||this,f.handlers=Object.create(null),s.forEach(function(T){var y=e[T],b=function(N){if(f.props[y]){var O;f._notifying=!0;for(var I=arguments.length,_=new Array(I>1?I-1:0),S=1;S<I;S++)_[S-1]=arguments[S];(O=f.props)[y].apply(O,[N].concat(_)),f._notifying=!1}f.unmounted||f.setState(function(P){var D,x=P.values;return{values:Fe(Object.create(null),x,(D={},D[T]=N,D))}})};f.handlers[y]=b}),n.length&&(f.attachRef=function(T){f.inner=T});var C=Object.create(null);return s.forEach(function(T){C[T]=f.props[Fc(T)]}),f.state={values:C,prevProps:{}},f}var d=h.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},h.getDerivedStateFromProps=function(g,E){var w=E.values,C=E.prevProps,T={values:Fe(Object.create(null),w),prevProps:{}};return s.forEach(function(y){T.prevProps[y]=g[y],!sE(g,y)&&sE(C,y)&&(T.values[y]=g[Fc(y)])}),T},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var g=this,E=this.props,w=E.innerRef,C=kd(E,["innerRef"]);o.forEach(function(y){delete C[y]});var T={};return s.forEach(function(y){var b=g.props[y];T[y]=b!==void 0?b:g.state.values[y]}),v.createElement(t,Fe({},C,T,this.handlers,{ref:w||this.attachRef}))},h}(v.Component);mV(a),a.displayName="Uncontrolled("+r+")",a.propTypes=Fe({innerRef:function(){}},dV(e)),n.forEach(function(c){a.prototype[c]=function(){var d;return(d=this.inner)[c].apply(d,arguments)}});var l=a;return v.forwardRef&&(l=v.forwardRef(function(c,h){return v.createElement(a,Fe({},c,{innerRef:h,__source:{fileName:gV,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,h,d){return h===void 0&&(h={}),UA(c,Fe({},e,h),d)},l}var Lh="milliseconds",$l="seconds",Vl="minutes",Fl="hours",cs="day",Ao="week",Ul="month",hs="year",ds="decade",fs="century",jA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},vV={month:1,year:12,decade:10*12,century:100*12};function yV(t){return[31,wV(t),31,30,31,30,31,31,30,31,30,31]}function wV(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Ln(t,e,n){switch(t=new Date(t),n){case Lh:case $l:case Vl:case Fl:case cs:case Ao:return _V(t,e*jA[n]);case Ul:case hs:case ds:case fs:return EV(t,e*vV[n])}throw new TypeError('Invalid units: "'+n+'"')}function _V(t,e){var n=new Date(+t+e);return TV(t,n)}function EV(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=n*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,yV(o)[a]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(a),c.setDate(l),c}function TV(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*jA.minutes)}function jl(t,e,n){return Ln(t,-e,n)}function Tt(t,e,n){switch(t=new Date(t),e){case fs:case ds:case hs:t=Vh(t,0);case Ul:t=qA(t,1);case Ao:case cs:t=Wl(t,0);case Fl:t=Po(t,0);case Vl:t=Bl(t,0);case $l:t=zl(t,0)}return e===ds&&(t=jl(t,ps(t)%10,"year")),e===fs&&(t=jl(t,ps(t)%100,"year")),e===Ao&&(t=GA(t,0,n)),t}function $h(t,e,n){switch(t=new Date(t),t=Tt(t,e,n),e){case fs:case ds:case hs:case Ul:case Ao:t=Ln(t,1,e),t=jl(t,1,cs),t.setHours(23,59,59,999);break;case cs:t.setHours(23,59,59,999);break;case Fl:case Vl:case $l:t=Ln(t,1,e),t=jl(t,1,Lh)}return t}var Wo=qo(function(t,e){return t===e}),Vv=qo(function(t,e){return t!==e}),Dd=qo(function(t,e){return t>e}),fu=qo(function(t,e){return t>=e}),Fv=qo(function(t,e){return t<e}),Ho=qo(function(t,e){return t<=e});function zA(){return new Date(Math.min.apply(Math,arguments))}function BA(){return new Date(Math.max.apply(Math,arguments))}function WA(t,e,n,r){return r=r||"day",(!e||fu(t,e,r))&&(!n||Ho(t,n,r))}var zl=Pi("Milliseconds"),Bl=Pi("Seconds"),Po=Pi("Minutes"),Wl=Pi("Hours"),HA=Pi("Day"),qA=Pi("Date"),Vh=Pi("Month"),ps=Pi("FullYear");function SV(t,e){return e===void 0?ps(Tt(t,ds)):Ln(t,e+10,hs)}function bV(t,e){return e===void 0?ps(Tt(t,fs)):Ln(t,e+100,hs)}function GA(t,e,n){var r=(HA(t)+7-(n||0))%7;return e===void 0?r:Ln(t,e-r,cs)}function IV(t,e,n,r){var i,s,o;switch(n){case Lh:case $l:case Vl:case Fl:case cs:case Ao:i=e.getTime()-t.getTime();break;case Ul:case hs:case ds:case fs:i=(ps(e)-ps(t))*12+Vh(e)-Vh(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Lh:s=1;break;case $l:s=1e3;break;case Vl:s=1e3*60;break;case Fl:s=1e3*60*60;break;case cs:s=1e3*60*60*24;break;case Ao:s=1e3*60*60*24*7;break;case Ul:s=1;break;case hs:s=12;break;case ds:s=120;break;case fs:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function Pi(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function qo(t){return function(e,n,r){return t(+Tt(e,r),+Tt(n,r))}}const oE=Object.freeze(Object.defineProperty({__proto__:null,add:Ln,century:bV,date:qA,day:HA,decade:SV,diff:IV,endOf:$h,eq:Wo,gt:Dd,gte:fu,hours:Wl,inRange:WA,lt:Fv,lte:Ho,max:BA,milliseconds:zl,min:zA,minutes:Po,month:Vh,neq:Vv,seconds:Bl,startOf:Tt,subtract:jl,weekday:GA,year:ps},Symbol.toStringTag,{value:"Module"}));function AV(t){if(Array.isArray(t))return Dm(t)}function KA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uc(t){return AV(t)||KA(t)||$v(t)||PV()}function CV(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var YA=CV;function RV(t,e){return t===e||t!==t&&e!==e}var pu=RV,kV=typeof mn=="object"&&mn&&mn.Object===Object&&mn,QA=kV,DV=QA,xV=typeof self=="object"&&self&&self.Object===Object&&self,NV=DV||xV||Function("return this")(),lr=NV,OV=lr,MV=OV.Symbol,Go=MV,aE=Go,XA=Object.prototype,LV=XA.hasOwnProperty,$V=XA.toString,Na=aE?aE.toStringTag:void 0;function VV(t){var e=LV.call(t,Na),n=t[Na];try{t[Na]=void 0;var r=!0}catch{}var i=$V.call(t);return r&&(e?t[Na]=n:delete t[Na]),i}var FV=VV,UV=Object.prototype,jV=UV.toString;function zV(t){return jV.call(t)}var BV=zV,lE=Go,WV=FV,HV=BV,qV="[object Null]",GV="[object Undefined]",uE=lE?lE.toStringTag:void 0;function KV(t){return t==null?t===void 0?GV:qV:uE&&uE in Object(t)?WV(t):HV(t)}var Ko=KV;function YV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kr=YV,QV=Ko,XV=kr,JV="[object AsyncFunction]",ZV="[object Function]",e4="[object GeneratorFunction]",t4="[object Proxy]";function n4(t){if(!XV(t))return!1;var e=QV(t);return e==ZV||e==e4||e==JV||e==t4}var Uv=n4,r4=9007199254740991;function i4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r4}var jv=i4,s4=Uv,o4=jv;function a4(t){return t!=null&&o4(t.length)&&!s4(t)}var mu=a4,l4=9007199254740991,u4=/^(?:0|[1-9]\d*)$/;function c4(t,e){var n=typeof t;return e=e??l4,!!e&&(n=="number"||n!="symbol"&&u4.test(t))&&t>-1&&t%1==0&&t<e}var zv=c4,h4=pu,d4=mu,f4=zv,p4=kr;function m4(t,e,n){if(!p4(n))return!1;var r=typeof e;return(r=="number"?d4(n)&&f4(e,n.length):r=="string"&&e in n)?h4(n[e],t):!1}var xd=m4,g4=/\s/;function v4(t){for(var e=t.length;e--&&g4.test(t.charAt(e)););return e}var y4=v4,w4=y4,_4=/^\s+/;function E4(t){return t&&t.slice(0,w4(t)+1).replace(_4,"")}var T4=E4;function S4(t){return t!=null&&typeof t=="object"}var Ci=S4,b4=Ko,I4=Ci,A4="[object Symbol]";function P4(t){return typeof t=="symbol"||I4(t)&&b4(t)==A4}var gu=P4,C4=T4,cE=kr,R4=gu,hE=0/0,k4=/^[-+]0x[0-9a-f]+$/i,D4=/^0b[01]+$/i,x4=/^0o[0-7]+$/i,N4=parseInt;function O4(t){if(typeof t=="number")return t;if(R4(t))return hE;if(cE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=C4(t);var n=D4.test(t);return n||x4.test(t)?N4(t.slice(2),n?2:8):k4.test(t)?hE:+t}var M4=O4,L4=M4,dE=1/0,$4=17976931348623157e292;function V4(t){if(!t)return t===0?t:0;if(t=L4(t),t===dE||t===-dE){var e=t<0?-1:1;return e*$4}return t===t?t:0}var JA=V4,F4=JA;function U4(t){var e=F4(t),n=e%1;return e===e?n?e-n:e:0}var ZA=U4,j4=YA,z4=xd,B4=ZA,W4=Math.ceil,H4=Math.max;function q4(t,e,n){(n?z4(t,e,n):e===void 0)?e=1:e=H4(B4(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(W4(r/e));i<r;)o[s++]=j4(t,i,i+=e);return o}var G4=q4;const K4=Qt(G4);function vu(t){return t&&t.ownerDocument||document}function Y4(t){var e=vu(t);return e&&e.defaultView||window}function Q4(t,e){return Y4(t).getComputedStyle(t,e)}var X4=/([A-Z])/g;function J4(t){return t.replace(X4,"-$1").toLowerCase()}var Z4=/^ms-/;function hc(t){return J4(t).replace(Z4,"-ms-")}var e3=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function t3(t){return!!(t&&e3.test(t))}function Vs(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(hc(e))||Q4(t).getPropertyValue(hc(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(hc(i)):t3(i)?r+=i+"("+s+") ":n+=hc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Hl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function n3(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Bv(t){return"window"in t&&t.window===t?t:n3(t)&&t.defaultView||!1}function eP(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=Bv(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}const tP=eP("pageXOffset"),nP=eP("pageYOffset");function Xi(t){var e=vu(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Hl(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+nP(r)-(r.clientTop||0),left:n.left+tP(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var r3=function(e){return!!e&&"offsetParent"in e};function i3(t){for(var e=vu(t),n=t&&t.offsetParent;r3(n)&&n.nodeName!=="HTML"&&Vs(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var s3=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function rP(t,e){var n={top:0,left:0},r;if(Vs(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||i3(t);r=Xi(t),s3(i)!=="html"&&(n=Xi(i));var s=String(Vs(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-nP(i)||0;var o=String(Vs(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-tP(i)||0}var a=String(Vs(t,"marginTop")||0),l=String(Vs(t,"marginLeft")||0);return Fe({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const Wv=!!(typeof window<"u"&&window.document&&window.document.createElement);var fE=new Date().getTime();function o3(t){var e=new Date().getTime(),n=Math.max(0,16-(e-fE)),r=setTimeout(t,n);return fE=e,r}var a3=["","webkit","moz","o","ms"],xm="clearTimeout",Nm=o3,pE=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Wv&&a3.some(function(t){var e=pE(t,"request");return e in window&&(xm=pE(t,"cancel"),Nm=function(r){return window[e](r)}),!!Nm});var mE=function(e){typeof window[xm]=="function"&&window[xm](e)},iP=Nm,ep;function l3(t,e){if(!ep){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;ep=function(s,o){return r.call(s,o)}}return ep(t,e)}var u3=Function.prototype.bind.call(Function.prototype.call,[].slice);function c3(t,e){return u3(t.querySelectorAll(e))}var Om=!1,Mm=!1;try{var tp={get passive(){return Om=!0},get once(){return Mm=Om=!0}};Wv&&(window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,!0))}catch{}function h3(t,e,n,r){if(r&&typeof r!="boolean"&&!Mm){var i=r.once,s=r.capture,o=n;!Mm&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Om?r:s)}t.addEventListener(e,n,r)}function d3(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function gE(t){const e=d3(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function vE(){return j.useState(null)}function f3(){const t=j.useRef(!0),e=j.useRef(()=>t.current);return j.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function p3(t){const e=f3();return[t[0],j.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Gt="top",_n="bottom",En="right",Kt="left",Hv="auto",yu=[Gt,_n,En,Kt],Co="start",ql="end",m3="clippingParents",sP="viewport",Oa="popper",g3="reference",yE=yu.reduce(function(t,e){return t.concat([e+"-"+Co,e+"-"+ql])},[]),qv=[].concat(yu,[Hv]).reduce(function(t,e){return t.concat([e,e+"-"+Co,e+"-"+ql])},[]),v3="beforeRead",y3="read",w3="afterRead",_3="beforeMain",E3="main",T3="afterMain",S3="beforeWrite",b3="write",I3="afterWrite",A3=[v3,y3,w3,_3,E3,T3,S3,b3,I3];function ir(t){return t.split("-")[0]}function on(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ms(t){var e=on(t).Element;return t instanceof e||t instanceof Element}function sr(t){var e=on(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Gv(t){if(typeof ShadowRoot>"u")return!1;var e=on(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ji=Math.max,Fh=Math.min,Ro=Math.round;function Lm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oP(){return!/^((?!chrome|android).)*safari/i.test(Lm())}function ko(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&sr(t)&&(i=t.offsetWidth>0&&Ro(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ro(r.height)/t.offsetHeight||1);var o=ms(t)?on(t):window,a=o.visualViewport,l=!oP()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c,x:c,y:h}}function Kv(t){var e=ko(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function aP(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Gv(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ei(t){return t?(t.nodeName||"").toLowerCase():null}function Ar(t){return on(t).getComputedStyle(t)}function P3(t){return["table","td","th"].indexOf(Ei(t))>=0}function Ri(t){return((ms(t)?t.ownerDocument:t.document)||window.document).documentElement}function Nd(t){return Ei(t)==="html"?t:t.assignedSlot||t.parentNode||(Gv(t)?t.host:null)||Ri(t)}function wE(t){return!sr(t)||Ar(t).position==="fixed"?null:t.offsetParent}function C3(t){var e=/firefox/i.test(Lm()),n=/Trident/i.test(Lm());if(n&&sr(t)){var r=Ar(t);if(r.position==="fixed")return null}var i=Nd(t);for(Gv(i)&&(i=i.host);sr(i)&&["html","body"].indexOf(Ei(i))<0;){var s=Ar(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function wu(t){for(var e=on(t),n=wE(t);n&&P3(n)&&Ar(n).position==="static";)n=wE(n);return n&&(Ei(n)==="html"||Ei(n)==="body"&&Ar(n).position==="static")?e:n||C3(t)||e}function Yv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function al(t,e,n){return Ji(t,Fh(e,n))}function R3(t,e,n){var r=al(t,e,n);return r>n?n:r}function lP(){return{top:0,right:0,bottom:0,left:0}}function uP(t){return Object.assign({},lP(),t)}function cP(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var k3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,uP(typeof e!="number"?e:cP(e,yu))};function D3(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ir(n.placement),l=Yv(a),c=[Kt,En].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var d=k3(i.padding,n),f=Kv(s),g=l==="y"?Gt:Kt,E=l==="y"?_n:En,w=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],C=o[l]-n.rects.reference[l],T=wu(s),y=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,b=w/2-C/2,k=d[g],N=y-f[h]-d[E],O=y/2-f[h]/2+b,I=al(k,O,N),_=l;n.modifiersData[r]=(e={},e[_]=I,e.centerOffset=I-O,e)}}function x3(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||aP(e.elements.popper,i)&&(e.elements.arrow=i))}const N3={name:"arrow",enabled:!0,phase:"main",fn:D3,effect:x3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Do(t){return t.split("-")[1]}var O3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function M3(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ro(n*i)/i||0,y:Ro(r*i)/i||0}}function _E(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,f=o.x,g=f===void 0?0:f,E=o.y,w=E===void 0?0:E,C=typeof h=="function"?h({x:g,y:w}):{x:g,y:w};g=C.x,w=C.y;var T=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Kt,k=Gt,N=window;if(c){var O=wu(n),I="clientHeight",_="clientWidth";if(O===on(n)&&(O=Ri(n),Ar(O).position!=="static"&&a==="absolute"&&(I="scrollHeight",_="scrollWidth")),O=O,i===Gt||(i===Kt||i===En)&&s===ql){k=_n;var S=d&&O===N&&N.visualViewport?N.visualViewport.height:O[I];w-=S-r.height,w*=l?1:-1}if(i===Kt||(i===Gt||i===_n)&&s===ql){b=En;var P=d&&O===N&&N.visualViewport?N.visualViewport.width:O[_];g-=P-r.width,g*=l?1:-1}}var D=Object.assign({position:a},c&&O3),x=h===!0?M3({x:g,y:w},on(n)):{x:g,y:w};if(g=x.x,w=x.y,l){var R;return Object.assign({},D,(R={},R[k]=y?"0":"",R[b]=T?"0":"",R.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",R))}return Object.assign({},D,(e={},e[k]=y?w+"px":"",e[b]=T?g+"px":"",e.transform="",e))}function L3(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ir(e.placement),variation:Do(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_E(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_E(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L3,data:{}};var dc={passive:!0};function V3(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=on(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,dc)}),a&&l.addEventListener("resize",n.update,dc),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,dc)}),a&&l.removeEventListener("resize",n.update,dc)}}const F3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:V3,data:{}};var U3={left:"right",right:"left",bottom:"top",top:"bottom"};function jc(t){return t.replace(/left|right|bottom|top/g,function(e){return U3[e]})}var j3={start:"end",end:"start"};function EE(t){return t.replace(/start|end/g,function(e){return j3[e]})}function Qv(t){var e=on(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Xv(t){return ko(Ri(t)).left+Qv(t).scrollLeft}function z3(t,e){var n=on(t),r=Ri(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=oP();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Xv(t),y:l}}function B3(t){var e,n=Ri(t),r=Qv(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ji(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ji(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Xv(t),l=-r.scrollTop;return Ar(i||n).direction==="rtl"&&(a+=Ji(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Jv(t){var e=Ar(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function hP(t){return["html","body","#document"].indexOf(Ei(t))>=0?t.ownerDocument.body:sr(t)&&Jv(t)?t:hP(Nd(t))}function ll(t,e){var n;e===void 0&&(e=[]);var r=hP(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=on(r),o=i?[s].concat(s.visualViewport||[],Jv(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ll(Nd(o)))}function $m(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function W3(t,e){var n=ko(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function TE(t,e,n){return e===sP?$m(z3(t,n)):ms(e)?W3(e,n):$m(B3(Ri(t)))}function H3(t){var e=ll(Nd(t)),n=["absolute","fixed"].indexOf(Ar(t).position)>=0,r=n&&sr(t)?wu(t):t;return ms(r)?e.filter(function(i){return ms(i)&&aP(i,r)&&Ei(i)!=="body"}):[]}function q3(t,e,n,r){var i=e==="clippingParents"?H3(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var h=TE(t,c,r);return l.top=Ji(h.top,l.top),l.right=Fh(h.right,l.right),l.bottom=Fh(h.bottom,l.bottom),l.left=Ji(h.left,l.left),l},TE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function dP(t){var e=t.reference,n=t.element,r=t.placement,i=r?ir(r):null,s=r?Do(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Gt:l={x:o,y:e.y-n.height};break;case _n:l={x:o,y:e.y+e.height};break;case En:l={x:e.x+e.width,y:a};break;case Kt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Yv(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case Co:l[c]=l[c]-(e[h]/2-n[h]/2);break;case ql:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function Gl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?m3:a,c=n.rootBoundary,h=c===void 0?sP:c,d=n.elementContext,f=d===void 0?Oa:d,g=n.altBoundary,E=g===void 0?!1:g,w=n.padding,C=w===void 0?0:w,T=uP(typeof C!="number"?C:cP(C,yu)),y=f===Oa?g3:Oa,b=t.rects.popper,k=t.elements[E?y:f],N=q3(ms(k)?k:k.contextElement||Ri(t.elements.popper),l,h,o),O=ko(t.elements.reference),I=dP({reference:O,element:b,strategy:"absolute",placement:i}),_=$m(Object.assign({},b,I)),S=f===Oa?_:O,P={top:N.top-S.top+T.top,bottom:S.bottom-N.bottom+T.bottom,left:N.left-S.left+T.left,right:S.right-N.right+T.right},D=t.modifiersData.offset;if(f===Oa&&D){var x=D[i];Object.keys(P).forEach(function(R){var H=[En,_n].indexOf(R)>=0?1:-1,te=[Gt,_n].indexOf(R)>=0?"y":"x";P[R]+=x[te]*H})}return P}function G3(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?qv:l,h=Do(r),d=h?a?yE:yE.filter(function(E){return Do(E)===h}):yu,f=d.filter(function(E){return c.indexOf(E)>=0});f.length===0&&(f=d);var g=f.reduce(function(E,w){return E[w]=Gl(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[ir(w)],E},{});return Object.keys(g).sort(function(E,w){return g[E]-g[w]})}function K3(t){if(ir(t)===Hv)return[];var e=jc(t);return[EE(t),e,EE(e)]}function Y3(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,E=g===void 0?!0:g,w=n.allowedAutoPlacements,C=e.options.placement,T=ir(C),y=T===C,b=l||(y||!E?[jc(C)]:K3(C)),k=[C].concat(b).reduce(function(et,St){return et.concat(ir(St)===Hv?G3(e,{placement:St,boundary:h,rootBoundary:d,padding:c,flipVariations:E,allowedAutoPlacements:w}):St)},[]),N=e.rects.reference,O=e.rects.popper,I=new Map,_=!0,S=k[0],P=0;P<k.length;P++){var D=k[P],x=ir(D),R=Do(D)===Co,H=[Gt,_n].indexOf(x)>=0,te=H?"width":"height",ee=Gl(e,{placement:D,boundary:h,rootBoundary:d,altBoundary:f,padding:c}),se=H?R?En:Kt:R?_n:Gt;N[te]>O[te]&&(se=jc(se));var U=jc(se),K=[];if(s&&K.push(ee[x]<=0),a&&K.push(ee[se]<=0,ee[U]<=0),K.every(function(et){return et})){S=D,_=!1;break}I.set(D,K)}if(_)for(var Q=E?3:1,oe=function(St){var pt=k.find(function(Xt){var Sn=I.get(Xt);if(Sn)return Sn.slice(0,St).every(function(As){return As})});if(pt)return S=pt,"break"},le=Q;le>0;le--){var ze=oe(le);if(ze==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const Q3={name:"flip",enabled:!0,phase:"main",fn:Y3,requiresIfExists:["offset"],data:{_skip:!1}};function SE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bE(t){return[Gt,En,_n,Kt].some(function(e){return t[e]>=0})}function X3(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Gl(e,{elementContext:"reference"}),a=Gl(e,{altBoundary:!0}),l=SE(o,r),c=SE(a,i,s),h=bE(l),d=bE(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}const J3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:X3};function Z3(t,e,n){var r=ir(t),i=[Kt,Gt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Kt,En].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function eF(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=qv.reduce(function(h,d){return h[d]=Z3(d,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const tF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eF};function nF(t){var e=t.state,n=t.name;e.modifiersData[n]=dP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rF={name:"popperOffsets",enabled:!0,phase:"read",fn:nF,data:{}};function iF(t){return t==="x"?"y":"x"}function sF(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.padding,f=n.tether,g=f===void 0?!0:f,E=n.tetherOffset,w=E===void 0?0:E,C=Gl(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),T=ir(e.placement),y=Do(e.placement),b=!y,k=Yv(T),N=iF(k),O=e.modifiersData.popperOffsets,I=e.rects.reference,_=e.rects.popper,S=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,P=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,x={x:0,y:0};if(O){if(s){var R,H=k==="y"?Gt:Kt,te=k==="y"?_n:En,ee=k==="y"?"height":"width",se=O[k],U=se+C[H],K=se-C[te],Q=g?-_[ee]/2:0,oe=y===Co?I[ee]:_[ee],le=y===Co?-_[ee]:-I[ee],ze=e.elements.arrow,et=g&&ze?Kv(ze):{width:0,height:0},St=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:lP(),pt=St[H],Xt=St[te],Sn=al(0,I[ee],et[ee]),As=b?I[ee]/2-Q-Sn-pt-P.mainAxis:oe-Sn-pt-P.mainAxis,bu=b?-I[ee]/2+Q+Sn+Xt+P.mainAxis:le+Sn+Xt+P.mainAxis,na=e.elements.arrow&&wu(e.elements.arrow),Iu=na?k==="y"?na.clientTop||0:na.clientLeft||0:0,ra=(R=D==null?void 0:D[k])!=null?R:0,ia=se+As-ra-Iu,Au=se+bu-ra,Pu=al(g?Fh(U,ia):U,se,g?Ji(K,Au):K);O[k]=Pu,x[k]=Pu-se}if(a){var Ps,sa=k==="x"?Gt:Kt,oa=k==="x"?_n:En,ke=O[N],Ye=N==="y"?"height":"width",ki=ke+C[sa],Cu=ke-C[oa],Cs=[Gt,Kt].indexOf(T)!==-1,Ru=(Ps=D==null?void 0:D[N])!=null?Ps:0,Dr=Cs?ki:ke-I[Ye]-_[Ye]-Ru+P.altAxis,aa=Cs?ke+I[Ye]+_[Ye]-Ru-P.altAxis:Cu,la=g&&Cs?R3(Dr,ke,aa):al(g?Dr:ki,ke,g?aa:Cu);O[N]=la,x[N]=la-ke}e.modifiersData[r]=x}}const oF={name:"preventOverflow",enabled:!0,phase:"main",fn:sF,requiresIfExists:["offset"]};function aF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lF(t){return t===on(t)||!sr(t)?Qv(t):aF(t)}function uF(t){var e=t.getBoundingClientRect(),n=Ro(e.width)/t.offsetWidth||1,r=Ro(e.height)/t.offsetHeight||1;return n!==1||r!==1}function cF(t,e,n){n===void 0&&(n=!1);var r=sr(e),i=sr(e)&&uF(e),s=Ri(e),o=ko(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ei(e)!=="body"||Jv(s))&&(a=lF(e)),sr(e)?(l=ko(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Xv(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function hF(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function dF(t){var e=hF(t);return A3.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function fF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function pF(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var IE={placement:"bottom",modifiers:[],strategy:"absolute"};function AE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function mF(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?IE:i;return function(a,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},IE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,g={state:h,setOptions:function(T){var y=typeof T=="function"?T(h.options):T;w(),h.options=Object.assign({},s,h.options,y),h.scrollParents={reference:ms(a)?ll(a):a.contextElement?ll(a.contextElement):[],popper:ll(l)};var b=dF(pF([].concat(r,h.options.modifiers)));return h.orderedModifiers=b.filter(function(k){return k.enabled}),E(),g.update()},forceUpdate:function(){if(!f){var T=h.elements,y=T.reference,b=T.popper;if(AE(y,b)){h.rects={reference:cF(y,wu(b),h.options.strategy==="fixed"),popper:Kv(b)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(P){return h.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<h.orderedModifiers.length;k++){if(h.reset===!0){h.reset=!1,k=-1;continue}var N=h.orderedModifiers[k],O=N.fn,I=N.options,_=I===void 0?{}:I,S=N.name;typeof O=="function"&&(h=O({state:h,options:_,name:S,instance:g})||h)}}}},update:fF(function(){return new Promise(function(C){g.forceUpdate(),C(h)})}),destroy:function(){w(),f=!0}};if(!AE(a,l))return g;g.setOptions(c).then(function(C){!f&&c.onFirstUpdate&&c.onFirstUpdate(C)});function E(){h.orderedModifiers.forEach(function(C){var T=C.name,y=C.options,b=y===void 0?{}:y,k=C.effect;if(typeof k=="function"){var N=k({state:h,name:T,instance:g,options:b}),O=function(){};d.push(N||O)}})}function w(){d.forEach(function(C){return C()}),d=[]}return g}}var gF=mF({defaultModifiers:[J3,rF,$3,F3,tF,Q3,oF,N3]}),PE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},vF={name:"applyStyles",enabled:!1},yF={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},wF=[];function _F(t,e,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,c=l===void 0?"absolute":l,h=r.modifiers,d=h===void 0?wF:h,f=kd(r,["enabled","placement","strategy","modifiers"]),g=j.useRef(),E=j.useCallback(function(){var k;(k=g.current)==null||k.update()},[]),w=j.useCallback(function(){var k;(k=g.current)==null||k.forceUpdate()},[]),C=p3(j.useState({placement:a,update:E,forceUpdate:w,attributes:{},styles:{popper:PE(c),arrow:{}}})),T=C[0],y=C[1],b=j.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(N){var O=N.state,I={},_={};Object.keys(O.elements).forEach(function(S){I[S]=O.styles[S],_[S]=O.attributes[S]}),y({state:O,styles:I,attributes:_,update:E,forceUpdate:w,placement:O.placement})}}},[E,w,y]);return j.useEffect(function(){!g.current||!s||g.current.setOptions({placement:a,strategy:c,modifiers:[].concat(d,[b,vF])})},[c,a,b,s]),j.useEffect(function(){if(!(!s||t==null||e==null))return g.current=gF(t,e,Fe({},f,{placement:a,strategy:c,modifiers:[].concat(d,[yF,b])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,y(function(k){return Fe({},k,{attributes:{},styles:{popper:PE(c)}})}))}},[s,t,e]),T}function EF(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Ha(t,e,n,r){return h3(t,e,n,r),function(){EF(t,e,n,r)}}var TF=function(){},SF=TF;const bF=Qt(SF);function IF(t){return t&&"setState"in t?GS.findDOMNode(t):t??null}const AF=function(t){return vu(IF(t))};var PF=27,CE=function(){};function CF(t){return t.button===0}function RF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var RE=function(e){return e&&("current"in e?e.current:e)};function kF(t,e,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=j.useRef(!1),l=e||CE,c=j.useCallback(function(f){var g,E=RE(t);bF(!!E,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!E||RF(f)||!CF(f)||!!Hl(E,(g=f.composedPath==null?void 0:f.composedPath()[0])!=null?g:f.target)},[t]),h=gE(function(f){a.current||l(f)}),d=gE(function(f){f.keyCode===PF&&l(f)});j.useEffect(function(){if(!(i||t==null)){var f=window.event,g=AF(RE(t)),E=Ha(g,o,c,!0),w=Ha(g,o,function(y){if(y===f){f=void 0;return}h(y)}),C=Ha(g,"keyup",function(y){if(y===f){f=void 0;return}d(y)}),T=[];return"ontouchstart"in g.documentElement&&(T=[].slice.call(g.body.children).map(function(y){return Ha(y,"mousemove",CE)})),function(){E(),w(),C(),T.forEach(function(y){return y()})}}},[t,i,o,c,h,d])}function DF(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function xF(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function NF(t){var e,n,r,i,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,c=t.offset,h=t.fixed,d=t.containerPadding,f=t.arrowElement,g=t.popperConfig,E=g===void 0?{}:g,w=DF(E.modifiers);return Fe({},E,{placement:a,enabled:s,strategy:h?"fixed":E.strategy,modifiers:xF(Fe({},w,{eventListeners:{enabled:o},preventOverflow:Fe({},w.preventOverflow,{options:d?Fe({padding:d},(e=w.preventOverflow)==null?void 0:e.options):(n=w.preventOverflow)==null?void 0:n.options}),offset:{options:Fe({offset:c},(r=w.offset)==null?void 0:r.options)},arrow:Fe({},w.arrow,{enabled:!!f,options:Fe({},(i=w.arrow)==null?void 0:i.options,{element:f})}),flip:Fe({enabled:!!l},w.flip)}))})}function OF(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function MF(t,e){t.classList?t.classList.add(e):OF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function kE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=kE(t.className,e):t.setAttribute("class",kE(t.className&&t.className.baseVal||"",e))}var fc;function Zv(t){if((!fc&&fc!==0||t)&&Wv){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),fc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return fc}var np=function(e){var n;return typeof document>"u"?null:e==null?vu().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function DE(t,e){var n=j.useState(function(){return np(t)}),r=n[0],i=n[1];if(!r){var s=np(t);s&&i(s)}return j.useEffect(function(){e&&r&&e(r)},[e,r]),j.useEffect(function(){var o=np(t);o!==r&&i(o)},[t,r]),r}const xE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function $F(t,e){const n=xE(t),r=xE(e);return i=>{n&&n(i),r&&r(i)}}function VF(t,e){return j.useMemo(()=>$F(t,e),[t,e])}var ey=v.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,c=t.transition,h=vE(),d=h[0],f=h[1],g=vE(),E=g[0],w=g[1],C=VF(f,e),T=DE(t.container),y=DE(t.target),b=j.useState(!t.show),k=b[0],N=b[1],O=_F(y,d,NF({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:E,popperConfig:l})),I=O.styles,_=O.attributes,S=kd(O,["styles","attributes"]);t.show?k&&N(!1):!t.transition&&!k&&N(!0);var P=function(){N(!0),t.onExited&&t.onExited.apply(t,arguments)},D=t.show||c&&!k;if(kF(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!D)return null;var x=t.children(Fe({},S,{show:!!t.show,props:Fe({},_.popper,{style:I.popper,ref:C}),arrowProps:Fe({},_.arrow,{style:I.arrow,ref:w})}));if(c){var R=t.onExit,H=t.onExiting,te=t.onEnter,ee=t.onEntering,se=t.onEntered;x=v.createElement(c,{in:t.show,appear:!0,onExit:R,onExiting:H,onExited:P,onEnter:te,onEntering:ee,onEntered:se},x)}return T?GS.createPortal(x,T):null});ey.displayName="Overlay";ey.propTypes={show:z.bool,placement:z.oneOf(qv),target:z.any,container:z.any,flip:z.bool,children:z.func.isRequired,containerPadding:z.number,popperConfig:z.object,rootClose:z.bool,rootCloseEvent:z.oneOf(["click","mousedown"]),rootCloseDisabled:z.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=z.func).isRequired.apply(s,[e].concat(r))}return z.func.apply(z,[e].concat(r))},transition:z.elementType,onEnter:z.func,onEntering:z.func,onEntered:z.func,onExit:z.func,onExiting:z.func,onExited:z.func};const FF=ey;function UF(){this.__data__=[],this.size=0}var jF=UF,zF=pu;function BF(t,e){for(var n=t.length;n--;)if(zF(t[n][0],e))return n;return-1}var Od=BF,WF=Od,HF=Array.prototype,qF=HF.splice;function GF(t){var e=this.__data__,n=WF(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qF.call(e,n,1),--this.size,!0}var KF=GF,YF=Od;function QF(t){var e=this.__data__,n=YF(e,t);return n<0?void 0:e[n][1]}var XF=QF,JF=Od;function ZF(t){return JF(this.__data__,t)>-1}var e6=ZF,t6=Od;function n6(t,e){var n=this.__data__,r=t6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var r6=n6,i6=jF,s6=KF,o6=XF,a6=e6,l6=r6;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=i6;Yo.prototype.delete=s6;Yo.prototype.get=o6;Yo.prototype.has=a6;Yo.prototype.set=l6;var Md=Yo,u6=Md;function c6(){this.__data__=new u6,this.size=0}var h6=c6;function d6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var f6=d6;function p6(t){return this.__data__.get(t)}var m6=p6;function g6(t){return this.__data__.has(t)}var v6=g6,y6=lr,w6=y6["__core-js_shared__"],_6=w6,rp=_6,NE=function(){var t=/[^.]+$/.exec(rp&&rp.keys&&rp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E6(t){return!!NE&&NE in t}var T6=E6,S6=Function.prototype,b6=S6.toString;function I6(t){if(t!=null){try{return b6.call(t)}catch{}try{return t+""}catch{}}return""}var fP=I6,A6=Uv,P6=T6,C6=kr,R6=fP,k6=/[\\^$.*+?()[\]{}|]/g,D6=/^\[object .+?Constructor\]$/,x6=Function.prototype,N6=Object.prototype,O6=x6.toString,M6=N6.hasOwnProperty,L6=RegExp("^"+O6.call(M6).replace(k6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $6(t){if(!C6(t)||P6(t))return!1;var e=A6(t)?L6:D6;return e.test(R6(t))}var V6=$6;function F6(t,e){return t==null?void 0:t[e]}var U6=F6,j6=V6,z6=U6;function B6(t,e){var n=z6(t,e);return j6(n)?n:void 0}var Is=B6,W6=Is,H6=lr,q6=W6(H6,"Map"),ty=q6,G6=Is,K6=G6(Object,"create"),Ld=K6,OE=Ld;function Y6(){this.__data__=OE?OE(null):{},this.size=0}var Q6=Y6;function X6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var J6=X6,Z6=Ld,eU="__lodash_hash_undefined__",tU=Object.prototype,nU=tU.hasOwnProperty;function rU(t){var e=this.__data__;if(Z6){var n=e[t];return n===eU?void 0:n}return nU.call(e,t)?e[t]:void 0}var iU=rU,sU=Ld,oU=Object.prototype,aU=oU.hasOwnProperty;function lU(t){var e=this.__data__;return sU?e[t]!==void 0:aU.call(e,t)}var uU=lU,cU=Ld,hU="__lodash_hash_undefined__";function dU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cU&&e===void 0?hU:e,this}var fU=dU,pU=Q6,mU=J6,gU=iU,vU=uU,yU=fU;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=pU;Qo.prototype.delete=mU;Qo.prototype.get=gU;Qo.prototype.has=vU;Qo.prototype.set=yU;var wU=Qo,ME=wU,_U=Md,EU=ty;function TU(){this.size=0,this.__data__={hash:new ME,map:new(EU||_U),string:new ME}}var SU=TU;function bU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var IU=bU,AU=IU;function PU(t,e){var n=t.__data__;return AU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var $d=PU,CU=$d;function RU(t){var e=CU(this,t).delete(t);return this.size-=e?1:0,e}var kU=RU,DU=$d;function xU(t){return DU(this,t).get(t)}var NU=xU,OU=$d;function MU(t){return OU(this,t).has(t)}var LU=MU,$U=$d;function VU(t,e){var n=$U(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var FU=VU,UU=SU,jU=kU,zU=NU,BU=LU,WU=FU;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=UU;Xo.prototype.delete=jU;Xo.prototype.get=zU;Xo.prototype.has=BU;Xo.prototype.set=WU;var ny=Xo,HU=Md,qU=ty,GU=ny,KU=200;function YU(t,e){var n=this.__data__;if(n instanceof HU){var r=n.__data__;if(!qU||r.length<KU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GU(r)}return n.set(t,e),this.size=n.size,this}var QU=YU,XU=Md,JU=h6,ZU=f6,e5=m6,t5=v6,n5=QU;function Jo(t){var e=this.__data__=new XU(t);this.size=e.size}Jo.prototype.clear=JU;Jo.prototype.delete=ZU;Jo.prototype.get=e5;Jo.prototype.has=t5;Jo.prototype.set=n5;var ry=Jo,r5="__lodash_hash_undefined__";function i5(t){return this.__data__.set(t,r5),this}var s5=i5;function o5(t){return this.__data__.has(t)}var a5=o5,l5=ny,u5=s5,c5=a5;function Uh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new l5;++e<n;)this.add(t[e])}Uh.prototype.add=Uh.prototype.push=u5;Uh.prototype.has=c5;var h5=Uh;function d5(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var f5=d5;function p5(t,e){return t.has(e)}var m5=p5,g5=h5,v5=f5,y5=m5,w5=1,_5=2;function E5(t,e,n,r,i,s){var o=n&w5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,f=!0,g=n&_5?new g5:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var E=t[d],w=e[d];if(r)var C=o?r(w,E,d,e,t,s):r(E,w,d,t,e,s);if(C!==void 0){if(C)continue;f=!1;break}if(g){if(!v5(e,function(T,y){if(!y5(g,y)&&(E===T||i(E,T,n,r,s)))return g.push(y)})){f=!1;break}}else if(!(E===w||i(E,w,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var pP=E5,T5=lr,S5=T5.Uint8Array,mP=S5;function b5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var I5=b5;function A5(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P5=A5,LE=Go,$E=mP,C5=pu,R5=pP,k5=I5,D5=P5,x5=1,N5=2,O5="[object Boolean]",M5="[object Date]",L5="[object Error]",$5="[object Map]",V5="[object Number]",F5="[object RegExp]",U5="[object Set]",j5="[object String]",z5="[object Symbol]",B5="[object ArrayBuffer]",W5="[object DataView]",VE=LE?LE.prototype:void 0,ip=VE?VE.valueOf:void 0;function H5(t,e,n,r,i,s,o){switch(n){case W5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B5:return!(t.byteLength!=e.byteLength||!s(new $E(t),new $E(e)));case O5:case M5:case V5:return C5(+t,+e);case L5:return t.name==e.name&&t.message==e.message;case F5:case j5:return t==e+"";case $5:var a=k5;case U5:var l=r&x5;if(a||(a=D5),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=N5,o.set(t,e);var h=R5(a(t),a(e),r,i,s,o);return o.delete(t),h;case z5:if(ip)return ip.call(t)==ip.call(e)}return!1}var q5=H5;function G5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iy=G5,K5=Array.isArray,Tn=K5,Y5=iy,Q5=Tn;function X5(t,e,n){var r=e(t);return Q5(t)?r:Y5(r,n(t))}var gP=X5;function J5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Z5=J5;function e9(){return[]}var vP=e9,t9=Z5,n9=vP,r9=Object.prototype,i9=r9.propertyIsEnumerable,FE=Object.getOwnPropertySymbols,s9=FE?function(t){return t==null?[]:(t=Object(t),t9(FE(t),function(e){return i9.call(t,e)}))}:n9,sy=s9;function o9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var a9=o9,l9=Ko,u9=Ci,c9="[object Arguments]";function h9(t){return u9(t)&&l9(t)==c9}var d9=h9,UE=d9,f9=Ci,yP=Object.prototype,p9=yP.hasOwnProperty,m9=yP.propertyIsEnumerable,g9=UE(function(){return arguments}())?UE:function(t){return f9(t)&&p9.call(t,"callee")&&!m9.call(t,"callee")},oy=g9,jh={exports:{}};function v9(){return!1}var y9=v9;jh.exports;(function(t,e){var n=lr,r=y9,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(jh,jh.exports);var Vd=jh.exports,w9=Ko,_9=jv,E9=Ci,T9="[object Arguments]",S9="[object Array]",b9="[object Boolean]",I9="[object Date]",A9="[object Error]",P9="[object Function]",C9="[object Map]",R9="[object Number]",k9="[object Object]",D9="[object RegExp]",x9="[object Set]",N9="[object String]",O9="[object WeakMap]",M9="[object ArrayBuffer]",L9="[object DataView]",$9="[object Float32Array]",V9="[object Float64Array]",F9="[object Int8Array]",U9="[object Int16Array]",j9="[object Int32Array]",z9="[object Uint8Array]",B9="[object Uint8ClampedArray]",W9="[object Uint16Array]",H9="[object Uint32Array]",Ie={};Ie[$9]=Ie[V9]=Ie[F9]=Ie[U9]=Ie[j9]=Ie[z9]=Ie[B9]=Ie[W9]=Ie[H9]=!0;Ie[T9]=Ie[S9]=Ie[M9]=Ie[b9]=Ie[L9]=Ie[I9]=Ie[A9]=Ie[P9]=Ie[C9]=Ie[R9]=Ie[k9]=Ie[D9]=Ie[x9]=Ie[N9]=Ie[O9]=!1;function q9(t){return E9(t)&&_9(t.length)&&!!Ie[w9(t)]}var G9=q9;function K9(t){return function(e){return t(e)}}var Fd=K9,zh={exports:{}};zh.exports;(function(t,e){var n=QA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(zh,zh.exports);var ay=zh.exports,Y9=G9,Q9=Fd,jE=ay,zE=jE&&jE.isTypedArray,X9=zE?Q9(zE):Y9,ly=X9,J9=a9,Z9=oy,ej=Tn,tj=Vd,nj=zv,rj=ly,ij=Object.prototype,sj=ij.hasOwnProperty;function oj(t,e){var n=ej(t),r=!n&&Z9(t),i=!n&&!r&&tj(t),s=!n&&!r&&!i&&rj(t),o=n||r||i||s,a=o?J9(t.length,String):[],l=a.length;for(var c in t)(e||sj.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nj(c,l)))&&a.push(c);return a}var wP=oj,aj=Object.prototype;function lj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||aj;return t===n}var uy=lj;function uj(t,e){return function(n){return t(e(n))}}var _P=uj,cj=_P,hj=cj(Object.keys,Object),dj=hj,fj=uy,pj=dj,mj=Object.prototype,gj=mj.hasOwnProperty;function vj(t){if(!fj(t))return pj(t);var e=[];for(var n in Object(t))gj.call(t,n)&&n!="constructor"&&e.push(n);return e}var yj=vj,wj=wP,_j=yj,Ej=mu;function Tj(t){return Ej(t)?wj(t):_j(t)}var _u=Tj,Sj=gP,bj=sy,Ij=_u;function Aj(t){return Sj(t,Ij,bj)}var EP=Aj,BE=EP,Pj=1,Cj=Object.prototype,Rj=Cj.hasOwnProperty;function kj(t,e,n,r,i,s){var o=n&Pj,a=BE(t),l=a.length,c=BE(e),h=c.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:Rj.call(e,f)))return!1}var g=s.get(t),E=s.get(e);if(g&&E)return g==e&&E==t;var w=!0;s.set(t,e),s.set(e,t);for(var C=o;++d<l;){f=a[d];var T=t[f],y=e[f];if(r)var b=o?r(y,T,f,e,t,s):r(T,y,f,t,e,s);if(!(b===void 0?T===y||i(T,y,n,r,s):b)){w=!1;break}C||(C=f=="constructor")}if(w&&!C){var k=t.constructor,N=e.constructor;k!=N&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(t),s.delete(e),w}var Dj=kj,xj=Is,Nj=lr,Oj=xj(Nj,"DataView"),Mj=Oj,Lj=Is,$j=lr,Vj=Lj($j,"Promise"),Fj=Vj,Uj=Is,jj=lr,zj=Uj(jj,"Set"),Bj=zj,Wj=Is,Hj=lr,qj=Wj(Hj,"WeakMap"),Gj=qj,Vm=Mj,Fm=ty,Um=Fj,jm=Bj,zm=Gj,TP=Ko,Zo=fP,WE="[object Map]",Kj="[object Object]",HE="[object Promise]",qE="[object Set]",GE="[object WeakMap]",KE="[object DataView]",Yj=Zo(Vm),Qj=Zo(Fm),Xj=Zo(Um),Jj=Zo(jm),Zj=Zo(zm),Fi=TP;(Vm&&Fi(new Vm(new ArrayBuffer(1)))!=KE||Fm&&Fi(new Fm)!=WE||Um&&Fi(Um.resolve())!=HE||jm&&Fi(new jm)!=qE||zm&&Fi(new zm)!=GE)&&(Fi=function(t){var e=TP(t),n=e==Kj?t.constructor:void 0,r=n?Zo(n):"";if(r)switch(r){case Yj:return KE;case Qj:return WE;case Xj:return HE;case Jj:return qE;case Zj:return GE}return e});var Ud=Fi,sp=ry,ez=pP,tz=q5,nz=Dj,YE=Ud,QE=Tn,XE=Vd,rz=ly,iz=1,JE="[object Arguments]",ZE="[object Array]",pc="[object Object]",sz=Object.prototype,e1=sz.hasOwnProperty;function oz(t,e,n,r,i,s){var o=QE(t),a=QE(e),l=o?ZE:YE(t),c=a?ZE:YE(e);l=l==JE?pc:l,c=c==JE?pc:c;var h=l==pc,d=c==pc,f=l==c;if(f&&XE(t)){if(!XE(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new sp),o||rz(t)?ez(t,e,n,r,i,s):tz(t,e,l,n,r,i,s);if(!(n&iz)){var g=h&&e1.call(t,"__wrapped__"),E=d&&e1.call(e,"__wrapped__");if(g||E){var w=g?t.value():t,C=E?e.value():e;return s||(s=new sp),i(w,C,n,r,s)}}return f?(s||(s=new sp),nz(t,e,n,r,i,s)):!1}var az=oz,lz=az,t1=Ci;function SP(t,e,n,r,i){return t===e?!0:t==null||e==null||!t1(t)&&!t1(e)?t!==t&&e!==e:lz(t,e,n,r,SP,i)}var cy=SP,uz=cy;function cz(t,e){return uz(t,e)}var hz=cz;const dz=Qt(hz);function op(t,e){var n=Bv(t);return n?n.innerHeight:e?t.clientHeight:Xi(t).height}function bP(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(l3(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function fz(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var pz=fz,mz=ry,gz=cy,vz=1,yz=2;function wz(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new mz;if(r)var f=r(c,h,l,t,e,d);if(!(f===void 0?gz(h,c,vz|yz,r,d):f))return!1}}return!0}var _z=wz,Ez=kr;function Tz(t){return t===t&&!Ez(t)}var IP=Tz,Sz=IP,bz=_u;function Iz(t){for(var e=bz(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sz(i)]}return e}var Az=Iz;function Pz(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var AP=Pz,Cz=_z,Rz=Az,kz=AP;function Dz(t){var e=Rz(t);return e.length==1&&e[0][2]?kz(e[0][0],e[0][1]):function(n){return n===t||Cz(n,t,e)}}var xz=Dz,Nz=Tn,Oz=gu,Mz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lz=/^\w*$/;function $z(t,e){if(Nz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Oz(t)?!0:Lz.test(t)||!Mz.test(t)||e!=null&&t in Object(e)}var hy=$z,PP=ny,Vz="Expected a function";function dy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vz);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(dy.Cache||PP),n}dy.Cache=PP;var Fz=dy,Uz=Fz,jz=500;function zz(t){var e=Uz(t,function(r){return n.size===jz&&n.clear(),r}),n=e.cache;return e}var Bz=zz,Wz=Bz,Hz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qz=/\\(\\)?/g,Gz=Wz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hz,function(n,r,i,s){e.push(i?s.replace(qz,"$1"):r||n)}),e}),Kz=Gz;function Yz(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var fy=Yz,n1=Go,Qz=fy,Xz=Tn,Jz=gu,Zz=1/0,r1=n1?n1.prototype:void 0,i1=r1?r1.toString:void 0;function CP(t){if(typeof t=="string")return t;if(Xz(t))return Qz(t,CP)+"";if(Jz(t))return i1?i1.call(t):"";var e=t+"";return e=="0"&&1/t==-Zz?"-0":e}var eB=CP,tB=eB;function nB(t){return t==null?"":tB(t)}var rB=nB,iB=Tn,sB=hy,oB=Kz,aB=rB;function lB(t,e){return iB(t)?t:sB(t,e)?[t]:oB(aB(t))}var jd=lB,uB=gu,cB=1/0;function hB(t){if(typeof t=="string"||uB(t))return t;var e=t+"";return e=="0"&&1/t==-cB?"-0":e}var Eu=hB,dB=jd,fB=Eu;function pB(t,e){e=dB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[fB(e[n++])];return n&&n==r?t:void 0}var zd=pB,mB=zd;function gB(t,e,n){var r=t==null?void 0:mB(t,e);return r===void 0?n:r}var vB=gB;function yB(t,e){return t!=null&&e in Object(t)}var wB=yB,_B=jd,EB=oy,TB=Tn,SB=zv,bB=jv,IB=Eu;function AB(t,e,n){e=_B(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=IB(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&bB(i)&&SB(o,i)&&(TB(t)||EB(t)))}var PB=AB,CB=wB,RB=PB;function kB(t,e){return t!=null&&RB(t,e,CB)}var DB=kB,xB=cy,NB=vB,OB=DB,MB=hy,LB=IP,$B=AP,VB=Eu,FB=1,UB=2;function jB(t,e){return MB(t)&&LB(e)?$B(VB(t),e):function(n){var r=NB(n,t);return r===void 0&&r===e?OB(n,t):xB(e,r,FB|UB)}}var zB=jB;function BB(t){return t}var Bd=BB;function WB(t){return function(e){return e==null?void 0:e[t]}}var HB=WB,qB=zd;function GB(t){return function(e){return qB(e,t)}}var KB=GB,YB=HB,QB=KB,XB=hy,JB=Eu;function ZB(t){return XB(t)?YB(JB(t)):QB(t)}var eW=ZB,tW=xz,nW=zB,rW=Bd,iW=Tn,sW=eW;function oW(t){return typeof t=="function"?t:t==null?rW:typeof t=="object"?iW(t)?nW(t[0],t[1]):tW(t):sW(t)}var Wd=oW,aW=pz,lW=Wd,uW=ZA,cW=Math.max;function hW(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uW(n);return i<0&&(i=cW(r+i,0)),aW(t,lW(e),i)}var dW=hW;const fW=Qt(dW);var pW=Math.ceil,mW=Math.max;function gW(t,e,n,r){for(var i=-1,s=mW(pW((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var vW=gW,yW=vW,wW=xd,ap=JA;function _W(t){return function(e,n,r){return r&&typeof r!="number"&&wW(e,n,r)&&(n=r=void 0),e=ap(e),n===void 0?(n=e,e=0):n=ap(n),r=r===void 0?e<n?1:-1:ap(r),yW(e,n,r,t)}}var EW=_W,TW=EW,SW=TW(),bW=SW;const IW=Qt(bW);var s1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function AW(t,e){return!!(t===e||s1(t)&&s1(e))}function PW(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!AW(t[n],e[n]))return!1;return!0}function RP(t,e){e===void 0&&(e=PW);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}function Bm(t,e){var n=Bv(t);return n?n.innerWidth:e?t.clientWidth:Xi(t).width}var o1=Go,CW=oy,RW=Tn,a1=o1?o1.isConcatSpreadable:void 0;function kW(t){return RW(t)||CW(t)||!!(a1&&t&&t[a1])}var DW=kW,xW=iy,NW=DW;function kP(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=NW),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?kP(a,e-1,n,r,i):xW(i,a):r||(i[i.length]=a)}return i}var DP=kP;function OW(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var MW=OW,LW=MW,$W=LW(),VW=$W,FW=VW,UW=_u;function jW(t,e){return t&&FW(t,e,UW)}var py=jW,zW=mu;function BW(t,e){return function(n,r){if(n==null)return n;if(!zW(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var WW=BW,HW=py,qW=WW,GW=qW(HW),KW=GW,YW=KW,QW=mu;function XW(t,e){var n=-1,r=QW(t)?Array(t.length):[];return YW(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var JW=XW;function ZW(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var eH=ZW,l1=gu;function tH(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=l1(t),o=e!==void 0,a=e===null,l=e===e,c=l1(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var nH=tH,rH=nH;function iH(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=rH(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var sH=iH,lp=fy,oH=zd,aH=Wd,lH=JW,uH=eH,cH=Fd,hH=sH,dH=Bd,fH=Tn;function pH(t,e,n){e.length?e=lp(e,function(s){return fH(s)?function(o){return oH(o,s.length===1?s[0]:s)}:s}):e=[dH];var r=-1;e=lp(e,cH(aH));var i=lH(t,function(s,o,a){var l=lp(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return uH(i,function(s,o){return hH(s,o,n)})}var mH=pH;function gH(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var vH=gH,yH=vH,u1=Math.max;function wH(t,e,n){return e=u1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=u1(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),yH(t,this,a)}}var xP=wH;function _H(t){return function(){return t}}var EH=_H,TH=Is,SH=function(){try{var t=TH(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NP=SH,bH=EH,c1=NP,IH=Bd,AH=c1?function(t,e){return c1(t,"toString",{configurable:!0,enumerable:!1,value:bH(e),writable:!0})}:IH,PH=AH,CH=800,RH=16,kH=Date.now;function DH(t){var e=0,n=0;return function(){var r=kH(),i=RH-(r-n);if(n=r,i>0){if(++e>=CH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xH=DH,NH=PH,OH=xH,MH=OH(NH),OP=MH,LH=Bd,$H=xP,VH=OP;function FH(t,e){return VH($H(t,e,LH),t+"")}var MP=FH,UH=DP,jH=mH,zH=MP,h1=xd,BH=zH(function(t,e){if(t==null)return[];var n=e.length;return n>1&&h1(t,e[0],e[1])?e=[]:n>2&&h1(e[0],e[1],e[2])&&(e=[e[0]]),jH(t,UH(e,1),[])}),WH=BH;const HH=Qt(WH);function LP(t){return OA(t)||KA(t)||$v(t)||MA()}function qH(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var GH=qH,KH=kr,YH=uy,QH=GH,XH=Object.prototype,JH=XH.hasOwnProperty;function ZH(t){if(!KH(t))return QH(t);var e=YH(t),n=[];for(var r in t)r=="constructor"&&(e||!JH.call(t,r))||n.push(r);return n}var e8=ZH,t8=wP,n8=e8,r8=mu;function i8(t){return r8(t)?t8(t,!0):n8(t)}var Hd=i8,s8=MP,o8=pu,a8=xd,l8=Hd,$P=Object.prototype,u8=$P.hasOwnProperty,c8=s8(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&a8(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=l8(s),a=-1,l=o.length;++a<l;){var c=o[a],h=t[c];(h===void 0||o8(h,$P[c])&&!u8.call(t,c))&&(t[c]=s[c])}return t}),h8=c8;const d8=Qt(h8);var d1=NP;function f8(t,e,n){e=="__proto__"&&d1?d1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var my=f8,p8=my,m8=py,g8=Wd;function v8(t,e){var n={};return e=g8(e),m8(t,function(r,i,s){p8(n,i,e(r,i,s))}),n}var y8=v8;const w8=Qt(y8);function _8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var VP=_8,E8=my,T8=pu,S8=Object.prototype,b8=S8.hasOwnProperty;function I8(t,e,n){var r=t[e];(!(b8.call(t,e)&&T8(r,n))||n===void 0&&!(e in t))&&E8(t,e,n)}var FP=I8,A8=FP,P8=my;function C8(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?P8(n,a,l):A8(n,a,l)}return n}var Tu=C8,R8=Tu,k8=_u;function D8(t,e){return t&&R8(e,k8(e),t)}var x8=D8,N8=Tu,O8=Hd;function M8(t,e){return t&&N8(e,O8(e),t)}var L8=M8,Bh={exports:{}};Bh.exports;(function(t,e){var n=lr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(Bh,Bh.exports);var $8=Bh.exports;function V8(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var F8=V8,U8=Tu,j8=sy;function z8(t,e){return U8(t,j8(t),e)}var B8=z8,W8=_P,H8=W8(Object.getPrototypeOf,Object),qd=H8,q8=iy,G8=qd,K8=sy,Y8=vP,Q8=Object.getOwnPropertySymbols,X8=Q8?function(t){for(var e=[];t;)q8(e,K8(t)),t=G8(t);return e}:Y8,UP=X8,J8=Tu,Z8=UP;function e7(t,e){return J8(t,Z8(t),e)}var t7=e7,n7=gP,r7=UP,i7=Hd;function s7(t){return n7(t,i7,r7)}var jP=s7,o7=Object.prototype,a7=o7.hasOwnProperty;function l7(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&a7.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var u7=l7,f1=mP;function c7(t){var e=new t.constructor(t.byteLength);return new f1(e).set(new f1(t)),e}var gy=c7,h7=gy;function d7(t,e){var n=e?h7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var f7=d7,p7=/\w*$/;function m7(t){var e=new t.constructor(t.source,p7.exec(t));return e.lastIndex=t.lastIndex,e}var g7=m7,p1=Go,m1=p1?p1.prototype:void 0,g1=m1?m1.valueOf:void 0;function v7(t){return g1?Object(g1.call(t)):{}}var y7=v7,w7=gy;function _7(t,e){var n=e?w7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var E7=_7,T7=gy,S7=f7,b7=g7,I7=y7,A7=E7,P7="[object Boolean]",C7="[object Date]",R7="[object Map]",k7="[object Number]",D7="[object RegExp]",x7="[object Set]",N7="[object String]",O7="[object Symbol]",M7="[object ArrayBuffer]",L7="[object DataView]",$7="[object Float32Array]",V7="[object Float64Array]",F7="[object Int8Array]",U7="[object Int16Array]",j7="[object Int32Array]",z7="[object Uint8Array]",B7="[object Uint8ClampedArray]",W7="[object Uint16Array]",H7="[object Uint32Array]";function q7(t,e,n){var r=t.constructor;switch(e){case M7:return T7(t);case P7:case C7:return new r(+t);case L7:return S7(t,n);case $7:case V7:case F7:case U7:case j7:case z7:case B7:case W7:case H7:return A7(t,n);case R7:return new r;case k7:case N7:return new r(t);case D7:return b7(t);case x7:return new r;case O7:return I7(t)}}var G7=q7,K7=kr,v1=Object.create,Y7=function(){function t(){}return function(e){if(!K7(e))return{};if(v1)return v1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),zP=Y7,Q7=zP,X7=qd,J7=uy;function Z7(t){return typeof t.constructor=="function"&&!J7(t)?Q7(X7(t)):{}}var eq=Z7,tq=Ud,nq=Ci,rq="[object Map]";function iq(t){return nq(t)&&tq(t)==rq}var sq=iq,oq=sq,aq=Fd,y1=ay,w1=y1&&y1.isMap,lq=w1?aq(w1):oq,uq=lq,cq=Ud,hq=Ci,dq="[object Set]";function fq(t){return hq(t)&&cq(t)==dq}var pq=fq,mq=pq,gq=Fd,_1=ay,E1=_1&&_1.isSet,vq=E1?gq(E1):mq,yq=vq,wq=ry,_q=VP,Eq=FP,Tq=x8,Sq=L8,bq=$8,Iq=F8,Aq=B8,Pq=t7,Cq=EP,Rq=jP,kq=Ud,Dq=u7,xq=G7,Nq=eq,Oq=Tn,Mq=Vd,Lq=uq,$q=kr,Vq=yq,Fq=_u,Uq=Hd,jq=1,zq=2,Bq=4,BP="[object Arguments]",Wq="[object Array]",Hq="[object Boolean]",qq="[object Date]",Gq="[object Error]",WP="[object Function]",Kq="[object GeneratorFunction]",Yq="[object Map]",Qq="[object Number]",HP="[object Object]",Xq="[object RegExp]",Jq="[object Set]",Zq="[object String]",eG="[object Symbol]",tG="[object WeakMap]",nG="[object ArrayBuffer]",rG="[object DataView]",iG="[object Float32Array]",sG="[object Float64Array]",oG="[object Int8Array]",aG="[object Int16Array]",lG="[object Int32Array]",uG="[object Uint8Array]",cG="[object Uint8ClampedArray]",hG="[object Uint16Array]",dG="[object Uint32Array]",_e={};_e[BP]=_e[Wq]=_e[nG]=_e[rG]=_e[Hq]=_e[qq]=_e[iG]=_e[sG]=_e[oG]=_e[aG]=_e[lG]=_e[Yq]=_e[Qq]=_e[HP]=_e[Xq]=_e[Jq]=_e[Zq]=_e[eG]=_e[uG]=_e[cG]=_e[hG]=_e[dG]=!0;_e[Gq]=_e[WP]=_e[tG]=!1;function zc(t,e,n,r,i,s){var o,a=e&jq,l=e&zq,c=e&Bq;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!$q(t))return t;var h=Oq(t);if(h){if(o=Dq(t),!a)return Iq(t,o)}else{var d=kq(t),f=d==WP||d==Kq;if(Mq(t))return bq(t,a);if(d==HP||d==BP||f&&!i){if(o=l||f?{}:Nq(t),!a)return l?Pq(t,Sq(o,t)):Aq(t,Tq(o,t))}else{if(!_e[d])return i?t:{};o=xq(t,d,a)}}s||(s=new wq);var g=s.get(t);if(g)return g;s.set(t,o),Vq(t)?t.forEach(function(C){o.add(zc(C,e,n,C,t,s))}):Lq(t)&&t.forEach(function(C,T){o.set(T,zc(C,e,n,T,t,s))});var E=c?l?Rq:Cq:l?Uq:Fq,w=h?void 0:E(t);return _q(w||t,function(C,T){w&&(T=C,C=t[T]),Eq(o,T,zc(C,e,n,T,t,s))}),o}var fG=zc;function pG(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var mG=pG,gG=zd,vG=YA;function yG(t,e){return e.length<2?t:gG(t,vG(e,0,-1))}var wG=yG,_G=jd,EG=mG,TG=wG,SG=Eu;function bG(t,e){return e=_G(e,t),t=TG(t,e),t==null||delete t[SG(EG(e))]}var IG=bG,AG=Ko,PG=qd,CG=Ci,RG="[object Object]",kG=Function.prototype,DG=Object.prototype,qP=kG.toString,xG=DG.hasOwnProperty,NG=qP.call(Object);function OG(t){if(!CG(t)||AG(t)!=RG)return!1;var e=PG(t);if(e===null)return!0;var n=xG.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&qP.call(n)==NG}var MG=OG,LG=MG;function $G(t){return LG(t)?void 0:t}var VG=$G,FG=DP;function UG(t){var e=t==null?0:t.length;return e?FG(t,1):[]}var jG=UG,zG=jG,BG=xP,WG=OP;function HG(t){return WG(BG(t,void 0,zG),t+"")}var qG=HG,GG=fy,KG=fG,YG=IG,QG=jd,XG=Tu,JG=VG,ZG=qG,eK=jP,tK=1,nK=2,rK=4,iK=ZG(function(t,e){var n={};if(t==null)return n;var r=!1;e=GG(e,function(s){return s=QG(s,t),r||(r=s.length>1),s}),XG(t,eK(t),n),r&&(n=KG(n,tK|nK|rK,JG));for(var i=e.length;i--;)YG(n,e[i]);return n}),sK=iK;const oK=Qt(sK);var aK=VP,lK=zP,uK=py,cK=Wd,hK=qd,dK=Tn,fK=Vd,pK=Uv,mK=kr,gK=ly;function vK(t,e,n){var r=dK(t),i=r||fK(t)||gK(t);if(e=cK(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:mK(t)?n=pK(s)?lK(hK(t)):{}:n={}}return(i?aK:uK)(t,function(o,a,l){return e(n,o,a,l)}),n}var yK=vK;const wK=Qt(yK);var _K={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var c=i(s),h=i(o),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(f?this.isBefore(h,a):!this.isAfter(h,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(f?this.isAfter(h,a):!this.isBefore(h,a))}}})})(_K);var EK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(EK);var TK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(TK);var SK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r,i){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,g,E,w){var C=d.name?d:d.$locale(),T=o(C[f]),y=o(C[g]),b=T||y.map(function(N){return N.slice(0,E)});if(!w)return b;var k=C.weekStart;return b.map(function(N,O){return b[(O+(k||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,w,C){return w||C.slice(1)})}(d.formats[f.toUpperCase()])},h=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return h.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(SK);var bK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,h=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,E,w){var C=w&&w.toUpperCase();return E||f[w]||n[w]||f[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,y,b){return y||b.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,h)}}})})(bK);var IK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(h){return h}))[0];for(var c=1;c<a.length;c+=1)a[c].isValid()&&!a[c][o](l)||(l=a[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(IK);var AK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(w){var C={date:w,utc:!0,args:arguments};return new o(C)},l.utc=function(w){var C=a(this.toDate(),{locale:this.$L,utc:!0});return w?C.add(this.utcOffset(),n):C},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),c.call(this,w)};var h=l.init;l.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else h.call(this)};var d=l.utcOffset;l.utcOffset=function(w,C){var T=this.$utils().u;if(T(w))return this.$u?0:T(this.$offset)?d.call(this):this.$offset;if(typeof w=="string"&&(w=function(N){N===void 0&&(N="");var O=N.match(r);if(!O)return null;var I=(""+O[0]).match(i)||["-",0,0],_=I[0],S=60*+I[1]+ +I[2];return S===0?0:_==="+"?S:-S}(w),w===null))return this;var y=Math.abs(w)<=16?60*w:w;if(y===0)return this.utc(C);var b=this.clone();if(C)return b.$offset=y,b.$u=!1,b;var k=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(b=this.local().add(y+k,n)).$offset=y,b.$x.$localOffset=k,b};var f=l.format;l.format=function(w){var C=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,C)},l.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(w){return w==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var E=l.diff;l.diff=function(w,C,T){if(w&&this.$u===w.$u)return E.call(this,w,C,T);var y=this.local(),b=a(w).local();return E.call(y,b,C,T)}}})})(AK);var PK={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(mn,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(PK);function jn(t){return t.children}var Yt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},$t={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},T1=Object.keys($t).map(function(t){return $t[t]});z.oneOfType([z.string,z.func]);z.any;z.func;z.oneOfType([z.arrayOf(z.oneOf(T1)),z.objectOf(function(t,e){var n=T1.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return z.elementType.apply(z,[t,e].concat(i))})]);z.oneOfType([z.oneOf(["overlap","no-overlap"]),z.func]);var S1={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function GP(t,e){var n=Tt(t,"month");return Tt(n,"week",e.startOfWeek())}function KP(t,e){var n=$h(t,"month");return $h(n,"week",e.startOfWeek())}function CK(t,e){for(var n=GP(t,e),r=KP(t,e),i=[];Ho(n,r,"day");)i.push(n),n=Ln(n,1,"day");return i}function RK(t,e){var n=Tt(t,e);return Wo(n,t)?n:Ln(n,1,e)}function kK(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];Ho(r,e,n);)i.push(r),r=Ln(r,1,n);return i}function DK(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Tt(t,"day"),t=Wl(t,Wl(e)),t=Po(t,Po(e)),t=Bl(t,Bl(e)),zl(t,zl(e)))}function b1(t){return Wl(t)===0&&Po(t)===0&&Bl(t)===0&&zl(t)===0}function xK(t,e,n,r){return n==="day"&&(n="date"),Math.abs(oE[n](t,void 0,r)-oE[n](e,void 0,r))}function vy(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Tt(t,n)/S1[n]-+Tt(e,n)/S1[n]))}var NK=z.oneOfType([z.string,z.func]);function OK(t,e,n,r,i){var s=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return Ll(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function MK(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function yy(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function LK(t,e){return vy(t,e,"minutes")+yy(t,e)}function $K(t){var e=Tt(t,"day");return vy(e,t,"minutes")+yy(e,t)}function VK(t,e){return Fv(t,e,"day")}function FK(t,e,n){var r=Wo(t,e,"minutes");return r?fu(e,n,"minutes"):Dd(e,n,"minutes")}function Wm(t,e){return xK(t,e,"day")}function UK(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,c=+Tt(n,"day")-+Tt(o,"day"),h=Wm(n,r),d=Wm(o,a);return c||d-h||!!l-!!i||+n-+o||+r-+a}function jK(t){var e=t.event,n=e.start,r=e.end,i=t.range,s=i.start,o=i.end,a=Tt(n,"day"),l=Ho(a,o,"day"),c=Vv(a,r,"minutes"),h=c?Dd(r,s,"minutes"):fu(r,s,"minutes");return l&&h}function zK(t,e){return Wo(t,e,"day")}function BK(t,e){return b1(t)&&b1(e)}var WK=ot(function t(e){var n=this;st(this,t),Ll(typeof e.format=="function","date localizer `format(..)` must be a function"),Ll(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||NK,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return OK.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||DK,this.inRange=e.inRange||WA,this.lt=e.lt||Fv,this.lte=e.lte||Ho,this.gt=e.gt||Dd,this.gte=e.gte||fu,this.eq=e.eq||Wo,this.neq=e.neq||Vv,this.startOf=e.startOf||Tt,this.endOf=e.endOf||$h,this.add=e.add||Ln,this.range=e.range||kK,this.diff=e.diff||vy,this.ceil=e.ceil||RK,this.min=e.min||zA,this.max=e.max||BA,this.minutes=e.minutes||Po,this.daySpan=e.daySpan||Wm,this.firstVisibleDay=e.firstVisibleDay||GP,this.lastVisibleDay=e.lastVisibleDay||KP,this.visibleDays=e.visibleDays||CK,this.getSlotDate=e.getSlotDate||MK,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||yy,this.getTotalMin=e.getTotalMin||LK,this.getMinutesFromMidnight=e.getMinutesFromMidnight||$K,this.continuesPrior=e.continuesPrior||VK,this.continuesAfter=e.continuesAfter||FK,this.sortEvents=e.sortEvents||UK,this.inEventRange=e.inEventRange||jK,this.isSameDate=e.isSameDate||zK,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||BK,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function HK(t,e,n,r){var i=we(we({},t.formats),n);return we(we({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,i[a]||a,e)}})}var qK=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return v.createElement("div",{className:"rbc-toolbar"},v.createElement("span",{className:"rbc-btn-group"},v.createElement("button",{type:"button",onClick:this.navigate.bind(null,Yt.TODAY)},i.today),v.createElement("button",{type:"button",onClick:this.navigate.bind(null,Yt.PREVIOUS)},i.previous),v.createElement("button",{type:"button",onClick:this.navigate.bind(null,Yt.NEXT)},i.next)),v.createElement("span",{className:"rbc-toolbar-label"},s),v.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return v.createElement("button",{type:"button",key:a,className:Ue({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(v.Component);function Pe(t,e){t&&t.apply(null,[].concat(e))}var GK={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function KK(t){return we(we({},GK),t)}function YK(t){var e=t.ref,n=t.callback;j.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var QK=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],YP=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,c=r.onSelect,h=r.onDoubleClick,d=r.onKeyPress,f=r.localizer,g=r.continuesPrior,E=r.continuesAfter,w=r.accessors,C=r.getters,T=r.children,y=r.components,b=y.event,k=y.eventWrapper,N=r.slotStart,O=r.slotEnd,I=ar(r,QK);delete I.resizable;var _=w.title(o),S=w.tooltip(o),P=w.end(o),D=w.start(o),x=w.allDay(o),R=l||x||f.diff(D,f.ceil(P,"day"),"day")>1,H=C.eventProp(o,D,P,a),te=v.createElement("div",{className:"rbc-event-content",title:S||void 0},b?v.createElement(b,{event:o,continuesPrior:g,continuesAfter:E,title:_,isAllDay:x,localizer:f,slotStart:N,slotEnd:O}):_);return v.createElement(k,Object.assign({},this.props,{type:"date"}),v.createElement("div",Object.assign({},I,{style:we(we({},H.style),i),className:Ue("rbc-event",s,H.className,{"rbc-selected":a,"rbc-event-allday":R,"rbc-event-continues-prior":g,"rbc-event-continues-after":E}),onClick:function(se){return c&&c(o,se)},onDoubleClick:function(se){return h&&h(o,se)},onKeyDown:function(se){return d&&d(o,se)}}),typeof T=="function"?T(te):te))}}])}(v.Component);function Gd(t,e){return!t||e==null?!1:dz(t,e)}function QP(t,e){var n=t.right-t.left,r=n/e;return r}function XP(t,e,n,r){var i=QP(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function XK(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function JK(t,e,n,r,i){var s=-1,o=-1,a=r-1,l=QP(e,r),c=XP(e,n.x,i,r),h=e.top<n.y&&e.bottom>n.y,d=e.top<t.y&&e.bottom>t.y,f=t.y>e.bottom,g=e.top>t.y,E=n.top<e.top&&n.bottom>e.bottom;return E&&(s=0,o=a),h&&(g?(s=0,o=c):f&&(s=c,o=a)),d&&(s=o=i?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),h?c<s?s=c:o=c:t.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function ZK(t){var e=t.target,n=t.offset,r=t.container,i=t.box,s=Xi(e),o=s.top,a=s.left,l=s.width,c=s.height,h=Xi(r),d=h.top,f=h.left,g=h.width,E=h.height,w=Xi(i),C=w.width,T=w.height,y=d+E,b=f+g,k=o+T,N=a+C,O=n.x,I=n.y,_=k>y?o-T-I:o+I+c,S=N>b?a+O-C+l:a+O;return{topOffset:_,leftOffset:S}}function eY(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,c=t.events,h=t.slotStart,d=t.slotEnd,f=t.onSelect,g=t.onDoubleClick,E=t.onKeyPress,w=t.handleDragStart,C=t.popperRef,T=t.target,y=t.offset;YK({ref:C,callback:l}),j.useLayoutEffect(function(){var N=ZK({target:T,offset:y,container:e.current,box:C.current}),O=N.topOffset,I=N.leftOffset;C.current.style.top="".concat(O,"px"),C.current.style.left="".concat(I,"px")},[y.x,y.y,T]);var b=a.width,k={minWidth:b+b/2};return v.createElement("div",{style:k,className:"rbc-overlay",ref:C},v.createElement("div",{className:"rbc-overlay-header"},o.format(h,"dayHeaderFormat")),c.map(function(N,O){return v.createElement(YP,{key:O,type:"popup",localizer:o,event:N,getters:r,onSelect:f,accessors:n,components:s,onDoubleClick:g,onKeyPress:E,continuesPrior:o.lt(n.end(N),h,"day"),continuesAfter:o.gte(n.start(N),d,"day"),slotStart:h,slotEnd:d,selected:Gd(N,i),draggable:!0,onDragStart:function(){return w(N)},onDragEnd:function(){return l()}})}))}var JP=v.forwardRef(function(t,e){return v.createElement(eY,Object.assign({},t,{popperRef:e}))});JP.propTypes={accessors:z.object.isRequired,getters:z.object.isRequired,selected:z.object,components:z.object.isRequired,localizer:z.object.isRequired,position:z.object.isRequired,show:z.func.isRequired,events:z.array.isRequired,slotStart:z.instanceOf(Date).isRequired,slotEnd:z.instanceOf(Date),onSelect:z.func,onDoubleClick:z.func,onKeyPress:z.func,handleDragStart:z.func,style:z.object,offset:z.shape({x:z.number,y:z.number})};function tY(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,c=t.selected,h=t.handleSelectEvent,d=t.handleDoubleClickEvent,f=t.handleKeyPressEvent,g=t.handleDragStart,E=t.onHide,w=t.overlayDisplay,C=j.useRef(null);if(!i.position)return null;var T=r;isNaN(r)||(T={x:r,y:r});var y=i.position,b=i.events,k=i.date,N=i.end;return v.createElement(FF,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:E,target:i.target},function(O){var I=O.props;return v.createElement(JP,Object.assign({},I,{containerRef:e,ref:C,target:i.target,offset:T,accessors:s,getters:l,selected:c,components:a,localizer:o,position:y,show:w,events:b,slotStart:k,slotEnd:N,onSelect:h,onDoubleClick:d,onKeyPress:f,handleDragStart:g}))})}var wy=v.forwardRef(function(t,e){return v.createElement(tY,Object.assign({},t,{containerRef:e}))});wy.propTypes={popupOffset:z.oneOfType([z.number,z.shape({x:z.number,y:z.number})]),overlay:z.shape({position:z.object,events:z.array,date:z.instanceOf(Date),end:z.instanceOf(Date)}),accessors:z.object.isRequired,localizer:z.object.isRequired,components:z.object.isRequired,getters:z.object.isRequired,selected:z.object,handleSelectEvent:z.func,handleDoubleClickEvent:z.func,handleKeyPressEvent:z.func,handleDragStart:z.func,onHide:z.func,overlayDisplay:z.func};function Pt(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Ha(n,t,e,{passive:!1})}function nY(t,e,n){return!t||Hl(t,document.elementFromPoint(e,n))}function rY(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return bP(i,".rbc-event",t)}function iY(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return bP(i,".rbc-show-more",t)}function Wh(t,e){return!!rY(t,e)}function sY(t,e){return!!iY(t,e)}function Ma(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var I1=5,oY=250,ZP=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;st(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Pt("touchmove",function(){},window),this._removeKeyDownListener=Pt("keydown",this._keyListener),this._removeKeyUpListener=Pt("keyup",this._keyListener),this._removeDropFromOutsideListener=Pt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Pt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ot(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:A1(r,gs(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(f){s=setTimeout(function(){h(),n(f)},i.longPressThreshold),o=Pt("touchmove",function(){return h()}),a=Pt("touchend",function(){return h()})},c=Pt("touchstart",l),h=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){h(),c()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Pt("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=Pt("mousedown",n._handleInitialEvent)}),i=Pt("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Ma(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Ma(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Ma(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),c,h;if(!(n.which===3||n.button===2||!nY(l,i,s))){if(!this.globalMouse&&l&&!Hl(l,n.target)){var d=aY(0),f=d.top,g=d.left,E=d.bottom,w=d.right;if(h=gs(l),c=A1({top:h.top-f,left:h.left-g,bottom:h.bottom+E,right:h.right+w},{top:a,left:o}),!c)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(C!==!1)switch(n.type){case"mousedown":this._removeEndListener=Pt("mouseup",this._handleTerminatingEvent),this._onEscListener=Pt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Pt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Pt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Pt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||Hl(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Ma(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<oY?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=Ma(n),a=o.pageX,l=o.pageY,c=Math.abs(i-a),h=Math.abs(s-l),d=Math.min(a,i),f=Math.min(l,s),g=this.selecting,E=this.isClick(a,l);E&&!g&&!(c||h)||(!g&&!E&&this.emit("selectStart",this._initialEventData),E||(this.selecting=!0,this._selectRect={top:f,left:d,x:a,y:l,right:d+c,bottom:f+h},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=I1&&Math.abs(r-o)<=I1}}])}();function aY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ir(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function A1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=gs(t),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,c=l===void 0?i:l,h=gs(e),d=h.top,f=h.left,g=h.right,E=g===void 0?f:g,w=h.bottom,C=w===void 0?d:w;return!(c-n<d||i+n>C||a-n<f||s+n>E)}function gs(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+P1("left"),r=e.top+P1("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function P1(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var lY=function(t){function e(n,r){var i;return st(this,e),i=Nt(this,e,[n,r]),i.state={selecting:!1},i.containerRef=j.createRef(),i}return Ot(e,t),ot(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,c=r.localizer,h=this.state,d=h.selecting,f=h.startIdx,g=h.endIdx,E=s();return v.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(w,C){var T=d&&C>=f&&C<=g,y=o.dayProp(w),b=y.className,k=y.style;return v.createElement(l,{key:C,value:w,range:i},v.createElement("div",{style:k,className:Ue("rbc-day-bg",b,T&&"rbc-selected-cell",c.isSameDate(w,E)&&"rbc-today",a&&c.neq(a,w,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new ZP(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Wh(i,l)&&!sY(i,l)){var h=gs(i),d=r.props,f=d.range,g=d.rtl;if(XK(h,l)){var E=XP(h,l.x,g,f.length);r._selectSlot({startIdx:E,endIdx:E,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,c=l.range,h=l.rtl,d=-1,f=-1;if(r.state.selecting||(Pe(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var g=gs(i),E=JK(r._initial,g,a,c.length,h);d=E.startIdx,f=E.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:f})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Wh(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(we(we({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),Pe(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(v.Component),un={propTypes:{slotMetrics:z.object.isRequired,selected:z.object,isAllDay:z.bool,accessors:z.object.isRequired,localizer:z.object.isRequired,components:z.object.isRequired,getters:z.object.isRequired,onSelect:z.func,onDoubleClick:z.func,onKeyPress:z.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,h=e.slotMetrics,d=e.components,f=e.resizable,g=h.continuesPrior(n),E=h.continuesAfter(n);return v.createElement(YP,{event:n,getters:s,localizer:c,accessors:i,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:g,continuesAfter:E,slotStart:h.first,slotEnd:h.last,selected:Gd(n,r),resizable:f})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/e*100+"%";return v.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},eC=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return v.createElement("div",{className:Ue(a,"rbc-row")},s.reduce(function(c,h,d){var f=h.event,g=h.left,E=h.right,w=h.span,C="_lvl_"+d,T=g-l,y=un.renderEvent(r.props,f);return T&&c.push(un.renderSpan(o,T,"".concat(C,"_gap"))),c.push(un.renderSpan(o,w,C,y)),l=E+1,c},[]))}}])}(v.Component);eC.defaultProps=we({},un.defaultProps);function tC(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function uY(t,e,n,r){var i=tC({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(t),"day"),s),c=r.min(r.ceil(n.end(t),"day"),o),h=fW(e,function(f){return r.isSameDate(f,l)}),d=r.diff(l,c,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:t,span:d,left:h+1,right:Math.max(h+d,1)}}function Hm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<s.length&&cY(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function Kl(t,e,n,r,i){var s={start:r.start(t),end:r.end(t)},o={start:e,end:n};return i.inEventRange({event:s,range:o})}function cY(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function hY(t,e,n){var r=Uc(t),i=[],s=[];r.forEach(function(l){var c=e.start(l),h=e.end(l);n.daySpan(c,h)>1?i.push(l):s.push(l)});var o=i.sort(function(l,c){return qm(l,c,e,n)}),a=s.sort(function(l,c){return qm(l,c,e,n)});return[].concat(Uc(o),Uc(a))}function qm(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var Gm=function(e,n){return e.left<=n&&e.right>=n},up=function(e,n){return e.filter(function(r){return Gm(r,n)}).map(function(r){return r.event})},nC=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=Hm(i).levels[0],a=1,l=1,c=[];a<=s;){var h="_lvl_"+a,d=o.filter(function(k){return Gm(k,a)})[0]||{},f=d.event,g=d.left,E=d.right,w=d.span;if(!f){var C=this.getHiddenEventsForSlot(i,a);if(C.length>0){var T=a-l;T&&c.push(un.renderSpan(s,T,h+"_gap")),c.push(un.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1;continue}a++;continue}var y=Math.max(0,g-l);if(this.canRenderSlotEvent(g,w)){var b=un.renderEvent(this.props,f);y&&c.push(un.renderSpan(s,y,h+"_gap")),c.push(un.renderSpan(s,w,h,b)),l=a=E+1}else y&&c.push(un.renderSpan(s,y,h+"_gap")),c.push(un.renderSpan(s,1,h,this.renderShowMore(i,a))),l=a=a+1}return v.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var s=up(r,i),o=Hm(r).levels[0],a=o.filter(function(l){return Gm(l,i)}).map(function(l){return l.event});return s.filter(function(l){return!a.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return IW(r,r+i).every(function(o){var a=up(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,c=o.components,h=l.getEventsForSlot(i),d=up(r,i),f=d.length;if(c!=null&&c.showMore){var g=c.showMore,E=l.getDateForSlot(i-1);return f?v.createElement(g,{localizer:a,slotDate:E,slot:i,count:f,events:h,remainingEvents:d}):!1}return f?v.createElement("button",{type:"button",key:"sm_"+i,className:Ue("rbc-button-link","rbc-show-more"),onClick:function(C){return s.showMore(i,C)}},a.messages.showMore(f,d,h)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(v.Component);nC.defaultProps=we({},un.defaultProps);var dY=function(e){var n=e.children;return v.createElement("div",{className:"rbc-row-content-scroll-container"},n)},fY=function(e,n){return e.left<=n&&e.right>=n},pY=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function rC(){return RP(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,s=t.accessors,o=t.localizer,a=tC({dateRange:e,localizer:o}),l=a.first,c=a.last,h=n.map(function(w){return uY(w,e,s,o)}),d=Hm(h,Math.max(r-1,1)),f=d.levels,g=d.extra,E=g.length>0?i-1:i;f.length<E;)f.push([]);return{first:l,last:c,levels:f,extra:g,range:e,slots:e.length,clone:function(C){var T=rC();return T(we(we({},t),C))},getDateForSlot:function(C){return e[C]},getSlotForDate:function(C){return e.find(function(T){return o.isSameDate(T,C)})},getEventsForSlot:function(C){return h.filter(function(T){return fY(T,C)}).map(function(T){return T.event})},continuesPrior:function(C){return o.continuesPrior(s.start(C),l)},continuesAfter:function(C){var T=s.start(C),y=s.end(C);return o.continuesAfter(T,y,c)}}},pY)}var Yl=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,c=a.onSelectSlot;c(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,c=l.range,h=l.onShowMore,d=n.slotMetrics(n.props),f=c3(n.containerRef.current,".rbc-row-bg")[0],g;f&&(g=f.children[o-1]);var E=d.getEventsForSlot(o);h(E,c[o-1],g,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,c=l.renderHeader,h=l.getNow,d=l.localizer;return c({date:o,key:"header_".concat(a),className:Ue("rbc-date-cell",d.isSameDate(o,h())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,c=o.renderHeader,h=o.showAllEvents;return v.createElement("div",{className:a,ref:n.containerRef},v.createElement("div",{className:Ue("rbc-row-content",h&&"rbc-row-content-scrollable")},c&&v.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),v.createElement("div",{className:"rbc-row",ref:n.eventRowRef},v.createElement("div",{className:"rbc-row-segment"},v.createElement("div",{className:"rbc-event"},v.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=j.createRef(),n.headingRowRef=j.createRef(),n.eventRowRef=j.createRef(),n.slotMetrics=rC(),n}return Ot(e,t),ot(e,[{key:"getRowLimit",value:function(){var r,i=op(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?op(this.headingRowRef.current):0,o=op(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,c=r.selectable,h=r.renderForMeasure,d=r.accessors,f=r.getters,g=r.components,E=r.getNow,w=r.renderHeader,C=r.onSelect,T=r.localizer,y=r.onSelectStart,b=r.onSelectEnd,k=r.onDoubleClick,N=r.onKeyPress,O=r.resourceId,I=r.longPressThreshold,_=r.isAllDay,S=r.resizable,P=r.showAllEvents;if(h)return this.renderDummy();var D=this.slotMetrics(this.props),x=D.levels,R=D.extra,H=P?dY:jn,te=g.weekWrapper,ee={selected:l,accessors:d,getters:f,localizer:T,components:g,onSelect:C,onDoubleClick:k,onKeyPress:N,resourceId:O,slotMetrics:D,resizable:S};return v.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},v.createElement(lY,{localizer:T,date:i,getNow:E,rtl:s,range:o,selectable:c,container:this.getContainer,getters:f,onSelectStart:y,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:I,resourceId:O}),v.createElement("div",{className:Ue("rbc-row-content",P&&"rbc-row-content-scrollable"),role:"row"},w&&v.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),v.createElement(H,null,v.createElement(te,Object.assign({isAllDay:_},ee,{rtl:this.props.rtl}),x.map(function(se,U){return v.createElement(eC,Object.assign({key:U,segments:se},ee))}),!!R.length&&v.createElement(nC,Object.assign({segments:R,onShowMore:this.handleShowMore},ee))))))}}])}(v.Component);Yl.defaultProps={minRows:0,maxRows:1/0};var _y=function(e){var n=e.label;return v.createElement("span",{role:"columnheader","aria-sort":"none"},n)},mY=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?v.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):v.createElement("span",null,n)},gY=["date","className"],vY=function(e,n,r,i,s){return e.filter(function(o){return Kl(o,n,r,i,s)})},Kd=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,c=l.events,h=l.components,d=l.selectable,f=l.getNow,g=l.selected,E=l.date,w=l.localizer,C=l.longPressThreshold,T=l.accessors,y=l.getters,b=l.showAllEvents,k=n.state,N=k.needLimitMeasure,O=k.rowLimit,I=vY(Uc(c),o[0],o[o.length-1],T,w),_=hY(I,T,w);return v.createElement(Yl,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:f,date:E,range:o,events:_,maxRows:b?1/0:O,selected:g,selectable:d,components:h,accessors:T,getters:y,localizer:w,renderHeader:n.readerDateHeading,renderForMeasure:N,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:C,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:b})},n.readerDateHeading=function(o){var a=o.date,l=o.className,c=ar(o,gY),h=n.props,d=h.date,f=h.getDrilldownView,g=h.localizer,E=g.neq(d,a,"month"),w=g.isSameDate(a,d),C=f(a),T=g.format(a,"dateFormat"),y=n.props.components.dateHeader||mY;return v.createElement("div",Object.assign({},c,{className:Ue(l,E&&"rbc-off-range",w&&"rbc-current"),role:"cell"}),v.createElement(y,{label:T,date:a,drilldownView:C,isOffRange:E,onDrillDown:function(k){return n.handleHeadingClick(a,C,k)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),Pe(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,c,h){var d=n.props,f=d.popup,g=d.onDrillDown,E=d.onShowMore,w=d.getDrilldownView,C=d.doShowMoreDrillDown;if(n.clearSelection(),f){var T=rP(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:T,target:h}})}else C&&Pe(g,[a,w(a)||$t.DAY]);Pe(E,[o,a,c])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=j.createRef(),n.slotRowRef=j.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Ot(e,t),ot(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||iP(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=K4(a,7);return this._weekCount=l.length,v.createElement("div",{className:Ue("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},v.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],c=o.header||_y;return s.range(a,l,"day").map(function(h,d){return v.createElement("div",{key:"header_"+d,className:"rbc-header"},v.createElement(c,{date:h,localizer:s,label:s.format(h,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,E=a.handleDragStart,w=function(){return s.setState({overlay:null})};return v.createElement(wy,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:E,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Pe(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(v.Component);Kd.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};Kd.navigate=function(t,e,n){var r=n.localizer;switch(e){case Yt.PREVIOUS:return r.add(t,-1,"month");case Yt.NEXT:return r.add(t,1,"month");default:return t}};Kd.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var C1=function(e){var n=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function Ey(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,s=t.localizer,o=C1({start:e,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(e,n),l=s.getMinutesFromMidnight(e),c=Math.ceil((a-1)/(r*i)),h=c*i,d=new Array(c),f=new Array(h),g=0;g<c;g++){d[g]=new Array(i);for(var E=0;E<i;E++){var w=g*i+E,C=w*r;f[w]=d[g][E]=s.getSlotDate(e,l,C)}}var T=f.length*r;f.push(s.getSlotDate(e,l,T));function y(b){var k=s.diff(e,b,"minutes")+s.getDstOffset(e,b);return Math.min(k,a)}return{groups:d,update:function(k){return C1(k)!==o?Ey(k):this},dateIsInGroup:function(k,N){var O=d[N+1];return s.inRange(k,d[N][0],O?O[0]:n,"minutes")},nextSlot:function(k){var N=f[Math.min(f.findIndex(function(O){return O===k||s.eq(O,k)})+1,f.length-1)];return s.eq(N,k)&&(N=s.add(k,r,"minutes")),N},closestSlotToPosition:function(k){var N=Math.min(f.length-1,Math.max(0,Math.floor(k*h)));return f[N]},closestSlotFromPoint:function(k,N){var O=Math.abs(N.top-N.bottom);return this.closestSlotToPosition((k.y-N.top)/O)},closestSlotFromDate:function(k){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(k,e,"minutes"))return f[0];if(s.gt(k,n,"minutes"))return f[f.length-1];var O=s.diff(e,k,"minutes");return f[(O-O%r)/r+N]},startsBeforeDay:function(k){return s.lt(k,e,"day")},startsAfterDay:function(k){return s.gt(k,n,"day")},startsBefore:function(k){return s.lt(s.merge(e,k),e,"minutes")},startsAfter:function(k){return s.gt(s.merge(n,k),n,"minutes")},getRange:function(k,N,O,I){O||(k=s.min(n,s.max(e,k))),I||(N=s.min(n,s.max(e,N)));var _=y(k),S=y(N),P=S>r*h&&!s.eq(n,N)?(_-r)/(r*h)*100:_/(r*h)*100;return{top:P,height:S/(r*h)*100-P,start:y(k),startDate:k,end:y(N),endDate:N}},getCurrentTimePosition:function(k){var N=y(k),O=N/(r*h)*100;return O}}}var yY=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;st(this,t);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,c=s.endDate,h=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+c,this.top=h,this.height=d,this.data=e}return ot(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}])}();function wY(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function _Y(t){for(var e=HH(t,["startMs",function(a){return-a.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];n.push(o)}break}}}return n}function iC(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=e.map(function(h){return new yY(h,{slotMetrics:r,accessors:i})}),o=_Y(s),a=[],l=function(){var d=o[c],f=a.find(function(w){return w.end>d.start||Math.abs(d.start-w.start)<n});if(!f)return d.rows=[],a.push(d),1;d.container=f;for(var g=null,E=f.rows.length-1;!g&&E>=0;E--)wY(f.rows[E],d,n)&&(g=f.rows[E]);g?(g.leaves.push(d),d.row=g):(d.leaves=[],f.rows.push(d))},c=0;c<o.length;c++)l();return o.map(function(h){return{event:h.data,style:{top:h.top,height:h.height,width:h.width,xOffset:Math.max(0,h.xOffset)}}})}function sC(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=sC(t.friends[r],e,n);e=e>i?e:i}return e}function EY(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=iC({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(te,ee){return te=te.style,ee=ee.style,te.top!==ee.top?te.top>ee.top?1:-1:te.height!==ee.height?te.top+te.height<ee.top+ee.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],c=l.style.top,h=l.style.top+l.style.height,d=a+1;d<s.length;++d){var f=s[d],g=f.style.top,E=f.style.top+f.style.height;(g>=c&&E<=h||E>c&&E<=h||g>=c&&g<h)&&(l.friends.push(f),f.friends.push(l))}for(var w=0;w<s.length;++w){for(var C=s[w],T=[],y=0;y<100;++y)T.push(1);for(var b=0;b<C.friends.length;++b)C.friends[b].idx!==void 0&&(T[C.friends[b].idx]=0);C.idx=T.indexOf(1)}for(var k=0;k<s.length;++k){var N=0;if(!s[k].size){var O=[],I=sC(s[k],0,O);N=100/(I+1),s[k].size=N;for(var _=0;_<O.length;++_)O[_].size=N}}for(var S=0;S<s.length;++S){var P=s[S];P.style.left=P.idx*P.size;for(var D=0,x=0;x<P.friends.length;++x){var R=P.friends[x].idx;D=D>R?D:R}D<=P.idx&&(P.size=100-P.idx*P.size);var H=P.idx===0?0:3;P.style.width="calc(".concat(P.size,"% - ").concat(H,"px)"),P.style.height="calc(".concat(P.style.height,"% - 2px)"),P.style.xOffset="calc(".concat(P.style.left,"% + ").concat(H,"px)")}return s}var R1={overlap:iC,"no-overlap":EY};function TY(t){return!!(t&&t.constructor&&t.call&&t.apply)}function SY(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in R1&&(n=R1[e]),TY(n)?n.apply(this,arguments):[]}var oC=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,c=l===void 0?{}:l,h=c.timeSlotWrapper,d=h===void 0?jn:h,f=a?a.slotGroupProp(o):{};return v.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(g,E){var w=a?a.slotProp(g,s):{};return v.createElement(d,{key:E,value:g,resource:s},v.createElement("div",Object.assign({},w,{className:Ue("rbc-time-slot",w.className)}),i&&i(g,E)))}))}}])}(j.Component);function mc(t){return typeof t=="string"?t:t+"%"}function bY(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,c=t.continuesAfter,h=t.getters,d=t.onClick,f=t.onDoubleClick,g=t.isBackgroundEvent,E=t.onKeyPress,w=t.components,C=w.event,T=w.eventWrapper,y=i.title(r),b=i.tooltip(r),k=i.end(r),N=i.start(r),O=h.eventProp(r,N,k,o),I=[v.createElement("div",{key:"1",className:"rbc-event-label"},a),v.createElement("div",{key:"2",className:"rbc-event-content"},C?v.createElement(C,{event:r,title:y}):y)],_=e.height,S=e.top,P=e.width,D=e.xOffset,x=we(we({},O.style),{},ji({top:mc(S),height:mc(_),width:mc(P)},s?"right":"left",mc(D)));return v.createElement(T,Object.assign({type:"time"},t),v.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:f,style:x,onKeyDown:E,title:b?(typeof a=="string"?a+": ":"")+b:void 0,className:Ue(g?"rbc-background-event":"rbc-event",n,O.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},I))}var IY=function(e){var n=e.children,r=e.className,i=e.style,s=e.innerRef;return v.createElement("div",{className:r,style:i,ref:s},n)},AY=v.forwardRef(function(t,e){return v.createElement(IY,Object.assign({},t,{innerRef:e}))}),PY=["dayProp"],CY=["eventContainerWrapper","timeIndicatorWrapper"],aC=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,c=n.props,h=c.rtl,d=c.selected,f=c.accessors,g=c.localizer,E=c.getters,w=c.components,C=c.step,T=c.timeslots,y=c.dayLayoutAlgorithm,b=c.resizable,k=n,N=k.slotMetrics,O=g.messages,I=SY({events:a,accessors:f,slotMetrics:N,minimumStartDifference:Math.ceil(C*T/2),dayLayoutAlgorithm:y});return I.map(function(_,S){var P,D=_.event,x=_.style,R=f.end(D),H=f.start(D),te=(P=f.eventId(D))!==null&&P!==void 0?P:"evt_"+S,ee="eventTimeRangeFormat",se,U=N.startsBeforeDay(H),K=N.startsAfterDay(R);U?ee="eventTimeRangeEndFormat":K&&(ee="eventTimeRangeStartFormat"),U&&K?se=O.allDay:se=g.format({start:H,end:R},ee);var Q=U||N.startsBefore(H),oe=K||N.startsAfter(R);return v.createElement(bY,{style:x,event:D,label:se,key:te,getters:E,rtl:h,components:w,continuesPrior:Q,continuesAfter:oe,accessors:f,resource:n.props.resource,selected:Gd(D,d),onClick:function(ze){return n._select(we(we(we({},D),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),ze)},onDoubleClick:function(ze){return n._doubleClick(D,ze)},isBackgroundEvent:l,onKeyPress:function(ze){return n._keyPress(D,ze)},resizable:b})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,c=a.localizer,h=n._selector=new ZP(function(){return o},{longPressThreshold:l}),d=function(w){var C=n.props.onSelecting,T=n.state||{},y=f(w),b=y.startDate,k=y.endDate;C&&(c.eq(T.startDate,b,"minutes")&&c.eq(T.endDate,k,"minutes")||C({start:b,end:k,resourceId:n.props.resource})===!1)||(n.state.start!==y.start||n.state.end!==y.end||n.state.selecting!==y.selecting)&&n.setState(y)},f=function(w){var C=n.slotMetrics.closestSlotFromPoint(w,gs(o));n.state.selecting||(n._initialSlot=C);var T=n._initialSlot;c.lte(T,C)?C=n.slotMetrics.nextSlot(C):c.gt(T,C)&&(T=n.slotMetrics.nextSlot(T));var y=n.slotMetrics.getRange(c.min(T,C),c.max(T,C));return we(we({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},g=function(w,C){if(!Wh(n.containerRef.current,w)){var T=f(w),y=T.startDate,b=T.endDate;n._selectSlot({startDate:y,endDate:b,action:C,box:w})}n.setState({selecting:!1})};h.on("selecting",d),h.on("selectStart",d),h.on("beforeSelect",function(E){if(n.props.selectable==="ignoreEvents")return!Wh(n.containerRef.current,E)}),h.on("click",function(E){return g(E,"click")}),h.on("doubleClick",function(E){return g(E,"doubleClick")}),h.on("select",function(E){n.state.selecting&&(n._selectSlot(we(we({},n.state),{},{action:"select",bounds:E})),n.setState({selecting:!1}))}),h.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,c=o.action,h=o.bounds,d=o.box,f=a,g=[];n.props.localizer.lte(f,l);)g.push(f),f=new Date(+f+n.props.step*60*1e3);Pe(n.props.onSelectSlot,{slots:g,start:a,end:l,resourceId:n.props.resource,action:c,bounds:h,box:d})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onKeyPressEvent,a)},n.slotMetrics=Ey(n.props),n.containerRef=j.createRef(),n}return Ot(e,t),ot(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,c=s.date,h=s.min,d=s.max,f=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||f){if(this.clearTimeIndicatorInterval(),a){var g=!f&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else a&&(l.neq(r.min,h,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,c=r.accessors,h=r.localizer,d=r.getters,f=d.dayProp,g=ar(d,PY),E=r.components,w=E.eventContainerWrapper,C=E.timeIndicatorWrapper,T=ar(E,CY);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,b=this.state,k=b.selecting,N=b.top,O=b.height,I=b.startDate,_=b.endDate,S={start:I,end:_},P=f(s,l),D=P.className,x=P.style,R={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},H=T.dayColumnWrapper||AY;return v.createElement(H,{ref:this.containerRef,date:i,style:x,className:Ue(D,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",k&&"rbc-slot-selecting"),slotMetrics:y,resource:l},y.groups.map(function(te,ee){return v.createElement(oC,{key:ee,group:te,resource:l,getters:g,components:T})}),v.createElement(w,{localizer:h,resource:l,accessors:c,getters:g,components:T,slotMetrics:y},v.createElement("div",{className:Ue("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),k&&v.createElement("div",{className:"rbc-slot-selection",style:{top:N,height:O}},v.createElement("span",null,h.format(S,"selectRangeFormat"))),a&&this.intervalTriggered&&v.createElement(C,R,v.createElement("div",R)))}}])}(v.Component);aC.defaultProps={dragThroughEvents:!0,timeslots:2};var lC=function(e){var n=e.label;return v.createElement(v.Fragment,null,n)},RY=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Pe(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,c=a.rtl,h=a.selectable,d=a.getNow,f=a.range,g=a.getters,E=a.localizer,w=a.accessors,C=a.components,T=a.resizable,y=w.resourceId(o),b=o?l.filter(function(k){return w.resource(k)===y}):l;return v.createElement(Yl,{isAllDay:!0,rtl:c,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:f,events:b,resourceId:y,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:C,accessors:w,getters:g,localizer:E,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:T})},n}return Ot(e,t),ot(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components.header,d=h===void 0?_y:h,f=l();return r.map(function(g,E){var w=a(g),C=o.format(g,"dayFormat"),T=c(g),y=T.className,b=T.style,k=v.createElement(d,{date:g,label:C,localizer:o});return v.createElement("div",{key:E,style:b,className:Ue("rbc-header",y,o.isSameDate(g,f)&&"rbc-today")},w?v.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(O){return i.handleHeaderClick(g,w,O)}},k):v.createElement("span",null,k))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,c=i.events,h=i.getNow,d=i.accessors,f=i.selectable,g=i.components,E=i.getters,w=i.scrollRef,C=i.localizer,T=i.isOverflowing,y=i.components,b=y.timeGutterHeader,k=y.resourceHeader,N=k===void 0?lC:k,O=i.resizable,I={};T&&(I[o?"marginLeft":"marginRight"]="".concat(Zv()-1,"px"));var _=a.groupEvents(c);return v.createElement("div",{style:I,ref:w,className:Ue("rbc-time-header",T&&"rbc-overflowing")},v.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},b&&v.createElement(b,null)),a.map(function(S,P){var D=us(S,2),x=D[0],R=D[1];return v.createElement("div",{className:"rbc-time-header-content",key:x||P},R&&v.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(P)},v.createElement("div",{className:"rbc-header"},v.createElement(N,{index:P,label:d.resourceTitle(R),resource:R}))),v.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),v.createElement(Yl,{isAllDay:!0,rtl:o,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:_.get(x)||[],resourceId:R&&x,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:g,accessors:d,getters:E,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:O}))}))}}])}(v.Component),kY=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),Pe(n.props.onDrillDown,[o,a])},n}return Ot(e,t),ot(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,h=s.components,d=h.header,f=d===void 0?_y:d,g=h.resourceHeader,E=g===void 0?lC:g,w=s.resources,C=s.accessors,T=s.events,y=s.rtl,b=s.selectable,k=s.components,N=s.getters,O=s.resizable,I=l(),_=w.groupEvents(T);return r.map(function(S,P){var D=a(S),x=o.format(S,"dayFormat"),R=c(S),H=R.className,te=R.style,ee=v.createElement(f,{date:S,label:x,localizer:o});return v.createElement("div",{key:P,className:"rbc-time-header-content rbc-resource-grouping"},v.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},v.createElement("div",{style:te,className:Ue("rbc-header",H,o.isSameDate(S,I)&&"rbc-today")},D?v.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(U){return i.handleHeaderClick(S,D,U)}},ee):v.createElement("span",null,ee))),v.createElement("div",{className:"rbc-row"},w.map(function(se,U){var K=us(se,2),Q=K[0],oe=K[1];return v.createElement("div",{key:"resource_".concat(Q,"_").concat(U),className:Ue("rbc-header",H,o.isSameDate(S,I)&&"rbc-today")},v.createElement(E,{index:U,label:C.resourceTitle(oe),resource:oe}))})),v.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},w.map(function(se,U){var K=us(se,2),Q=K[0],oe=K[1],le=(_.get(Q)||[]).filter(function(ze){return o.isSameDate(ze.start,S)||o.isSameDate(ze.end,S)});return v.createElement(Yl,{key:"resource_".concat(Q,"_").concat(U),isAllDay:!0,rtl:y,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[S],events:le,resourceId:oe&&Q,className:"rbc-allday-cell",selectable:b,selected:i.props.selected,components:k,accessors:C,getters:N,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:O})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,h={};return l&&(h[s?"marginLeft":"marginRight"]="".concat(Zv()-1,"px")),v.createElement("div",{style:h,ref:a,className:Ue("rbc-time-header",l&&"rbc-overflowing")},v.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&v.createElement(c,null)),this.renderHeaderCells(o))}}])}(v.Component);function DY(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var xY=function(e){var n=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,c=e.components,h=e.getters,d=e.gutterRef,f=c.timeGutterWrapper,g=j.useMemo(function(){return DY({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),E=g.start,w=g.end,C=j.useState(Ey({min:E,max:w,timeslots:i,step:s,localizer:o})),T=us(C,2),y=T[0],b=T[1];j.useEffect(function(){y&&b(y.update({min:E,max:w,timeslots:i,step:s,localizer:o}))},[E==null?void 0:E.toISOString(),w==null?void 0:w.toISOString(),i,s]);var k=j.useCallback(function(N,O){if(O)return null;var I=y.dateIsInGroup(a(),O);return v.createElement("span",{className:Ue("rbc-label",I&&"rbc-now")},o.format(N,"timeGutterFormat"))},[y,o,a]);return v.createElement(f,{slotMetrics:y},v.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},y.groups.map(function(N,O){return v.createElement(oC,{key:O,group:N,resource:l,components:c,renderSlot:k,getters:h})})))},NY=v.forwardRef(function(t,e){return v.createElement(xY,Object.assign({gutterRef:e},t))}),cp={};function OY(t,e){return{map:function(r){return t?t.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([cp,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||cp;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(cp,r),i)}}}var ea=function(t){function e(n){var r;return st(this,e),r=Nt(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){mE(r.rafHandle),r.rafHandle=iP(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Pe(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Pe(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];Pe(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var c=r.props,h=c.popup,d=c.onDrillDown,f=c.onShowMore,g=c.getDrilldownView,E=c.doShowMoreDrillDown;if(r.clearSelection(),h){var w=rP(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:we(we({},w),{},{width:"200px"}),target:l}})}else E&&Pe(d,[s,g(s)||$t.DAY]);Pe(f,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Pe(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=RP(function(i,s){return OY(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=v.createRef(),r.contentRef=v.createRef(),r.containerRef=v.createRef(),r._scrollRatio=null,r.gutterRef=j.createRef(),r}return Ot(e,t),ot(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),mE(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,c,h,d,f){var g=this.props,E=g.min,w=g.max,C=(o.get(i)||[]).filter(function(y){return l.inRange(r,c.start(y),c.end(y),"day")}),T=(a.get(i)||[]).filter(function(y){return l.inRange(r,c.start(y),c.end(y),"day")});return v.createElement(aC,Object.assign({},this.props,{localizer:l,min:l.merge(r,E),max:l.merge(r,w),resource:s&&i,components:h,isNow:l.isSameDate(r,f),key:"".concat(i,"-").concat(r),date:r,events:C,backgroundEvents:T,dayLayoutAlgorithm:d}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return i.map(function(g){var E=us(g,2),w=E[0],C=E[1];return r.map(function(T){return f.renderDayColumn(T,w,C,s,o,a,l,h,d,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,c,h,d){var f=this;return r.map(function(g){return v.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(E){var w=us(E,2),C=w[0],T=w[1];return v.createElement("div",{style:{flex:1},key:l.resourceId(T)},f.renderDayColumn(g,C,T,s,o,a,l,h,d,c))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,c=a.localizer,h=a.resourceGroupingLayout,d=a.components,f=a.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),E=g.groupEvents(i),w=g.groupEvents(s);return h?this.renderRangeFirst(r,g,E,w,c,l,o,d,f):this.renderResourcesFirst(r,g,E,w,c,l,o,d,f)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,c=i.rtl,h=i.selected,d=i.getNow,f=i.resources,g=i.components,E=i.accessors,w=i.getters,C=i.localizer,T=i.min,y=i.max,b=i.showMultiDayTimes,k=i.longPressThreshold,N=i.resizable,O=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var I=a[0],_=a[a.length-1];this.slots=a.length;var S=[],P=[],D=[];s.forEach(function(R){if(Kl(R,I,_,E,C)){var H=E.start(R),te=E.end(R);E.allDay(R)||C.startAndEndAreDateOnly(H,te)||!b&&!C.isSameDate(H,te)?S.push(R):P.push(R)}}),o.forEach(function(R){Kl(R,I,_,E,C)&&D.push(R)}),S.sort(function(R,H){return qm(R,H,E,C)});var x={range:a,events:S,width:l,rtl:c,getNow:d,localizer:C,selected:h,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(f,E),selectable:this.props.selectable,accessors:E,getters:w,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:k,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:N};return v.createElement("div",{className:Ue("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&O?v.createElement(kY,x):v.createElement(RY,x),this.props.popup&&this.renderOverlay(),v.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},v.createElement(NY,{date:I,ref:this.gutterRef,localizer:C,min:C.merge(I,T),max:C.merge(I,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:w}),this.renderEvents(a,P,D,d())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,c=a.localizer,h=a.components,d=a.getters,f=a.selected,g=a.popupOffset,E=a.handleDragStart,w=function(){return s.setState({overlay:null})};return v.createElement(wy,{overlay:o,accessors:l,localizer:c,components:h,getters:d,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:E,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:w})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?Bm(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),c=a.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])}(j.Component);ea.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var MY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Yd=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,E=ar(r,MY),w=e.range(i,{localizer:s});return v.createElement(ea,Object.assign({},E,{range:w,eventOffset:10,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(v.Component);Yd.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};Yd.navigate=function(t,e,n){var r=n.localizer;switch(e){case Yt.PREVIOUS:return r.add(t,-1,"day");case Yt.NEXT:return r.add(t,1,"day");default:return t}};Yd.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var LY=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ti=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,E=ar(r,LY),w=e.range(i,this.props);return v.createElement(ea,Object.assign({},E,{range:w,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(v.Component);Ti.defaultProps=ea.defaultProps;Ti.navigate=function(t,e,n){var r=n.localizer;switch(e){case Yt.PREVIOUS:return r.add(t,-1,"week");case Yt.NEXT:return r.add(t,1,"week");default:return t}};Ti.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),s=n.endOf(t,"week",r);return n.range(i,s)};Ti.title=function(t,e){var n=e.localizer,r=Ti.range(t,{localizer:n}),i=LP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var $Y=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ty(t,e){return Ti.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Su=function(t){function e(){return st(this,e),Nt(this,e,arguments)}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,h=r.scrollToTime,d=h===void 0?s.startOf(new Date,"day"):h,f=r.enableAutoScroll,g=f===void 0?!0:f,E=ar(r,$Y),w=Ty(i,this.props);return v.createElement(ea,Object.assign({},E,{range:w,eventOffset:15,localizer:s,min:a,max:c,scrollToTime:d,enableAutoScroll:g}))}}])}(v.Component);Su.defaultProps=ea.defaultProps;Su.range=Ty;Su.navigate=Ti.navigate;Su.title=function(t,e){var n=e.localizer,r=Ty(t,{localizer:n}),i=LP(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Qd=30;function Xd(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,s=t.getters,o=t.length,a=o===void 0?Qd:o,l=t.localizer,c=t.onDoubleClickEvent,h=t.onSelectEvent,d=t.selected,f=j.useRef(null),g=j.useRef(null),E=j.useRef(null),w=j.useRef(null),C=j.useRef(null);j.useEffect(function(){b()});var T=function(_,S,P){var D=n.event,x=n.date;return S=S.filter(function(R){return Kl(R,l.startOf(_,"day"),l.endOf(_,"day"),e,l)}),S.map(function(R,H){var te=e.title(R),ee=e.end(R),se=e.start(R),U=s.eventProp(R,se,ee,Gd(R,d)),K=H===0&&l.format(_,"agendaDateFormat"),Q=H===0?v.createElement("td",{rowSpan:S.length,className:"rbc-agenda-date-cell"},x?v.createElement(x,{day:_,label:K}):K):!1;return v.createElement("tr",{key:P+"_"+H,className:U.className,style:U.style},Q,v.createElement("td",{className:"rbc-agenda-time-cell"},y(_,R)),v.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(le){return h&&h(R,le)},onDoubleClick:function(le){return c&&c(R,le)}},D?v.createElement(D,{event:R,title:te}):te))},[])},y=function(_,S){var P="",D=n.time,x=l.messages.allDay,R=e.end(S),H=e.start(S);return e.allDay(S)||(l.eq(H,R)?x=l.format(H,"agendaTimeFormat"):l.isSameDate(H,R)?x=l.format({start:H,end:R},"agendaTimeRangeFormat"):l.isSameDate(_,H)?x=l.format(H,"agendaTimeFormat"):l.isSameDate(_,R)&&(x=l.format(R,"agendaTimeFormat"))),l.gt(_,H,"day")&&(P="rbc-continues-prior"),l.lt(_,R,"day")&&(P+=" rbc-continues-after"),v.createElement("span",{className:P.trim()},D?v.createElement(D,{event:S,day:_,label:x}):x)},b=function(){if(C.current){var _=f.current,S=C.current.firstChild;if(S){var P=w.current.scrollHeight>w.current.clientHeight,D=[],x=D;D=[Bm(S.children[0]),Bm(S.children[1])],(x[0]!==D[0]||x[1]!==D[1])&&(g.current.style.width=D[0]+"px",E.current.style.width=D[1]+"px"),P?(MF(_,"rbc-header-overflowing"),_.style.marginRight=Zv()+"px"):LF(_,"rbc-header-overflowing")}}},k=l.messages,N=l.add(r,a,"day"),O=l.range(r,N,"day");return i=i.filter(function(I){return Kl(I,l.startOf(r,"day"),l.endOf(N,"day"),e,l)}),i.sort(function(I,_){return+e.start(I)-+e.start(_)}),v.createElement("div",{className:"rbc-agenda-view"},i.length!==0?v.createElement(v.Fragment,null,v.createElement("table",{ref:f,className:"rbc-agenda-table"},v.createElement("thead",null,v.createElement("tr",null,v.createElement("th",{className:"rbc-header",ref:g},k.date),v.createElement("th",{className:"rbc-header",ref:E},k.time),v.createElement("th",{className:"rbc-header"},k.event)))),v.createElement("div",{className:"rbc-agenda-content",ref:w},v.createElement("table",{className:"rbc-agenda-table"},v.createElement("tbody",{ref:C},O.map(function(I,_){return T(I,i,_)}))))):v.createElement("span",{className:"rbc-agenda-empty"},k.noEventsInRange))}Xd.range=function(t,e){var n=e.length,r=n===void 0?Qd:n,i=e.localizer,s=i.add(t,r,"day");return{start:t,end:s}};Xd.navigate=function(t,e,n){var r=n.length,i=r===void 0?Qd:r,s=n.localizer;switch(e){case Yt.PREVIOUS:return s.add(t,-i,"day");case Yt.NEXT:return s.add(t,i,"day");default:return t}};Xd.title=function(t,e){var n=e.length,r=n===void 0?Qd:n,i=e.localizer,s=i.add(t,r,"day");return i.format({start:t,end:s},"agendaHeaderFormat")};var Bc=ji(ji(ji(ji(ji({},$t.MONTH,Kd),$t.WEEK,Ti),$t.WORK_WEEK,Su),$t.DAY,Yd),$t.AGENDA,Xd),VY=["action","date","today"];function FY(t,e){var n=e.action,r=e.date,i=e.today,s=ar(e,VY);switch(t=typeof t=="string"?Bc[t]:t,n){case Yt.TODAY:r=i||new Date;break;case Yt.DATE:break;default:Ll(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,s)}return r}function UY(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&Ir(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var ur=function(e){return function(n){return UY(n,e)}},jY=["view","date","getNow","onNavigate"],zY=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function uC(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=us(r[n],2),s=i[0],o=i[1];o&&e.push(s)}return e}function BY(t,e){var n=e.views,r=uC(n);return r.indexOf(t)!==-1}var cC=function(t){function e(){var n;st(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nt(this,e,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?wK(o,function(a,l){return a[l]=Bc[l]},{}):Ir(o)==="object"?w8(o,function(a,l){return a===!0?Bc[l]:a}):Bc},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,c=a.drilldownView,h=a.getDrilldownView;return h?h(o,l,Object.keys(n.getViews())):c},n.handleRangeChange=function(o,a,l){var c=n.props,h=c.onRangeChange,d=c.localizer;h&&a.range&&h(a.range(o,{localizer:d}),l)},n.handleNavigate=function(o,a){var l=n.props,c=l.view,h=l.date,d=l.getNow,f=l.onNavigate,g=ar(l,jY),E=n.getView(),w=d();h=FY(E,we(we({},g),{},{action:o,date:a||h||w,today:w})),f(h,c,o),n.handleRangeChange(h,E)},n.handleViewChange=function(o){o!==n.props.view&&BY(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];Pe(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){Pe(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(Yt.DATE,o)},n.state={context:e.getContext(n.props)},n}return Ot(e,t),ot(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,h=r.className,d=r.elementProps,f=r.date,g=r.getNow,E=r.length,w=r.showMultiDayTimes,C=r.onShowMore,T=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var y=ar(r,zY);f=f||g();var b=this.getView(),k=this.state.context,N=k.accessors,O=k.components,I=k.getters,_=k.localizer,S=k.viewNames,P=O.toolbar||qK,D=b.title(f,{localizer:_,length:E});return v.createElement("div",Object.assign({},d,{className:Ue(h,"rbc-calendar",y.rtl&&"rbc-rtl"),style:c}),s&&v.createElement(P,{date:f,view:i,views:S,label:D,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),v.createElement(b,Object.assign({},y,{events:o,backgroundEvents:a,date:f,getNow:g,length:E,localizer:_,getters:I,components:O,accessors:N,showMultiDayTimes:w,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:C,doShowMoreDrillDown:T,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,h=r.resourceIdAccessor,d=r.resourceTitleAccessor,f=r.eventIdAccessor,g=r.eventPropGetter,E=r.backgroundEventPropGetter,w=r.slotPropGetter,C=r.slotGroupPropGetter,T=r.dayPropGetter,y=r.view,b=r.views,k=r.localizer,N=r.culture,O=r.messages,I=O===void 0?{}:O,_=r.components,S=_===void 0?{}:_,P=r.formats,D=P===void 0?{}:P,x=uC(b),R=KK(I);return{viewNames:x,localizer:HK(k,N,D,R),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return E&&E.apply(void 0,arguments)||{}},slotProp:function(){return w&&w.apply(void 0,arguments)||{}},slotGroupProp:function(){return C&&C.apply(void 0,arguments)||{}},dayProp:function(){return T&&T.apply(void 0,arguments)||{}}},components:d8(S[y]||{},oK(S,x),{eventWrapper:jn,backgroundEventWrapper:jn,eventContainerWrapper:jn,dateCellWrapper:jn,weekWrapper:jn,timeSlotWrapper:jn,timeGutterWrapper:jn,timeIndicatorWrapper:jn}),accessors:{start:ur(i),end:ur(s),allDay:ur(o),tooltip:ur(a),title:ur(l),resource:ur(c),resourceId:ur(h),resourceTitle:ur(d),eventId:ur(f)}}}}])}(v.Component);cC.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:$t.MONTH,views:[$t.MONTH,$t.WEEK,$t.DAY,$t.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:$t.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var WY=UA(cC,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),HY=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"P",n),"  ").concat(r.format(s,"P",n))},hp=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"p",n),"  ").concat(r.format(s,"p",n))},qY=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n),"  ")},GY=function(e,n,r){var i=e.end;return"  ".concat(r.format(i,"h:mma",n))},KY=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"MMMM dd",n),"  ").concat(r.format(s,Wo(i,s,"month")?"dd":"MMMM dd",n))},YY={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:hp,eventTimeRangeFormat:hp,eventTimeRangeStartFormat:qY,eventTimeRangeEndFormat:GY,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:KY,agendaHeaderFormat:HY,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:hp},QY=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,s=e.locales;return new WK({formats:YY,firstOfWeek:function(a){return r(n(new Date,{locale:s[a]}))},format:function(a,l,c){return i(new Date(a),l,{locale:s[c]})}})};const hC=6048e5,XY=864e5,JY=6e4,ZY=36e5,eQ=1e3,k1=Symbol.for("constructDateFrom");function ft(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&k1 in t?t[k1](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ke(t,e){return ft(e||t,t)}function dC(t,e,n){const r=Ke(t,n==null?void 0:n.in);return isNaN(e)?ft((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}let tQ={};function ta(){return tQ}function Pr(t,e){var a,l,c,h;const n=ta(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,i=Ke(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function xo(t,e){return Pr(t,{...e,weekStartsOn:1})}function fC(t,e){const n=Ke(t,e==null?void 0:e.in),r=n.getFullYear(),i=ft(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=xo(i),o=ft(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=xo(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Hh(t){const e=Ke(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function nQ(t,...e){const n=ft.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function D1(t,e){const n=Ke(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function rQ(t,e,n){const[r,i]=nQ(n==null?void 0:n.in,t,e),s=D1(r),o=D1(i),a=+s-Hh(s),l=+o-Hh(o);return Math.round((a-l)/XY)}function iQ(t,e){const n=fC(t,e),r=ft((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xo(r)}function sQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oQ(t){return!(!sQ(t)&&typeof t!="number"||isNaN(+Ke(t)))}function aQ(t,e){const n=Ke(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const lQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uQ=(t,e,n)=>{let r;const i=lQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function co(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fQ={date:co({formats:cQ,defaultWidth:"full"}),time:co({formats:hQ,defaultWidth:"full"}),dateTime:co({formats:dQ,defaultWidth:"full"})},pQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mQ=(t,e,n,r)=>pQ[t];function Wn(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const gQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_Q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TQ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SQ={ordinalNumber:TQ,era:Wn({values:gQ,defaultWidth:"wide"}),quarter:Wn({values:vQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wn({values:yQ,defaultWidth:"wide"}),day:Wn({values:wQ,defaultWidth:"wide"}),dayPeriod:Wn({values:_Q,defaultWidth:"wide",formattingValues:EQ,defaultFormattingWidth:"wide"})};function Hn(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?IQ(a,d=>d.test(o)):bQ(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function bQ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IQ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function pC(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const AQ=/^(\d+)(th|st|nd|rd)?/i,PQ=/\d+/i,CQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RQ={any:[/^b/i,/^(a|c)/i]},kQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DQ={any:[/1/i,/2/i,/3/i,/4/i]},xQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Q={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VQ={ordinalNumber:pC({matchPattern:AQ,parsePattern:PQ,valueCallback:t=>parseInt(t,10)}),era:Hn({matchPatterns:CQ,defaultMatchWidth:"wide",parsePatterns:RQ,defaultParseWidth:"any"}),quarter:Hn({matchPatterns:kQ,defaultMatchWidth:"wide",parsePatterns:DQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hn({matchPatterns:xQ,defaultMatchWidth:"wide",parsePatterns:NQ,defaultParseWidth:"any"}),day:Hn({matchPatterns:OQ,defaultMatchWidth:"wide",parsePatterns:MQ,defaultParseWidth:"any"}),dayPeriod:Hn({matchPatterns:LQ,defaultMatchWidth:"any",parsePatterns:$Q,defaultParseWidth:"any"})},mC={code:"en-US",formatDistance:uQ,formatLong:fQ,formatRelative:mQ,localize:SQ,match:VQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FQ(t,e){const n=Ke(t,e==null?void 0:e.in);return rQ(n,aQ(n))+1}function gC(t,e){const n=Ke(t,e==null?void 0:e.in),r=+xo(n)-+iQ(n);return Math.round(r/hC)+1}function Sy(t,e){var h,d,f,g;const n=Ke(t,e==null?void 0:e.in),r=n.getFullYear(),i=ta(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=ft((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Pr(o,e),l=ft((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Pr(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function UQ(t,e){var a,l,c,h;const n=ta(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,i=Sy(t,e),s=ft((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Pr(s,e)}function vC(t,e){const n=Ke(t,e==null?void 0:e.in),r=+Pr(n,e)-+UQ(n,e);return Math.round(r/hC)+1}function ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ur={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ge(n+1,2)},d(t,e){return ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ge(t.getHours()%12||12,e.length)},H(t,e){return ge(t.getHours(),e.length)},m(t,e){return ge(t.getMinutes(),e.length)},s(t,e){return ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ge(i,e.length)}},Ns={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ur.y(t,e)},Y:function(t,e,n,r){const i=Sy(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ge(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ge(s,e.length)},R:function(t,e){const n=fC(t);return ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ur.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=vC(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ge(i,e.length)},I:function(t,e,n){const r=gC(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ur.d(t,e)},D:function(t,e,n){const r=FQ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ge(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ge(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ge(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ns.noon:r===0?i=Ns.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ns.evening:r>=12?i=Ns.afternoon:r>=4?i=Ns.morning:i=Ns.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ur.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ur.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ur.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ur.s(t,e)},S:function(t,e){return Ur.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return O1(r);case"XXXX":case"XX":return Ui(r);case"XXXXX":case"XXX":default:return Ui(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return O1(r);case"xxxx":case"xx":return Ui(r);case"xxxxx":case"xxx":default:return Ui(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N1(r,":");case"OOOO":default:return"GMT"+Ui(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N1(r,":");case"zzzz":default:return"GMT"+Ui(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ge(r,e.length)},T:function(t,e,n){return ge(+t,e.length)}};function N1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ge(s,2)}function O1(t,e){return t%60===0?(t>0?"-":"+")+ge(Math.abs(t)/60,2):Ui(t,e)}function Ui(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ge(Math.trunc(r/60),2),s=ge(r%60,2);return n+i+e+s}const M1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jQ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return M1(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",M1(r,e)).replace("{{time}}",yC(i,e))},Km={p:yC,P:jQ},zQ=/^D+$/,BQ=/^Y+$/,WQ=["D","DD","YY","YYYY"];function wC(t){return zQ.test(t)}function _C(t){return BQ.test(t)}function Ym(t,e,n){const r=HQ(t,e,n);if(console.warn(r),WQ.includes(t))throw new RangeError(r)}function HQ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KQ=/^'([^]*?)'?$/,YQ=/''/g,QQ=/[a-zA-Z]/;function XQ(t,e,n){var h,d,f,g,E,w,C,T;const r=ta(),i=(n==null?void 0:n.locale)??r.locale??mC,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((T=(C=r.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??0,a=Ke(t,n==null?void 0:n.in);if(!oQ(a))throw new RangeError("Invalid time value");let l=e.match(GQ).map(y=>{const b=y[0];if(b==="p"||b==="P"){const k=Km[b];return k(y,i.formatLong)}return y}).join("").match(qQ).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:JQ(y)};if(x1[b])return{isToken:!0,value:y};if(b.match(QQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&_C(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&wC(b))&&Ym(b,e,String(t));const k=x1[b[0]];return k(a,b,i.localize,c)}).join("")}function JQ(t){const e=t.match(KQ);return e?e[1].replace(YQ,"'"):t}function ZQ(t,e){return Ke(t,e==null?void 0:e.in).getDay()}function eX(){return Object.assign({},ta())}function tX(t,e){const n=Ke(t,e==null?void 0:e.in).getDay();return n===0?7:n}function nX(t,e){const n=rX(e)?new e(0):ft(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function rX(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const iX=10;class EC{constructor(){W(this,"subPriority",0)}validate(e,n){return!0}}class sX extends EC{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class oX extends EC{constructor(n,r){super();W(this,"priority",iX);W(this,"subPriority",-1);this.context=n||(i=>ft(r,i))}set(n,r){return r.timestampIsSet?n:ft(n,nX(n,this.context))}}class pe{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new sX(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class aX extends pe{constructor(){super(...arguments);W(this,"priority",140);W(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const qe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},qn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ge(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ne(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Gn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*ZY+s*JY+o*eQ),rest:e.slice(n[0].length)}}function TC(t){return Ne(qe.anyDigitsSigned,t)}function je(t,e){switch(t){case 1:return Ne(qe.singleDigit,e);case 2:return Ne(qe.twoDigits,e);case 3:return Ne(qe.threeDigits,e);case 4:return Ne(qe.fourDigits,e);default:return Ne(new RegExp("^\\d{1,"+t+"}"),e)}}function qh(t,e){switch(t){case 1:return Ne(qe.singleDigitSigned,e);case 2:return Ne(qe.twoDigitsSigned,e);case 3:return Ne(qe.threeDigitsSigned,e);case 4:return Ne(qe.fourDigitsSigned,e);default:return Ne(new RegExp("^-?\\d{1,"+t+"}"),e)}}function by(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SC(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function bC(t){return t%400===0||t%4===0&&t%100!==0}class lX extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ge(je(4,n),s);case"yo":return Ge(i.ordinalNumber(n,{unit:"year"}),s);default:return Ge(je(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=SC(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class uX extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ge(je(4,n),s);case"Yo":return Ge(i.ordinalNumber(n,{unit:"year"}),s);default:return Ge(je(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Sy(n,s);if(i.isTwoDigitYear){const l=SC(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Pr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Pr(n,s)}}class cX extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return qh(r==="R"?4:r.length,n)}set(n,r,i){const s=ft(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),xo(s)}}class hX extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return qh(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class dX extends pe{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return je(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class fX extends pe{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return je(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class pX extends pe{constructor(){super(...arguments);W(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);W(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Ge(Ne(qe.month,n),s);case"MM":return Ge(je(2,n),s);case"Mo":return Ge(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class mX extends pe{constructor(){super(...arguments);W(this,"priority",110);W(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Ge(Ne(qe.month,n),s);case"LL":return Ge(je(2,n),s);case"Lo":return Ge(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function gX(t,e,n){const r=Ke(t,n==null?void 0:n.in),i=vC(r,n)-e;return r.setDate(r.getDate()-i*7),Ke(r,n==null?void 0:n.in)}class vX extends pe{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Ne(qe.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Pr(gX(n,i,s),s)}}function yX(t,e,n){const r=Ke(t,n==null?void 0:n.in),i=gC(r,n)-e;return r.setDate(r.getDate()-i*7),r}class wX extends pe{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Ne(qe.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return xo(yX(n,i))}}const _X=[31,28,31,30,31,30,31,31,30,31,30,31],EX=[31,29,31,30,31,30,31,31,30,31,30,31];class TX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"subPriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Ne(qe.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return je(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=bC(i),o=n.getMonth();return s?r>=1&&r<=EX[o]:r>=1&&r<=_X[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class SX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"subpriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Ne(qe.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return je(r.length,n)}}validate(n,r){const i=n.getFullYear();return bC(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Iy(t,e,n){var d,f,g,E;const r=ta(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((E=(g=r.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,s=Ke(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,c=7-i,h=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return dC(s,h,n)}class bX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Iy(n,i,s),n.setHours(0,0,0,0),n}}class IX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ge(je(r.length,n),o);case"eo":return Ge(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Iy(n,i,s),n.setHours(0,0,0,0),n}}class AX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ge(je(r.length,n),o);case"co":return Ge(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Iy(n,i,s),n.setHours(0,0,0,0),n}}function PX(t,e,n){const r=Ke(t,n==null?void 0:n.in),i=tX(r,n),s=e-i;return dC(r,s,n)}class CX extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return je(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Ge(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ge(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ge(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ge(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=PX(n,i),n.setHours(0,0,0,0),n}}class RX extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(by(i),0,0,0),n}}class kX extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(by(i),0,0,0),n}}class DX extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(by(i),0,0,0),n}}class xX extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Ne(qe.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class NX extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Ne(qe.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class OX extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Ne(qe.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class MX extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Ne(qe.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return je(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class LX extends pe{constructor(){super(...arguments);W(this,"priority",60);W(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Ne(qe.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class $X extends pe{constructor(){super(...arguments);W(this,"priority",50);W(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Ne(qe.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return je(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class VX extends pe{constructor(){super(...arguments);W(this,"priority",30);W(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Ge(je(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class FX extends pe{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Gn(qn.basicOptionalMinutes,n);case"XX":return Gn(qn.basic,n);case"XXXX":return Gn(qn.basicOptionalSeconds,n);case"XXXXX":return Gn(qn.extendedOptionalSeconds,n);case"XXX":default:return Gn(qn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-Hh(n)-i)}}class UX extends pe{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Gn(qn.basicOptionalMinutes,n);case"xx":return Gn(qn.basic,n);case"xxxx":return Gn(qn.basicOptionalSeconds,n);case"xxxxx":return Gn(qn.extendedOptionalSeconds,n);case"xxx":default:return Gn(qn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ft(n,n.getTime()-Hh(n)-i)}}class jX extends pe{constructor(){super(...arguments);W(this,"priority",40);W(this,"incompatibleTokens","*")}parse(n){return TC(n)}set(n,r,i){return[ft(n,i*1e3),{timestampIsSet:!0}]}}class zX extends pe{constructor(){super(...arguments);W(this,"priority",20);W(this,"incompatibleTokens","*")}parse(n){return TC(n)}set(n,r,i){return[ft(n,i),{timestampIsSet:!0}]}}const BX={G:new aX,y:new lX,Y:new uX,R:new cX,u:new hX,Q:new dX,q:new fX,M:new pX,L:new mX,w:new vX,I:new wX,d:new TX,D:new SX,E:new bX,e:new IX,c:new AX,i:new CX,a:new RX,b:new kX,B:new DX,h:new xX,H:new NX,K:new OX,k:new MX,m:new LX,s:new $X,S:new VX,X:new FX,x:new UX,t:new jX,T:new zX},WX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qX=/^'([^]*?)'?$/,GX=/''/g,KX=/\S/,YX=/[a-zA-Z]/;function QX(t,e,n,r){var C,T,y,b,k,N,O,I;const i=()=>ft((r==null?void 0:r.in)||n,NaN),s=eX(),o=(r==null?void 0:r.locale)??s.locale??mC,a=(r==null?void 0:r.firstWeekContainsDate)??((T=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:T.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((N=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:N.weekStartsOn)??s.weekStartsOn??((I=(O=s.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0;if(!e)return t?i():Ke(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:o},h=[new oX(r==null?void 0:r.in,n)],d=e.match(HX).map(_=>{const S=_[0];if(S in Km){const P=Km[S];return P(_,o.formatLong)}return _}).join("").match(WX),f=[];for(let _ of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&_C(_)&&Ym(_,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&wC(_)&&Ym(_,e,t);const S=_[0],P=BX[S];if(P){const{incompatibleTokens:D}=P;if(Array.isArray(D)){const R=f.find(H=>D.includes(H.token)||H.token===S);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${_}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);f.push({token:S,fullToken:_});const x=P.run(t,_,o.match,c);if(!x)return i();h.push(x.setter),t=x.rest}else{if(S.match(YX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(_==="''"?_="'":S==="'"&&(_=XX(_)),t.indexOf(_)===0)t=t.slice(_.length);else return i()}}if(t.length>0&&KX.test(t))return i();const g=h.map(_=>_.priority).sort((_,S)=>S-_).filter((_,S,P)=>P.indexOf(_)===S).map(_=>h.filter(S=>S.priority===_).sort((S,P)=>P.subPriority-S.subPriority)).map(_=>_[0]);let E=Ke(n,r==null?void 0:r.in);if(isNaN(+E))return i();const w={};for(const _ of g){if(!_.validate(E,c))return i();const S=_.set(E,w,c);Array.isArray(S)?(E=S[0],Object.assign(w,S[1])):E=S}return E}function XX(t){return t.match(qX)[1].replace(GX,"'")}const JX={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},ZX=(t,e,n)=>{let r;const i=JX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},eJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},tJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},nJ={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rJ={date:co({formats:eJ,defaultWidth:"full"}),time:co({formats:tJ,defaultWidth:"full"}),dateTime:co({formats:nJ,defaultWidth:"full"})},iJ={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},sJ={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},oJ=(t,e,n,r)=>e.getHours()!==1?sJ[t]:iJ[t],aJ={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},lJ={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},uJ={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},cJ={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},hJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},dJ={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},fJ=(t,e)=>Number(t)+"",pJ={ordinalNumber:fJ,era:Wn({values:aJ,defaultWidth:"wide"}),quarter:Wn({values:lJ,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Wn({values:uJ,defaultWidth:"wide"}),day:Wn({values:cJ,defaultWidth:"wide"}),dayPeriod:Wn({values:hJ,defaultWidth:"wide",formattingValues:dJ,defaultFormattingWidth:"wide"})},mJ=/^(\d+)()?/i,gJ=/\d+/i,vJ={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},yJ={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},wJ={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_J={any:[/1/i,/2/i,/3/i,/4/i]},EJ={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},TJ={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},SJ={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},bJ={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},IJ={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},AJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},PJ={ordinalNumber:pC({matchPattern:mJ,parsePattern:gJ,valueCallback:function(t){return parseInt(t,10)}}),era:Hn({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any"}),quarter:Hn({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:_J,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hn({matchPatterns:EJ,defaultMatchWidth:"wide",parsePatterns:TJ,defaultParseWidth:"any"}),day:Hn({matchPatterns:SJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),dayPeriod:Hn({matchPatterns:IJ,defaultMatchWidth:"any",parsePatterns:AJ,defaultParseWidth:"any"})},CJ={code:"es",formatDistance:ZX,formatLong:rJ,formatRelative:oJ,localize:pJ,match:PJ,options:{weekStartsOn:1,firstWeekContainsDate:1}};const RJ=QY({format:XQ,parse:QX,startOfWeek:Pr,getDay:ZQ,locales:{es:CJ}}),IC=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!1),[i,s]=j.useState({title:"",start:new Date,end:new Date,department:""}),{userRole:o,currentUser:a}=du();j.useEffect(()=>{(async()=>{let g;if(o===tn.SUPER_LEADER)g=await ct(He(Ae,"events"));else{const E=await ct(Ki(He(Ae,"users"),Yi("uid","==",a.uid)));if(!E.empty){const w=E.docs[0].data().department;g=await ct(Ki(He(Ae,"events"),Yi("department","==",w)))}}g&&e(g.docs.map(E=>({id:E.id,...E.data(),start:E.data().start.toDate(),end:E.data().end.toDate()})))})()},[o,a]);const l=({start:f,end:g})=>{(o===tn.SUPER_LEADER||o===tn.LEADER)&&(s({...i,start:f,end:g}),r(!0))},c=async f=>{f.preventDefault();let g=i.department;if(o===tn.LEADER){const w=await ct(Ki(He(Ae,"users"),Yi("uid","==",a.uid)));w.empty||(g=w.docs[0].data().department)}await Mv(He(Ae,"events"),{title:i.title,start:i.start,end:i.end,department:g}),r(!1),s({title:"",start:new Date,end:new Date,department:""});const E=await ct(He(Ae,"events"));e(E.docs.map(w=>({id:w.id,...w.data(),start:w.data().start.toDate(),end:w.data().end.toDate()})))},h=async f=>{(o===tn.SUPER_LEADER||o===tn.LEADER&&f.department===a.department)&&(await Ov(Pd(Ae,"events",f.id)),e(t.filter(g=>g.id!==f.id)))},d=f=>{const g=kn[f.department];return{style:{backgroundColor:g?g.color.replace("bg-","").replace("-500",""):"gray",borderRadius:"5px",opacity:.8,color:"white",border:"0px",display:"block"}}};return v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h2",{className:"text-2xl font-bold mb-6"},"Calendario"),v.createElement(WY,{localizer:RJ,events:t,startAccessor:"start",endAccessor:"end",style:{height:500},onSelectSlot:l,selectable:!0,onSelectEvent:h,eventPropGetter:d}),n&&v.createElement("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center"},v.createElement("div",{className:"bg-white p-6 rounded shadow w-full max-w-md"},v.createElement("h3",{className:"text-lg font-bold mb-4"},"Nuevo Evento"),v.createElement("form",{onSubmit:c},v.createElement("input",{type:"text",placeholder:"Ttulo",value:i.title,onChange:f=>s({...i,title:f.target.value}),className:"w-full px-3 py-2 border rounded mb-4",required:!0}),o===tn.SUPER_LEADER&&v.createElement("select",{value:i.department,onChange:f=>s({...i,department:f.target.value}),className:"w-full px-3 py-2 border rounded mb-4",required:!0},v.createElement("option",{value:""},"Seleccionar Departamento"),Object.keys(kn).map(f=>v.createElement("option",{key:f,value:f},kn[f].name))),v.createElement("div",{className:"flex space-x-4"},v.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Crear"),v.createElement("button",{type:"button",onClick:()=>r(!1),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"},"Cancelar"))))))},AC=({title:t,userRole:e})=>{const n=async()=>{await Rb(Qi),window.location.reload()};return v.createElement("header",{className:"bg-white shadow-sm border-b border-gray-300"},v.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},v.createElement("div",{className:"flex justify-between items-center h-16"},v.createElement("div",{className:"flex items-center space-x-4"},v.createElement("img",{src:"/logo.png",alt:"Logo Iglesia",className:"h-10 w-10"}),v.createElement("h1",{className:"text-2xl font-semibold text-gray-900"},t)),v.createElement("div",{className:"flex items-center space-x-4"},v.createElement("span",{className:"text-gray-700 text-sm font-medium capitalize"},e.replace("_"," ")),v.createElement("button",{onClick:n,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition","aria-label":"Cerrar sesin",title:"Cerrar sesin"},"Cerrar sesin")))))},kJ=()=>{const[t,e]=j.useState("overview"),{userRole:n}=du();return v.createElement("div",{className:"min-h-screen bg-gray-100"},v.createElement(AC,{title:"Dashboard Super Lder",userRole:n||"super_leader"}),v.createElement("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},v.createElement("nav",{className:"flex space-x-4 mb-6"},v.createElement("button",{onClick:()=>e("overview"),className:"text-gray-500 hover:text-gray-700"},"Resumen"),v.createElement("button",{onClick:()=>e("users"),className:"text-gray-500 hover:text-gray-700"},"Usuarios"),v.createElement("button",{onClick:()=>e("announcements"),className:"text-gray-500 hover:text-gray-700"},"Anuncios"),v.createElement("button",{onClick:()=>e("stats"),className:"text-gray-500 hover:text-gray-700"},"Estadsticas"),v.createElement("button",{onClick:()=>e("calendar"),className:"text-gray-500 hover:text-gray-700"},"Calendario")),v.createElement(j.Suspense,{fallback:v.createElement("div",{className:"flex items-center justify-center min-h-64"},"Cargando...")},t==="overview"&&v.createElement(DJ,null),t==="users"&&v.createElement(EA,null),t==="announcements"&&v.createElement(TA,null),t==="stats"&&v.createElement(iV,null),t==="calendar"&&v.createElement(IC,null))))},DJ=()=>{const[t,e]=j.useState({});return j.useEffect(()=>{(async()=>{const r=await ct(He(Ae,"users")),i=await ct(He(Ae,"brothers")),s=await ct(He(Ae,"events"));e({users:r.size,brothers:i.size,events:s.size})})()},[]),v.createElement("div",{className:"space-y-8"},v.createElement("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8"},v.createElement("div",{className:"flex items-center justify-between mb-8"},v.createElement("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}," Resumen General"),v.createElement("div",{className:"text-right"},v.createElement("p",{className:"text-sm text-gray-500"},"ltima actualizacin"),v.createElement("p",{className:"text-xs text-gray-400"},new Date().toLocaleTimeString()))),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},v.createElement("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1"},v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",null,v.createElement("p",{className:"text-blue-200 text-sm font-medium uppercase tracking-wide"},"Usuarios Totales"),v.createElement("p",{className:"text-4xl font-bold mt-2"},t.users||0)),v.createElement("div",{className:"bg-white/20 p-4 rounded-xl"},v.createElement("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"}))))),v.createElement("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1"},v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",null,v.createElement("p",{className:"text-green-200 text-sm font-medium uppercase tracking-wide"},"Hermanos Registrados"),v.createElement("p",{className:"text-4xl font-bold mt-2"},t.brothers||0)),v.createElement("div",{className:"bg-white/20 p-4 rounded-xl"},v.createElement("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))))),v.createElement("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 p-8 rounded-2xl text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1"},v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",null,v.createElement("p",{className:"text-purple-200 text-sm font-medium uppercase tracking-wide"},"Eventos Totales"),v.createElement("p",{className:"text-4xl font-bold mt-2"},t.events||0)),v.createElement("div",{className:"bg-white/20 p-4 rounded-xl"},v.createElement("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))))),v.createElement("div",{className:"bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 p-8"},v.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center"},v.createElement("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),"Actividad Reciente"),v.createElement("div",{className:"space-y-6"},v.createElement("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border border-blue-200"},v.createElement("div",{className:"flex-shrink-0"},v.createElement("div",{className:"h-12 w-12 bg-blue-500 rounded-full flex items-center justify-center shadow-lg"},v.createElement("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})))),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Nuevo usuario registrado en el sistema"),v.createElement("p",{className:"text-sm text-gray-600"},"Hace 2 horas  Departamento de Jvenes")),v.createElement("div",{className:"text-right"},v.createElement("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},"Usuario"))),v.createElement("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200"},v.createElement("div",{className:"flex-shrink-0"},v.createElement("div",{className:"h-12 w-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg"},v.createElement("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})))),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Evento de oracin completado exitosamente"),v.createElement("p",{className:"text-sm text-gray-600"},"Hace 1 da  45 participantes")),v.createElement("div",{className:"text-right"},v.createElement("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Evento"))),v.createElement("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border border-purple-200"},v.createElement("div",{className:"flex-shrink-0"},v.createElement("div",{className:"h-12 w-12 bg-purple-500 rounded-full flex items-center justify-center shadow-lg"},v.createElement("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})))),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("p",{className:"text-sm font-semibold text-gray-900"},"Nuevo anuncio publicado"),v.createElement("p",{className:"text-sm text-gray-600"},"Hace 3 das  Reunin general este domingo")),v.createElement("div",{className:"text-right"},v.createElement("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},"Anuncio"))))))},xJ=({department:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState({name:"",email:"",phone:""}),[s,o]=j.useState(!1),a=j.useCallback(async()=>{if(t)try{const d=(await ct(Ki(He(Ae,"brothers"),Yi("department","==",t)))).docs.map(f=>({id:f.id,...f.data()}));n(d),localStorage.setItem(`brothers_${t}`,JSON.stringify(d))}catch(h){console.error("Error fetching brothers:",h);const d=JSON.parse(localStorage.getItem(`brothers_${t}`)||"[]");n(d)}},[t]);j.useEffect(()=>{a()},[a]);const l=async h=>{h.preventDefault(),o(!0);try{const d={...r,department:t,registeredAt:new Date},f=await Mv(He(Ae,"brothers"),d);i({name:"",email:"",phone:""}),await a()}catch(d){console.error("Error registrando hermano:",d);const f={...r,department:t,registeredAt:new Date,id:Date.now().toString()},g=[...e,f];n(g),localStorage.setItem(`brothers_${t}`,JSON.stringify(g)),i({name:"",email:"",phone:""})}finally{o(!1)}},c=j.useMemo(()=>e.length,[e]);return v.createElement("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-6"},v.createElement("div",{className:"max-w-4xl mx-auto"},v.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8"},v.createElement("div",{className:"flex items-center justify-between mb-6"},v.createElement("h2",{className:"text-3xl font-bold text-gray-800"},"Registro de Hermanos"),v.createElement("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold"},c," Hermanos")),v.createElement("form",{onSubmit:l,className:"mb-8"},v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},v.createElement("div",{className:"space-y-2"},v.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre"),v.createElement("input",{type:"text",placeholder:"Ingresa el nombre",value:r.name,onChange:h=>i({...r,name:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",required:!0})),v.createElement("div",{className:"space-y-2"},v.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Correo Electrnico"),v.createElement("input",{type:"email",placeholder:"correo@ejemplo.com",value:r.email,onChange:h=>i({...r,email:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})),v.createElement("div",{className:"space-y-2"},v.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Telfono"),v.createElement("input",{type:"tel",placeholder:"+1234567890",value:r.phone,onChange:h=>i({...r,phone:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}))),v.createElement("button",{type:"submit",disabled:s,className:"mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},s?v.createElement("div",{className:"flex items-center"},v.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},v.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Registrando..."):"Registrar Hermano")),v.createElement("div",{className:"space-y-4"},e.length===0?v.createElement("div",{className:"text-center py-12"},v.createElement("div",{className:"text-gray-400 mb-4"},v.createElement("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),v.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No hay hermanos registrados"),v.createElement("p",{className:"text-gray-500"},"Registra el primer hermano usando el formulario arriba.")):v.createElement("div",{className:"grid gap-4"},e.map(h=>{var d;return v.createElement("div",{key:h.id,className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all duration-200"},v.createElement("div",{className:"flex items-center justify-between"},v.createElement("div",{className:"flex-1"},v.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},h.name),v.createElement("div",{className:"space-y-1 text-sm text-gray-600"},h.email&&v.createElement("div",{className:"flex items-center"},v.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),h.email),h.phone&&v.createElement("div",{className:"flex items-center"},v.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),h.phone))),v.createElement("div",{className:"text-right"},v.createElement("div",{className:"text-xs text-gray-500 mb-1"},"Registrado"),v.createElement("div",{className:"text-sm font-medium text-gray-900"},(d=h.registeredAt)!=null&&d.toDate?h.registeredAt.toDate().toLocaleDateString():new Date(h.registeredAt).toLocaleDateString()))))}))))))},NJ=()=>{var o;const[t,e]=j.useState("overview"),{currentUser:n,userRole:r}=du(),[i,s]=j.useState("");return j.useEffect(()=>{(async()=>{try{const l=await ct(Ki(He(Ae,"users"),Yi("uid","==",n.uid)));l.empty||s(l.docs[0].data().department)}catch(l){console.error("Error fetching department:",l)}})()},[n]),v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50"},v.createElement(AC,{title:`Dashboard Lder - ${((o=kn[i])==null?void 0:o.name)||"Departamento"}`,userRole:r||"leader"}),v.createElement("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},v.createElement("nav",{className:"flex flex-wrap gap-4 mb-8 bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20"},v.createElement("button",{onClick:()=>e("overview"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="overview"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`}," Resumen General"),v.createElement("button",{onClick:()=>e("brothers"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="brothers"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`}," Registro de Hermanos"),v.createElement("button",{onClick:()=>e("users"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="users"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`}," Gestin de Usuarios"),v.createElement("button",{onClick:()=>e("calendar"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="calendar"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`}," Calendario de Eventos"),v.createElement("button",{onClick:()=>e("announcements"),className:`px-8 py-3 rounded-xl font-medium transition-all duration-300 ${t==="announcements"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-blue-600 hover:shadow-md"}`}," Anuncios del Departamento")),v.createElement("div",{className:"transition-all duration-500 ease-in-out"},t==="overview"&&v.createElement(OJ,{department:i}),t==="brothers"&&v.createElement(xJ,{department:i}),t==="users"&&v.createElement(EA,null),t==="calendar"&&v.createElement(IC,null),t==="announcements"&&v.createElement(TA,{readOnly:!0}))))},OJ=({department:t})=>{const[e,n]=j.useState({brothers:0,events:0});return j.useEffect(()=>{t&&(async()=>{const i=await ct(Ki(He(Ae,"brothers"),Yi("department","==",t))),s=await ct(Ki(He(Ae,"events"),Yi("department","==",t)));n({brothers:i.size,events:s.size})})()},[t]),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h3",{className:"text-lg font-medium"},"Hermanos Registrados"),v.createElement("p",{className:"text-3xl font-bold"},e.brothers)),v.createElement("div",{className:"bg-white p-6 rounded shadow"},v.createElement("h3",{className:"text-lg font-medium"},"Eventos"),v.createElement("p",{className:"text-3xl font-bold"},e.events)))};function MJ(){const{currentUser:t,userRole:e,loading:n}=du();if(console.log("Current User:",t),console.log("User Role:",e),console.log("Loading:",n),n)return v.createElement("div",{className:"flex items-center justify-center min-h-screen"},"Cargando...");if(!t)return v.createElement(j$,null);if(e===tn.SUPER_LEADER)return v.createElement(kJ,null);if(e===tn.LEADER||e===tn.ADMIN)return v.createElement(NJ,null);const r=async()=>{await Rb(Qi)};return v.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100"},v.createElement("div",{className:"bg-white p-8 rounded shadow-md text-center"},v.createElement("div",{className:"text-red-500 text-lg font-bold mb-4"},"No tienes permisos para acceder."),v.createElement("div",{className:"text-gray-700 mb-4"},"Rol: ",e),v.createElement("button",{onClick:r,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Cerrar Sesin"),v.createElement("button",{onClick:()=>window.location.reload(),className:"mt-4 ml-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Recargar Pgina")))}function LJ(){return v.createElement(U$,null,v.createElement(MJ,null))}dp.createRoot(document.getElementById("root")).render(v.createElement(v.StrictMode,null,v.createElement(LJ,null)));
